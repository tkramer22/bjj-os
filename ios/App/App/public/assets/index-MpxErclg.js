var RS=e=>{throw TypeError(e)};var Bv=(e,t,r)=>t.has(e)||RS("Cannot "+r);var U=(e,t,r)=>(Bv(e,t,"read from private field"),r?r.call(e):t.get(e)),He=(e,t,r)=>t.has(e)?RS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Te=(e,t,r,a)=>(Bv(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),it=(e,t,r)=>(Bv(e,t,"access private method"),r);var Bh=(e,t,r,a)=>({set _(i){Te(e,t,i,r)},get _(){return U(e,t,a)}});function mF(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(a,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function It(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var BT={exports:{}},nx={},zT={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh=Symbol.for("react.element"),pF=Symbol.for("react.portal"),gF=Symbol.for("react.fragment"),xF=Symbol.for("react.strict_mode"),vF=Symbol.for("react.profiler"),yF=Symbol.for("react.provider"),bF=Symbol.for("react.context"),jF=Symbol.for("react.forward_ref"),wF=Symbol.for("react.suspense"),NF=Symbol.for("react.memo"),SF=Symbol.for("react.lazy"),MS=Symbol.iterator;function kF(e){return e===null||typeof e!="object"?null:(e=MS&&e[MS]||e["@@iterator"],typeof e=="function"?e:null)}var UT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VT=Object.assign,qT={};function ud(e,t,r){this.props=e,this.context=t,this.refs=qT,this.updater=r||UT}ud.prototype.isReactComponent={};ud.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ud.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function WT(){}WT.prototype=ud.prototype;function Nw(e,t,r){this.props=e,this.context=t,this.refs=qT,this.updater=r||UT}var Sw=Nw.prototype=new WT;Sw.constructor=Nw;VT(Sw,ud.prototype);Sw.isPureReactComponent=!0;var $S=Array.isArray,HT=Object.prototype.hasOwnProperty,kw={current:null},KT={key:!0,ref:!0,__self:!0,__source:!0};function GT(e,t,r){var a,i={},s=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)HT.call(t,a)&&!KT.hasOwnProperty(a)&&(i[a]=t[a]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)i[a]===void 0&&(i[a]=l[a]);return{$$typeof:lh,type:e,key:s,ref:o,props:i,_owner:kw.current}}function CF(e,t){return{$$typeof:lh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cw(e){return typeof e=="object"&&e!==null&&e.$$typeof===lh}function AF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var DS=/\/+/g;function zv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AF(""+e.key):t.toString(36)}function _m(e,t,r,a,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case lh:case pF:o=!0}}if(o)return o=e,i=i(o),e=a===""?"."+zv(o,0):a,$S(i)?(r="",e!=null&&(r=e.replace(DS,"$&/")+"/"),_m(i,t,r,"",function(d){return d})):i!=null&&(Cw(i)&&(i=CF(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(DS,"$&/")+"/")+e)),t.push(i)),1;if(o=0,a=a===""?".":a+":",$S(e))for(var l=0;l<e.length;l++){s=e[l];var c=a+zv(s,l);o+=_m(s,t,r,c,i)}else if(c=kF(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=a+zv(s,l++),o+=_m(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Uh(e,t,r){if(e==null)return e;var a=[],i=0;return _m(e,a,"","",function(s){return t.call(r,s,i++)}),a}function PF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var an={current:null},Im={transition:null},EF={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Im,ReactCurrentOwner:kw};function YT(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:Uh,forEach:function(e,t,r){Uh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Uh(e,function(){t++}),t},toArray:function(e){return Uh(e,function(t){return t})||[]},only:function(e){if(!Cw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ct.Component=ud;ct.Fragment=gF;ct.Profiler=vF;ct.PureComponent=Nw;ct.StrictMode=xF;ct.Suspense=wF;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EF;ct.act=YT;ct.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=VT({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=kw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)HT.call(t,c)&&!KT.hasOwnProperty(c)&&(a[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:lh,type:e.type,key:i,ref:s,props:a,_owner:o}};ct.createContext=function(e){return e={$$typeof:bF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yF,_context:e},e.Consumer=e};ct.createElement=GT;ct.createFactory=function(e){var t=GT.bind(null,e);return t.type=e,t};ct.createRef=function(){return{current:null}};ct.forwardRef=function(e){return{$$typeof:jF,render:e}};ct.isValidElement=Cw;ct.lazy=function(e){return{$$typeof:SF,_payload:{_status:-1,_result:e},_init:PF}};ct.memo=function(e,t){return{$$typeof:NF,type:e,compare:t===void 0?null:t}};ct.startTransition=function(e){var t=Im.transition;Im.transition={};try{e()}finally{Im.transition=t}};ct.unstable_act=YT;ct.useCallback=function(e,t){return an.current.useCallback(e,t)};ct.useContext=function(e){return an.current.useContext(e)};ct.useDebugValue=function(){};ct.useDeferredValue=function(e){return an.current.useDeferredValue(e)};ct.useEffect=function(e,t){return an.current.useEffect(e,t)};ct.useId=function(){return an.current.useId()};ct.useImperativeHandle=function(e,t,r){return an.current.useImperativeHandle(e,t,r)};ct.useInsertionEffect=function(e,t){return an.current.useInsertionEffect(e,t)};ct.useLayoutEffect=function(e,t){return an.current.useLayoutEffect(e,t)};ct.useMemo=function(e,t){return an.current.useMemo(e,t)};ct.useReducer=function(e,t,r){return an.current.useReducer(e,t,r)};ct.useRef=function(e){return an.current.useRef(e)};ct.useState=function(e){return an.current.useState(e)};ct.useSyncExternalStore=function(e,t,r){return an.current.useSyncExternalStore(e,t,r)};ct.useTransition=function(){return an.current.useTransition()};ct.version="18.3.1";zT.exports=ct;var x=zT.exports;const F=It(x),QT=mF({__proto__:null,default:F},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TF=x,OF=Symbol.for("react.element"),_F=Symbol.for("react.fragment"),IF=Object.prototype.hasOwnProperty,RF=TF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MF={key:!0,ref:!0,__self:!0,__source:!0};function XT(e,t,r){var a,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)IF.call(t,a)&&!MF.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)i[a]===void 0&&(i[a]=t[a]);return{$$typeof:OF,type:e,key:s,ref:o,props:i,_owner:RF.current}}nx.Fragment=_F;nx.jsx=XT;nx.jsxs=XT;BT.exports=nx;var n=BT.exports,JT={exports:{}},$n={},ZT={exports:{}},eO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var B=T.length;T.push(D);e:for(;0<B;){var ee=B-1>>>1,re=T[ee];if(0<i(re,D))T[ee]=D,T[B]=re,B=ee;else break e}}function r(T){return T.length===0?null:T[0]}function a(T){if(T.length===0)return null;var D=T[0],B=T.pop();if(B!==D){T[0]=B;e:for(var ee=0,re=T.length,oe=re>>>1;ee<oe;){var ve=2*(ee+1)-1,ce=T[ve],Oe=ve+1,me=T[Oe];if(0>i(ce,B))Oe<re&&0>i(me,ce)?(T[ee]=me,T[Oe]=B,ee=Oe):(T[ee]=ce,T[ve]=B,ee=ve);else if(Oe<re&&0>i(me,B))T[ee]=me,T[Oe]=B,ee=Oe;else break e}}return D}function i(T,D){var B=T.sortIndex-D.sortIndex;return B!==0?B:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,p=!1,b=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(T){for(var D=r(d);D!==null;){if(D.callback===null)a(d);else if(D.startTime<=T)a(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(d)}}function N(T){if(g=!1,j(T),!b)if(r(c)!==null)b=!0,_(w);else{var D=r(d);D!==null&&M(N,D.startTime-T)}}function w(T,D){b=!1,g&&(g=!1,v(C),C=-1),p=!0;var B=h;try{for(j(D),f=r(c);f!==null&&(!(f.expirationTime>D)||T&&!I());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var re=ee(f.expirationTime<=D);D=e.unstable_now(),typeof re=="function"?f.callback=re:f===r(c)&&a(c),j(D)}else a(c);f=r(c)}if(f!==null)var oe=!0;else{var ve=r(d);ve!==null&&M(N,ve.startTime-D),oe=!1}return oe}finally{f=null,h=B,p=!1}}var S=!1,k=null,C=-1,A=5,O=-1;function I(){return!(e.unstable_now()-O<A)}function P(){if(k!==null){var T=e.unstable_now();O=T;var D=!0;try{D=k(!0,T)}finally{D?R():(S=!1,k=null)}}else S=!1}var R;if(typeof m=="function")R=function(){m(P)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,E=$.port2;$.port1.onmessage=P,R=function(){E.postMessage(null)}}else R=function(){y(P,0)};function _(T){k=T,S||(S=!0,R())}function M(T,D){C=y(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,_(w))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var B=h;h=D;try{return T()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var B=h;h=T;try{return D()}finally{h=B}},e.unstable_scheduleCallback=function(T,D,B){var ee=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ee+B:ee):B=ee,T){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=B+re,T={id:u++,callback:D,priorityLevel:T,startTime:B,expirationTime:re,sortIndex:-1},B>ee?(T.sortIndex=B,t(d,T),r(c)===null&&T===r(d)&&(g?(v(C),C=-1):g=!0,M(N,B-ee))):(T.sortIndex=re,t(c,T),b||p||(b=!0,_(w))),T},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(T){var D=h;return function(){var B=h;h=D;try{return T.apply(this,arguments)}finally{h=B}}}})(eO);ZT.exports=eO;var $F=ZT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DF=x,_n=$F;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tO=new Set,Fu={};function tl(e,t){bc(e,t),bc(e+"Capture",t)}function bc(e,t){for(Fu[e]=t,e=0;e<t.length;e++)tO.add(t[e])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hb=Object.prototype.hasOwnProperty,LF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LS={},FS={};function FF(e){return hb.call(FS,e)?!0:hb.call(LS,e)?!1:LF.test(e)?FS[e]=!0:(LS[e]=!0,!1)}function BF(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zF(e,t,r,a){if(t===null||typeof t>"u"||BF(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sn(e,t,r,a,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mr[e]=new sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mr[t]=new sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mr[e]=new sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mr[e]=new sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mr[e]=new sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mr[e]=new sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mr[e]=new sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mr[e]=new sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mr[e]=new sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Aw=/[\-:]([a-z])/g;function Pw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Aw,Pw);Mr[t]=new sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Aw,Pw);Mr[t]=new sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Aw,Pw);Mr[t]=new sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mr[e]=new sn(e,1,!1,e.toLowerCase(),null,!1,!1)});Mr.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mr[e]=new sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ew(e,t,r,a){var i=Mr.hasOwnProperty(t)?Mr[t]:null;(i!==null?i.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zF(t,r,i,a)&&(r=null),a||i===null?FF(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,a=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var Wi=DF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vh=Symbol.for("react.element"),kl=Symbol.for("react.portal"),Cl=Symbol.for("react.fragment"),Tw=Symbol.for("react.strict_mode"),mb=Symbol.for("react.profiler"),rO=Symbol.for("react.provider"),nO=Symbol.for("react.context"),Ow=Symbol.for("react.forward_ref"),pb=Symbol.for("react.suspense"),gb=Symbol.for("react.suspense_list"),_w=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),aO=Symbol.for("react.offscreen"),BS=Symbol.iterator;function Ld(e){return e===null||typeof e!="object"?null:(e=BS&&e[BS]||e["@@iterator"],typeof e=="function"?e:null)}var Kt=Object.assign,Uv;function cu(e){if(Uv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Uv=t&&t[1]||""}return`
`+Uv+e}var Vv=!1;function qv(e,t){if(!e||Vv)return"";Vv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var a=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){a=d}e.call(t.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=a.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Vv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cu(e):""}function UF(e){switch(e.tag){case 5:return cu(e.type);case 16:return cu("Lazy");case 13:return cu("Suspense");case 19:return cu("SuspenseList");case 0:case 2:case 15:return e=qv(e.type,!1),e;case 11:return e=qv(e.type.render,!1),e;case 1:return e=qv(e.type,!0),e;default:return""}}function xb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cl:return"Fragment";case kl:return"Portal";case mb:return"Profiler";case Tw:return"StrictMode";case pb:return"Suspense";case gb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nO:return(e.displayName||"Context")+".Consumer";case rO:return(e._context.displayName||"Context")+".Provider";case Ow:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _w:return t=e.displayName||null,t!==null?t:xb(e.type)||"Memo";case rs:t=e._payload,e=e._init;try{return xb(e(t))}catch{}}return null}function VF(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xb(t);case 8:return t===Tw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iO(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qF(e){var t=iO(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){a=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qh(e){e._valueTracker||(e._valueTracker=qF(e))}function sO(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=iO(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function ap(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vb(e,t){var r=t.checked;return Kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zS(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=Fs(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oO(e,t){t=t.checked,t!=null&&Ew(e,"checked",t,!1)}function yb(e,t){oO(e,t);var r=Fs(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bb(e,t.type,r):t.hasOwnProperty("defaultValue")&&bb(e,t.type,Fs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function US(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function bb(e,t,r){(t!=="number"||ap(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var du=Array.isArray;function Vl(e,t,r,a){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&a&&(e[r].defaultSelected=!0)}else{for(r=""+Fs(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function jb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return Kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function VS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(du(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fs(r)}}function lO(e,t){var r=Fs(t.value),a=Fs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function qS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cO(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cO(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wh,dO=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wh=Wh||document.createElement("div"),Wh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WF=["Webkit","ms","Moz","O"];Object.keys(xu).forEach(function(e){WF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xu[t]=xu[e]})});function uO(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xu.hasOwnProperty(e)&&xu[e]?(""+t).trim():t+"px"}function fO(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,i=uO(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,i):e[r]=i}}var HF=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nb(e,t){if(t){if(HF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function Sb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kb=null;function Iw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cb=null,ql=null,Wl=null;function WS(e){if(e=uh(e)){if(typeof Cb!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=lx(t),Cb(e.stateNode,e.type,t))}}function hO(e){ql?Wl?Wl.push(e):Wl=[e]:ql=e}function mO(){if(ql){var e=ql,t=Wl;if(Wl=ql=null,WS(e),t)for(e=0;e<t.length;e++)WS(t[e])}}function pO(e,t){return e(t)}function gO(){}var Wv=!1;function xO(e,t,r){if(Wv)return e(t,r);Wv=!0;try{return pO(e,t,r)}finally{Wv=!1,(ql!==null||Wl!==null)&&(gO(),mO())}}function zu(e,t){var r=e.stateNode;if(r===null)return null;var a=lx(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var Ab=!1;if(Oi)try{var Fd={};Object.defineProperty(Fd,"passive",{get:function(){Ab=!0}}),window.addEventListener("test",Fd,Fd),window.removeEventListener("test",Fd,Fd)}catch{Ab=!1}function KF(e,t,r,a,i,s,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var vu=!1,ip=null,sp=!1,Pb=null,GF={onError:function(e){vu=!0,ip=e}};function YF(e,t,r,a,i,s,o,l,c){vu=!1,ip=null,KF.apply(GF,arguments)}function QF(e,t,r,a,i,s,o,l,c){if(YF.apply(this,arguments),vu){if(vu){var d=ip;vu=!1,ip=null}else throw Error(ge(198));sp||(sp=!0,Pb=d)}}function rl(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function HS(e){if(rl(e)!==e)throw Error(ge(188))}function XF(e){var t=e.alternate;if(!t){if(t=rl(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,a=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(a=i.return,a!==null){r=a;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return HS(i),e;if(s===a)return HS(i),t;s=s.sibling}throw Error(ge(188))}if(r.return!==a.return)r=i,a=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,a=s;break}if(l===a){o=!0,a=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,a=i;break}if(l===a){o=!0,a=s,r=i;break}l=l.sibling}if(!o)throw Error(ge(189))}}if(r.alternate!==a)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function yO(e){return e=XF(e),e!==null?bO(e):null}function bO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bO(e);if(t!==null)return t;e=e.sibling}return null}var jO=_n.unstable_scheduleCallback,KS=_n.unstable_cancelCallback,JF=_n.unstable_shouldYield,ZF=_n.unstable_requestPaint,rr=_n.unstable_now,e6=_n.unstable_getCurrentPriorityLevel,Rw=_n.unstable_ImmediatePriority,wO=_n.unstable_UserBlockingPriority,op=_n.unstable_NormalPriority,t6=_n.unstable_LowPriority,NO=_n.unstable_IdlePriority,ax=null,Ka=null;function r6(e){if(Ka&&typeof Ka.onCommitFiberRoot=="function")try{Ka.onCommitFiberRoot(ax,e,void 0,(e.current.flags&128)===128)}catch{}}var Ca=Math.clz32?Math.clz32:i6,n6=Math.log,a6=Math.LN2;function i6(e){return e>>>=0,e===0?32:31-(n6(e)/a6|0)|0}var Hh=64,Kh=4194304;function uu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lp(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?a=uu(l):(s&=o,s!==0&&(a=uu(s)))}else o=r&~i,o!==0?a=uu(o):s!==0&&(a=uu(s));if(a===0)return 0;if(t!==0&&t!==a&&!(t&i)&&(i=a&-a,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-Ca(t),i=1<<r,a|=e[r],t&=~i;return a}function s6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o6(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Ca(s),l=1<<o,c=i[o];c===-1?(!(l&r)||l&a)&&(i[o]=s6(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Eb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function SO(){var e=Hh;return Hh<<=1,!(Hh&4194240)&&(Hh=64),e}function Hv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ch(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ca(t),e[t]=r}function l6(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ca(r),s=1<<i;t[i]=0,a[i]=-1,e[i]=-1,r&=~s}}function Mw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-Ca(r),i=1<<a;i&t|e[a]&t&&(e[a]|=t),r&=~i}}var Pt=0;function kO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var CO,$w,AO,PO,EO,Tb=!1,Gh=[],Ss=null,ks=null,Cs=null,Uu=new Map,Vu=new Map,ss=[],c6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GS(e,t){switch(e){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Uu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(t.pointerId)}}function Bd(e,t,r,a,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:s,targetContainers:[i]},t!==null&&(t=uh(t),t!==null&&$w(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function d6(e,t,r,a,i){switch(t){case"focusin":return Ss=Bd(Ss,e,t,r,a,i),!0;case"dragenter":return ks=Bd(ks,e,t,r,a,i),!0;case"mouseover":return Cs=Bd(Cs,e,t,r,a,i),!0;case"pointerover":var s=i.pointerId;return Uu.set(s,Bd(Uu.get(s)||null,e,t,r,a,i)),!0;case"gotpointercapture":return s=i.pointerId,Vu.set(s,Bd(Vu.get(s)||null,e,t,r,a,i)),!0}return!1}function TO(e){var t=go(e.target);if(t!==null){var r=rl(t);if(r!==null){if(t=r.tag,t===13){if(t=vO(r),t!==null){e.blockedOn=t,EO(e.priority,function(){AO(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ob(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);kb=a,r.target.dispatchEvent(a),kb=null}else return t=uh(r),t!==null&&$w(t),e.blockedOn=r,!1;t.shift()}return!0}function YS(e,t,r){Rm(e)&&r.delete(t)}function u6(){Tb=!1,Ss!==null&&Rm(Ss)&&(Ss=null),ks!==null&&Rm(ks)&&(ks=null),Cs!==null&&Rm(Cs)&&(Cs=null),Uu.forEach(YS),Vu.forEach(YS)}function zd(e,t){e.blockedOn===t&&(e.blockedOn=null,Tb||(Tb=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,u6)))}function qu(e){function t(i){return zd(i,e)}if(0<Gh.length){zd(Gh[0],e);for(var r=1;r<Gh.length;r++){var a=Gh[r];a.blockedOn===e&&(a.blockedOn=null)}}for(Ss!==null&&zd(Ss,e),ks!==null&&zd(ks,e),Cs!==null&&zd(Cs,e),Uu.forEach(t),Vu.forEach(t),r=0;r<ss.length;r++)a=ss[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<ss.length&&(r=ss[0],r.blockedOn===null);)TO(r),r.blockedOn===null&&ss.shift()}var Hl=Wi.ReactCurrentBatchConfig,cp=!0;function f6(e,t,r,a){var i=Pt,s=Hl.transition;Hl.transition=null;try{Pt=1,Dw(e,t,r,a)}finally{Pt=i,Hl.transition=s}}function h6(e,t,r,a){var i=Pt,s=Hl.transition;Hl.transition=null;try{Pt=4,Dw(e,t,r,a)}finally{Pt=i,Hl.transition=s}}function Dw(e,t,r,a){if(cp){var i=Ob(e,t,r,a);if(i===null)ry(e,t,a,dp,r),GS(e,a);else if(d6(i,e,t,r,a))a.stopPropagation();else if(GS(e,a),t&4&&-1<c6.indexOf(e)){for(;i!==null;){var s=uh(i);if(s!==null&&CO(s),s=Ob(e,t,r,a),s===null&&ry(e,t,a,dp,r),s===i)break;i=s}i!==null&&a.stopPropagation()}else ry(e,t,a,null,r)}}var dp=null;function Ob(e,t,r,a){if(dp=null,e=Iw(a),e=go(e),e!==null)if(t=rl(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vO(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dp=e,null}function OO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e6()){case Rw:return 1;case wO:return 4;case op:case t6:return 16;case NO:return 536870912;default:return 16}default:return 16}}var ys=null,Lw=null,Mm=null;function _O(){if(Mm)return Mm;var e,t=Lw,r=t.length,a,i="value"in ys?ys.value:ys.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(a=1;a<=o&&t[r-a]===i[s-a];a++);return Mm=i.slice(e,1<a?1-a:void 0)}function $m(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yh(){return!0}function QS(){return!1}function Dn(e){function t(r,a,i,s,o){this._reactName=r,this._targetInst=i,this.type=a,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yh:QS,this.isPropagationStopped=QS,this}return Kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yh)},persist:function(){},isPersistent:Yh}),t}var fd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fw=Dn(fd),dh=Kt({},fd,{view:0,detail:0}),m6=Dn(dh),Kv,Gv,Ud,ix=Kt({},dh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ud&&(Ud&&e.type==="mousemove"?(Kv=e.screenX-Ud.screenX,Gv=e.screenY-Ud.screenY):Gv=Kv=0,Ud=e),Kv)},movementY:function(e){return"movementY"in e?e.movementY:Gv}}),XS=Dn(ix),p6=Kt({},ix,{dataTransfer:0}),g6=Dn(p6),x6=Kt({},dh,{relatedTarget:0}),Yv=Dn(x6),v6=Kt({},fd,{animationName:0,elapsedTime:0,pseudoElement:0}),y6=Dn(v6),b6=Kt({},fd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),j6=Dn(b6),w6=Kt({},fd,{data:0}),JS=Dn(w6),N6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=k6[e])?!!t[e]:!1}function Bw(){return C6}var A6=Kt({},dh,{key:function(e){if(e.key){var t=N6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$m(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?S6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bw,charCode:function(e){return e.type==="keypress"?$m(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$m(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P6=Dn(A6),E6=Kt({},ix,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZS=Dn(E6),T6=Kt({},dh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bw}),O6=Dn(T6),_6=Kt({},fd,{propertyName:0,elapsedTime:0,pseudoElement:0}),I6=Dn(_6),R6=Kt({},ix,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M6=Dn(R6),$6=[9,13,27,32],zw=Oi&&"CompositionEvent"in window,yu=null;Oi&&"documentMode"in document&&(yu=document.documentMode);var D6=Oi&&"TextEvent"in window&&!yu,IO=Oi&&(!zw||yu&&8<yu&&11>=yu),e2=" ",t2=!1;function RO(e,t){switch(e){case"keyup":return $6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Al=!1;function L6(e,t){switch(e){case"compositionend":return MO(t);case"keypress":return t.which!==32?null:(t2=!0,e2);case"textInput":return e=t.data,e===e2&&t2?null:e;default:return null}}function F6(e,t){if(Al)return e==="compositionend"||!zw&&RO(e,t)?(e=_O(),Mm=Lw=ys=null,Al=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return IO&&t.locale!=="ko"?null:t.data;default:return null}}var B6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!B6[e.type]:t==="textarea"}function $O(e,t,r,a){hO(a),t=up(t,"onChange"),0<t.length&&(r=new Fw("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var bu=null,Wu=null;function z6(e){KO(e,0)}function sx(e){var t=Tl(e);if(sO(t))return e}function U6(e,t){if(e==="change")return t}var DO=!1;if(Oi){var Qv;if(Oi){var Xv="oninput"in document;if(!Xv){var n2=document.createElement("div");n2.setAttribute("oninput","return;"),Xv=typeof n2.oninput=="function"}Qv=Xv}else Qv=!1;DO=Qv&&(!document.documentMode||9<document.documentMode)}function a2(){bu&&(bu.detachEvent("onpropertychange",LO),Wu=bu=null)}function LO(e){if(e.propertyName==="value"&&sx(Wu)){var t=[];$O(t,Wu,e,Iw(e)),xO(z6,t)}}function V6(e,t,r){e==="focusin"?(a2(),bu=t,Wu=r,bu.attachEvent("onpropertychange",LO)):e==="focusout"&&a2()}function q6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sx(Wu)}function W6(e,t){if(e==="click")return sx(t)}function H6(e,t){if(e==="input"||e==="change")return sx(t)}function K6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pa=typeof Object.is=="function"?Object.is:K6;function Hu(e,t){if(Pa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var i=r[a];if(!hb.call(t,i)||!Pa(e[i],t[i]))return!1}return!0}function i2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function s2(e,t){var r=i2(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=i2(r)}}function FO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?FO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function BO(){for(var e=window,t=ap();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ap(e.document)}return t}function Uw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function G6(e){var t=BO(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&FO(r.ownerDocument.documentElement,r)){if(a!==null&&Uw(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(a.start,i);a=a.end===void 0?s:Math.min(a.end,i),!e.extend&&s>a&&(i=a,a=s,s=i),i=s2(r,s);var o=s2(r,a);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Y6=Oi&&"documentMode"in document&&11>=document.documentMode,Pl=null,_b=null,ju=null,Ib=!1;function o2(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ib||Pl==null||Pl!==ap(a)||(a=Pl,"selectionStart"in a&&Uw(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ju&&Hu(ju,a)||(ju=a,a=up(_b,"onSelect"),0<a.length&&(t=new Fw("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=Pl)))}function Qh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var El={animationend:Qh("Animation","AnimationEnd"),animationiteration:Qh("Animation","AnimationIteration"),animationstart:Qh("Animation","AnimationStart"),transitionend:Qh("Transition","TransitionEnd")},Jv={},zO={};Oi&&(zO=document.createElement("div").style,"AnimationEvent"in window||(delete El.animationend.animation,delete El.animationiteration.animation,delete El.animationstart.animation),"TransitionEvent"in window||delete El.transitionend.transition);function ox(e){if(Jv[e])return Jv[e];if(!El[e])return e;var t=El[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zO)return Jv[e]=t[r];return e}var UO=ox("animationend"),VO=ox("animationiteration"),qO=ox("animationstart"),WO=ox("transitionend"),HO=new Map,l2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(e,t){HO.set(e,t),tl(t,[e])}for(var Zv=0;Zv<l2.length;Zv++){var ey=l2[Zv],Q6=ey.toLowerCase(),X6=ey[0].toUpperCase()+ey.slice(1);Gs(Q6,"on"+X6)}Gs(UO,"onAnimationEnd");Gs(VO,"onAnimationIteration");Gs(qO,"onAnimationStart");Gs("dblclick","onDoubleClick");Gs("focusin","onFocus");Gs("focusout","onBlur");Gs(WO,"onTransitionEnd");bc("onMouseEnter",["mouseout","mouseover"]);bc("onMouseLeave",["mouseout","mouseover"]);bc("onPointerEnter",["pointerout","pointerover"]);bc("onPointerLeave",["pointerout","pointerover"]);tl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tl("onBeforeInput",["compositionend","keypress","textInput","paste"]);tl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J6=new Set("cancel close invalid load scroll toggle".split(" ").concat(fu));function c2(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,QF(a,t,void 0,e),e.currentTarget=null}function KO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],i=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;c2(i,l,d),s=c}else for(o=0;o<a.length;o++){if(l=a[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;c2(i,l,d),s=c}}}if(sp)throw e=Pb,sp=!1,Pb=null,e}function Lt(e,t){var r=t[Lb];r===void 0&&(r=t[Lb]=new Set);var a=e+"__bubble";r.has(a)||(GO(t,e,2,!1),r.add(a))}function ty(e,t,r){var a=0;t&&(a|=4),GO(r,e,a,t)}var Xh="_reactListening"+Math.random().toString(36).slice(2);function Ku(e){if(!e[Xh]){e[Xh]=!0,tO.forEach(function(r){r!=="selectionchange"&&(J6.has(r)||ty(r,!1,e),ty(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xh]||(t[Xh]=!0,ty("selectionchange",!1,t))}}function GO(e,t,r,a){switch(OO(t)){case 1:var i=f6;break;case 4:i=h6;break;default:i=Dw}r=i.bind(null,t,r,e),i=void 0,!Ab||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ry(e,t,r,a,i){var s=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=go(l),o===null)return;if(c=o.tag,c===5||c===6){a=s=o;continue e}l=l.parentNode}}a=a.return}xO(function(){var d=s,u=Iw(r),f=[];e:{var h=HO.get(e);if(h!==void 0){var p=Fw,b=e;switch(e){case"keypress":if($m(r)===0)break e;case"keydown":case"keyup":p=P6;break;case"focusin":b="focus",p=Yv;break;case"focusout":b="blur",p=Yv;break;case"beforeblur":case"afterblur":p=Yv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=XS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=g6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=O6;break;case UO:case VO:case qO:p=y6;break;case WO:p=I6;break;case"scroll":p=m6;break;case"wheel":p=M6;break;case"copy":case"cut":case"paste":p=j6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ZS}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var m=d,j;m!==null;){j=m;var N=j.stateNode;if(j.tag===5&&N!==null&&(j=N,v!==null&&(N=zu(m,v),N!=null&&g.push(Gu(m,N,j)))),y)break;m=m.return}0<g.length&&(h=new p(h,b,null,r,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==kb&&(b=r.relatedTarget||r.fromElement)&&(go(b)||b[_i]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=d,b=b?go(b):null,b!==null&&(y=rl(b),b!==y||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=d),p!==b)){if(g=XS,N="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=ZS,N="onPointerLeave",v="onPointerEnter",m="pointer"),y=p==null?h:Tl(p),j=b==null?h:Tl(b),h=new g(N,m+"leave",p,r,u),h.target=y,h.relatedTarget=j,N=null,go(u)===d&&(g=new g(v,m+"enter",b,r,u),g.target=j,g.relatedTarget=y,N=g),y=N,p&&b)t:{for(g=p,v=b,m=0,j=g;j;j=fl(j))m++;for(j=0,N=v;N;N=fl(N))j++;for(;0<m-j;)g=fl(g),m--;for(;0<j-m;)v=fl(v),j--;for(;m--;){if(g===v||v!==null&&g===v.alternate)break t;g=fl(g),v=fl(v)}g=null}else g=null;p!==null&&d2(f,h,p,g,!1),b!==null&&y!==null&&d2(f,y,b,g,!0)}}e:{if(h=d?Tl(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=U6;else if(r2(h))if(DO)w=H6;else{w=q6;var S=V6}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=W6);if(w&&(w=w(e,d))){$O(f,w,r,u);break e}S&&S(e,h,d),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&bb(h,"number",h.value)}switch(S=d?Tl(d):window,e){case"focusin":(r2(S)||S.contentEditable==="true")&&(Pl=S,_b=d,ju=null);break;case"focusout":ju=_b=Pl=null;break;case"mousedown":Ib=!0;break;case"contextmenu":case"mouseup":case"dragend":Ib=!1,o2(f,r,u);break;case"selectionchange":if(Y6)break;case"keydown":case"keyup":o2(f,r,u)}var k;if(zw)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Al?RO(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(IO&&r.locale!=="ko"&&(Al||C!=="onCompositionStart"?C==="onCompositionEnd"&&Al&&(k=_O()):(ys=u,Lw="value"in ys?ys.value:ys.textContent,Al=!0)),S=up(d,C),0<S.length&&(C=new JS(C,e,null,r,u),f.push({event:C,listeners:S}),k?C.data=k:(k=MO(r),k!==null&&(C.data=k)))),(k=D6?L6(e,r):F6(e,r))&&(d=up(d,"onBeforeInput"),0<d.length&&(u=new JS("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=k))}KO(f,t)})}function Gu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function up(e,t){for(var r=t+"Capture",a=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zu(e,r),s!=null&&a.unshift(Gu(e,s,i)),s=zu(e,t),s!=null&&a.push(Gu(e,s,i))),e=e.return}return a}function fl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function d2(e,t,r,a,i){for(var s=t._reactName,o=[];r!==null&&r!==a;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===a)break;l.tag===5&&d!==null&&(l=d,i?(c=zu(r,s),c!=null&&o.unshift(Gu(r,c,l))):i||(c=zu(r,s),c!=null&&o.push(Gu(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Z6=/\r\n?/g,eB=/\u0000|\uFFFD/g;function u2(e){return(typeof e=="string"?e:""+e).replace(Z6,`
`).replace(eB,"")}function Jh(e,t,r){if(t=u2(t),u2(e)!==t&&r)throw Error(ge(425))}function fp(){}var Rb=null,Mb=null;function $b(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Db=typeof setTimeout=="function"?setTimeout:void 0,tB=typeof clearTimeout=="function"?clearTimeout:void 0,f2=typeof Promise=="function"?Promise:void 0,rB=typeof queueMicrotask=="function"?queueMicrotask:typeof f2<"u"?function(e){return f2.resolve(null).then(e).catch(nB)}:Db;function nB(e){setTimeout(function(){throw e})}function ny(e,t){var r=t,a=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(a===0){e.removeChild(i),qu(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=i}while(r);qu(t)}function As(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function h2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hd=Math.random().toString(36).slice(2),Va="__reactFiber$"+hd,Yu="__reactProps$"+hd,_i="__reactContainer$"+hd,Lb="__reactEvents$"+hd,aB="__reactListeners$"+hd,iB="__reactHandles$"+hd;function go(e){var t=e[Va];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_i]||r[Va]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=h2(e);e!==null;){if(r=e[Va])return r;e=h2(e)}return t}e=r,r=e.parentNode}return null}function uh(e){return e=e[Va]||e[_i],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function lx(e){return e[Yu]||null}var Fb=[],Ol=-1;function Ys(e){return{current:e}}function zt(e){0>Ol||(e.current=Fb[Ol],Fb[Ol]=null,Ol--)}function $t(e,t){Ol++,Fb[Ol]=e.current,e.current=t}var Bs={},Wr=Ys(Bs),hn=Ys(!1),$o=Bs;function jc(e,t){var r=e.type.contextTypes;if(!r)return Bs;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mn(e){return e=e.childContextTypes,e!=null}function hp(){zt(hn),zt(Wr)}function m2(e,t,r){if(Wr.current!==Bs)throw Error(ge(168));$t(Wr,t),$t(hn,r)}function YO(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var i in a)if(!(i in t))throw Error(ge(108,VF(e)||"Unknown",i));return Kt({},r,a)}function mp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bs,$o=Wr.current,$t(Wr,e),$t(hn,hn.current),!0}function p2(e,t,r){var a=e.stateNode;if(!a)throw Error(ge(169));r?(e=YO(e,t,$o),a.__reactInternalMemoizedMergedChildContext=e,zt(hn),zt(Wr),$t(Wr,e)):zt(hn),$t(hn,r)}var hi=null,cx=!1,ay=!1;function QO(e){hi===null?hi=[e]:hi.push(e)}function sB(e){cx=!0,QO(e)}function Qs(){if(!ay&&hi!==null){ay=!0;var e=0,t=Pt;try{var r=hi;for(Pt=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}hi=null,cx=!1}catch(i){throw hi!==null&&(hi=hi.slice(e+1)),jO(Rw,Qs),i}finally{Pt=t,ay=!1}}return null}var _l=[],Il=0,pp=null,gp=0,Vn=[],qn=0,Do=null,pi=1,gi="";function lo(e,t){_l[Il++]=gp,_l[Il++]=pp,pp=e,gp=t}function XO(e,t,r){Vn[qn++]=pi,Vn[qn++]=gi,Vn[qn++]=Do,Do=e;var a=pi;e=gi;var i=32-Ca(a)-1;a&=~(1<<i),r+=1;var s=32-Ca(t)+i;if(30<s){var o=i-i%5;s=(a&(1<<o)-1).toString(32),a>>=o,i-=o,pi=1<<32-Ca(t)+i|r<<i|a,gi=s+e}else pi=1<<s|r<<i|a,gi=e}function Vw(e){e.return!==null&&(lo(e,1),XO(e,1,0))}function qw(e){for(;e===pp;)pp=_l[--Il],_l[Il]=null,gp=_l[--Il],_l[Il]=null;for(;e===Do;)Do=Vn[--qn],Vn[qn]=null,gi=Vn[--qn],Vn[qn]=null,pi=Vn[--qn],Vn[qn]=null}var En=null,Pn=null,Vt=!1,va=null;function JO(e,t){var r=Wn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function g2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,En=e,Pn=As(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,En=e,Pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Do!==null?{id:pi,overflow:gi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,En=e,Pn=null,!0):!1;default:return!1}}function Bb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function zb(e){if(Vt){var t=Pn;if(t){var r=t;if(!g2(e,t)){if(Bb(e))throw Error(ge(418));t=As(r.nextSibling);var a=En;t&&g2(e,t)?JO(a,r):(e.flags=e.flags&-4097|2,Vt=!1,En=e)}}else{if(Bb(e))throw Error(ge(418));e.flags=e.flags&-4097|2,Vt=!1,En=e}}}function x2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;En=e}function Zh(e){if(e!==En)return!1;if(!Vt)return x2(e),Vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$b(e.type,e.memoizedProps)),t&&(t=Pn)){if(Bb(e))throw ZO(),Error(ge(418));for(;t;)JO(e,t),t=As(t.nextSibling)}if(x2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Pn=As(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Pn=null}}else Pn=En?As(e.stateNode.nextSibling):null;return!0}function ZO(){for(var e=Pn;e;)e=As(e.nextSibling)}function wc(){Pn=En=null,Vt=!1}function Ww(e){va===null?va=[e]:va.push(e)}var oB=Wi.ReactCurrentBatchConfig;function Vd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var a=r.stateNode}if(!a)throw Error(ge(147,e));var i=a,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function em(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v2(e){var t=e._init;return t(e._payload)}function e_(e){function t(v,m){if(e){var j=v.deletions;j===null?(v.deletions=[m],v.flags|=16):j.push(m)}}function r(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function a(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=Os(v,m),v.index=0,v.sibling=null,v}function s(v,m,j){return v.index=j,e?(j=v.alternate,j!==null?(j=j.index,j<m?(v.flags|=2,m):j):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,m,j,N){return m===null||m.tag!==6?(m=uy(j,v.mode,N),m.return=v,m):(m=i(m,j),m.return=v,m)}function c(v,m,j,N){var w=j.type;return w===Cl?u(v,m,j.props.children,N,j.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===rs&&v2(w)===m.type)?(N=i(m,j.props),N.ref=Vd(v,m,j),N.return=v,N):(N=Vm(j.type,j.key,j.props,null,v.mode,N),N.ref=Vd(v,m,j),N.return=v,N)}function d(v,m,j,N){return m===null||m.tag!==4||m.stateNode.containerInfo!==j.containerInfo||m.stateNode.implementation!==j.implementation?(m=fy(j,v.mode,N),m.return=v,m):(m=i(m,j.children||[]),m.return=v,m)}function u(v,m,j,N,w){return m===null||m.tag!==7?(m=_o(j,v.mode,N,w),m.return=v,m):(m=i(m,j),m.return=v,m)}function f(v,m,j){if(typeof m=="string"&&m!==""||typeof m=="number")return m=uy(""+m,v.mode,j),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Vh:return j=Vm(m.type,m.key,m.props,null,v.mode,j),j.ref=Vd(v,null,m),j.return=v,j;case kl:return m=fy(m,v.mode,j),m.return=v,m;case rs:var N=m._init;return f(v,N(m._payload),j)}if(du(m)||Ld(m))return m=_o(m,v.mode,j,null),m.return=v,m;em(v,m)}return null}function h(v,m,j,N){var w=m!==null?m.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return w!==null?null:l(v,m,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Vh:return j.key===w?c(v,m,j,N):null;case kl:return j.key===w?d(v,m,j,N):null;case rs:return w=j._init,h(v,m,w(j._payload),N)}if(du(j)||Ld(j))return w!==null?null:u(v,m,j,N,null);em(v,j)}return null}function p(v,m,j,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(j)||null,l(m,v,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Vh:return v=v.get(N.key===null?j:N.key)||null,c(m,v,N,w);case kl:return v=v.get(N.key===null?j:N.key)||null,d(m,v,N,w);case rs:var S=N._init;return p(v,m,j,S(N._payload),w)}if(du(N)||Ld(N))return v=v.get(j)||null,u(m,v,N,w,null);em(m,N)}return null}function b(v,m,j,N){for(var w=null,S=null,k=m,C=m=0,A=null;k!==null&&C<j.length;C++){k.index>C?(A=k,k=null):A=k.sibling;var O=h(v,k,j[C],N);if(O===null){k===null&&(k=A);break}e&&k&&O.alternate===null&&t(v,k),m=s(O,m,C),S===null?w=O:S.sibling=O,S=O,k=A}if(C===j.length)return r(v,k),Vt&&lo(v,C),w;if(k===null){for(;C<j.length;C++)k=f(v,j[C],N),k!==null&&(m=s(k,m,C),S===null?w=k:S.sibling=k,S=k);return Vt&&lo(v,C),w}for(k=a(v,k);C<j.length;C++)A=p(k,v,C,j[C],N),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?C:A.key),m=s(A,m,C),S===null?w=A:S.sibling=A,S=A);return e&&k.forEach(function(I){return t(v,I)}),Vt&&lo(v,C),w}function g(v,m,j,N){var w=Ld(j);if(typeof w!="function")throw Error(ge(150));if(j=w.call(j),j==null)throw Error(ge(151));for(var S=w=null,k=m,C=m=0,A=null,O=j.next();k!==null&&!O.done;C++,O=j.next()){k.index>C?(A=k,k=null):A=k.sibling;var I=h(v,k,O.value,N);if(I===null){k===null&&(k=A);break}e&&k&&I.alternate===null&&t(v,k),m=s(I,m,C),S===null?w=I:S.sibling=I,S=I,k=A}if(O.done)return r(v,k),Vt&&lo(v,C),w;if(k===null){for(;!O.done;C++,O=j.next())O=f(v,O.value,N),O!==null&&(m=s(O,m,C),S===null?w=O:S.sibling=O,S=O);return Vt&&lo(v,C),w}for(k=a(v,k);!O.done;C++,O=j.next())O=p(k,v,C,O.value,N),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?C:O.key),m=s(O,m,C),S===null?w=O:S.sibling=O,S=O);return e&&k.forEach(function(P){return t(v,P)}),Vt&&lo(v,C),w}function y(v,m,j,N){if(typeof j=="object"&&j!==null&&j.type===Cl&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Vh:e:{for(var w=j.key,S=m;S!==null;){if(S.key===w){if(w=j.type,w===Cl){if(S.tag===7){r(v,S.sibling),m=i(S,j.props.children),m.return=v,v=m;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===rs&&v2(w)===S.type){r(v,S.sibling),m=i(S,j.props),m.ref=Vd(v,S,j),m.return=v,v=m;break e}r(v,S);break}else t(v,S);S=S.sibling}j.type===Cl?(m=_o(j.props.children,v.mode,N,j.key),m.return=v,v=m):(N=Vm(j.type,j.key,j.props,null,v.mode,N),N.ref=Vd(v,m,j),N.return=v,v=N)}return o(v);case kl:e:{for(S=j.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===j.containerInfo&&m.stateNode.implementation===j.implementation){r(v,m.sibling),m=i(m,j.children||[]),m.return=v,v=m;break e}else{r(v,m);break}else t(v,m);m=m.sibling}m=fy(j,v.mode,N),m.return=v,v=m}return o(v);case rs:return S=j._init,y(v,m,S(j._payload),N)}if(du(j))return b(v,m,j,N);if(Ld(j))return g(v,m,j,N);em(v,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,m!==null&&m.tag===6?(r(v,m.sibling),m=i(m,j),m.return=v,v=m):(r(v,m),m=uy(j,v.mode,N),m.return=v,v=m),o(v)):r(v,m)}return y}var Nc=e_(!0),t_=e_(!1),xp=Ys(null),vp=null,Rl=null,Hw=null;function Kw(){Hw=Rl=vp=null}function Gw(e){var t=xp.current;zt(xp),e._currentValue=t}function Ub(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Kl(e,t){vp=e,Hw=Rl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(un=!0),e.firstContext=null)}function Zn(e){var t=e._currentValue;if(Hw!==e)if(e={context:e,memoizedValue:t,next:null},Rl===null){if(vp===null)throw Error(ge(308));Rl=e,vp.dependencies={lanes:0,firstContext:e}}else Rl=Rl.next=e;return t}var xo=null;function Yw(e){xo===null?xo=[e]:xo.push(e)}function r_(e,t,r,a){var i=t.interleaved;return i===null?(r.next=r,Yw(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ii(e,a)}function Ii(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ns=!1;function Qw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ji(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,xt&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,Ii(e,r)}return i=a.interleaved,i===null?(t.next=t,Yw(a)):(t.next=i.next,i.next=t),a.interleaved=t,Ii(e,r)}function Dm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Mw(e,r)}}function y2(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yp(e,t,r,a){var i=e.updateQueue;ns=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,u=d=c=null,l=s;do{var h=l.lane,p=l.eventTime;if((a&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,g=l;switch(h=t,p=r,g.tag){case 1:if(b=g.payload,typeof b=="function"){f=b.call(p,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,h=typeof b=="function"?b.call(p,f,h):b,h==null)break e;f=Kt({},f,h);break e;case 2:ns=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Fo|=o,e.lanes=o,e.memoizedState=f}}function b2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],i=a.callback;if(i!==null){if(a.callback=null,a=r,typeof i!="function")throw Error(ge(191,i));i.call(a)}}}var fh={},Ga=Ys(fh),Qu=Ys(fh),Xu=Ys(fh);function vo(e){if(e===fh)throw Error(ge(174));return e}function Xw(e,t){switch($t(Xu,t),$t(Qu,e),$t(Ga,fh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wb(t,e)}zt(Ga),$t(Ga,t)}function Sc(){zt(Ga),zt(Qu),zt(Xu)}function a_(e){vo(Xu.current);var t=vo(Ga.current),r=wb(t,e.type);t!==r&&($t(Qu,e),$t(Ga,r))}function Jw(e){Qu.current===e&&(zt(Ga),zt(Qu))}var Wt=Ys(0);function bp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iy=[];function Zw(){for(var e=0;e<iy.length;e++)iy[e]._workInProgressVersionPrimary=null;iy.length=0}var Lm=Wi.ReactCurrentDispatcher,sy=Wi.ReactCurrentBatchConfig,Lo=0,Ht=null,pr=null,kr=null,jp=!1,wu=!1,Ju=0,lB=0;function Dr(){throw Error(ge(321))}function e1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pa(e[r],t[r]))return!1;return!0}function t1(e,t,r,a,i,s){if(Lo=s,Ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lm.current=e===null||e.memoizedState===null?fB:hB,e=r(a,i),wu){s=0;do{if(wu=!1,Ju=0,25<=s)throw Error(ge(301));s+=1,kr=pr=null,t.updateQueue=null,Lm.current=mB,e=r(a,i)}while(wu)}if(Lm.current=wp,t=pr!==null&&pr.next!==null,Lo=0,kr=pr=Ht=null,jp=!1,t)throw Error(ge(300));return e}function r1(){var e=Ju!==0;return Ju=0,e}function La(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Ht.memoizedState=kr=e:kr=kr.next=e,kr}function ea(){if(pr===null){var e=Ht.alternate;e=e!==null?e.memoizedState:null}else e=pr.next;var t=kr===null?Ht.memoizedState:kr.next;if(t!==null)kr=t,pr=e;else{if(e===null)throw Error(ge(310));pr=e,e={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},kr===null?Ht.memoizedState=kr=e:kr=kr.next=e}return kr}function Zu(e,t){return typeof t=="function"?t(e):t}function oy(e){var t=ea(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var a=pr,i=a.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}a.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,a=a.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((Lo&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=a):c=c.next=f,Ht.lanes|=u,Fo|=u}d=d.next}while(d!==null&&d!==s);c===null?o=a:c.next=l,Pa(a,t.memoizedState)||(un=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Ht.lanes|=s,Fo|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ly(e){var t=ea(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var a=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Pa(s,t.memoizedState)||(un=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,a]}function i_(){}function s_(e,t){var r=Ht,a=ea(),i=t(),s=!Pa(a.memoizedState,i);if(s&&(a.memoizedState=i,un=!0),a=a.queue,n1(c_.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||kr!==null&&kr.memoizedState.tag&1){if(r.flags|=2048,ef(9,l_.bind(null,r,a,i,t),void 0,null),Cr===null)throw Error(ge(349));Lo&30||o_(r,t,i)}return i}function o_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function l_(e,t,r,a){t.value=r,t.getSnapshot=a,d_(t)&&u_(e)}function c_(e,t,r){return r(function(){d_(t)&&u_(e)})}function d_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pa(e,r)}catch{return!0}}function u_(e){var t=Ii(e,1);t!==null&&Aa(t,e,1,-1)}function j2(e){var t=La();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zu,lastRenderedState:e},t.queue=e,e=e.dispatch=uB.bind(null,Ht,e),[t.memoizedState,e]}function ef(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function f_(){return ea().memoizedState}function Fm(e,t,r,a){var i=La();Ht.flags|=e,i.memoizedState=ef(1|t,r,void 0,a===void 0?null:a)}function dx(e,t,r,a){var i=ea();a=a===void 0?null:a;var s=void 0;if(pr!==null){var o=pr.memoizedState;if(s=o.destroy,a!==null&&e1(a,o.deps)){i.memoizedState=ef(t,r,s,a);return}}Ht.flags|=e,i.memoizedState=ef(1|t,r,s,a)}function w2(e,t){return Fm(8390656,8,e,t)}function n1(e,t){return dx(2048,8,e,t)}function h_(e,t){return dx(4,2,e,t)}function m_(e,t){return dx(4,4,e,t)}function p_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function g_(e,t,r){return r=r!=null?r.concat([e]):null,dx(4,4,p_.bind(null,t,e),r)}function a1(){}function x_(e,t){var r=ea();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&e1(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function v_(e,t){var r=ea();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&e1(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function y_(e,t,r){return Lo&21?(Pa(r,t)||(r=SO(),Ht.lanes|=r,Fo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,un=!0),e.memoizedState=r)}function cB(e,t){var r=Pt;Pt=r!==0&&4>r?r:4,e(!0);var a=sy.transition;sy.transition={};try{e(!1),t()}finally{Pt=r,sy.transition=a}}function b_(){return ea().memoizedState}function dB(e,t,r){var a=Ts(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},j_(e))w_(t,r);else if(r=r_(e,t,r,a),r!==null){var i=rn();Aa(r,e,a,i),N_(r,t,a)}}function uB(e,t,r){var a=Ts(e),i={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(j_(e))w_(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,Pa(l,o)){var c=t.interleaved;c===null?(i.next=i,Yw(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=r_(e,t,i,a),r!==null&&(i=rn(),Aa(r,e,a,i),N_(r,t,a))}}function j_(e){var t=e.alternate;return e===Ht||t!==null&&t===Ht}function w_(e,t){wu=jp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function N_(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Mw(e,r)}}var wp={readContext:Zn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},fB={readContext:Zn,useCallback:function(e,t){return La().memoizedState=[e,t===void 0?null:t],e},useContext:Zn,useEffect:w2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fm(4194308,4,p_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fm(4,2,e,t)},useMemo:function(e,t){var r=La();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=La();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=dB.bind(null,Ht,e),[a.memoizedState,e]},useRef:function(e){var t=La();return e={current:e},t.memoizedState=e},useState:j2,useDebugValue:a1,useDeferredValue:function(e){return La().memoizedState=e},useTransition:function(){var e=j2(!1),t=e[0];return e=cB.bind(null,e[1]),La().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=Ht,i=La();if(Vt){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),Cr===null)throw Error(ge(349));Lo&30||o_(a,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,w2(c_.bind(null,a,s,e),[e]),a.flags|=2048,ef(9,l_.bind(null,a,s,r,t),void 0,null),r},useId:function(){var e=La(),t=Cr.identifierPrefix;if(Vt){var r=gi,a=pi;r=(a&~(1<<32-Ca(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ju++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=lB++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hB={readContext:Zn,useCallback:x_,useContext:Zn,useEffect:n1,useImperativeHandle:g_,useInsertionEffect:h_,useLayoutEffect:m_,useMemo:v_,useReducer:oy,useRef:f_,useState:function(){return oy(Zu)},useDebugValue:a1,useDeferredValue:function(e){var t=ea();return y_(t,pr.memoizedState,e)},useTransition:function(){var e=oy(Zu)[0],t=ea().memoizedState;return[e,t]},useMutableSource:i_,useSyncExternalStore:s_,useId:b_,unstable_isNewReconciler:!1},mB={readContext:Zn,useCallback:x_,useContext:Zn,useEffect:n1,useImperativeHandle:g_,useInsertionEffect:h_,useLayoutEffect:m_,useMemo:v_,useReducer:ly,useRef:f_,useState:function(){return ly(Zu)},useDebugValue:a1,useDeferredValue:function(e){var t=ea();return pr===null?t.memoizedState=e:y_(t,pr.memoizedState,e)},useTransition:function(){var e=ly(Zu)[0],t=ea().memoizedState;return[e,t]},useMutableSource:i_,useSyncExternalStore:s_,useId:b_,unstable_isNewReconciler:!1};function fa(e,t){if(e&&e.defaultProps){t=Kt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Vb(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:Kt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ux={isMounted:function(e){return(e=e._reactInternals)?rl(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=rn(),i=Ts(e),s=ji(a,i);s.payload=t,r!=null&&(s.callback=r),t=Ps(e,s,i),t!==null&&(Aa(t,e,i,a),Dm(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=rn(),i=Ts(e),s=ji(a,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ps(e,s,i),t!==null&&(Aa(t,e,i,a),Dm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rn(),a=Ts(e),i=ji(r,a);i.tag=2,t!=null&&(i.callback=t),t=Ps(e,i,a),t!==null&&(Aa(t,e,a,r),Dm(t,e,a))}};function N2(e,t,r,a,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,s,o):t.prototype&&t.prototype.isPureReactComponent?!Hu(r,a)||!Hu(i,s):!0}function S_(e,t,r){var a=!1,i=Bs,s=t.contextType;return typeof s=="object"&&s!==null?s=Zn(s):(i=mn(t)?$o:Wr.current,a=t.contextTypes,s=(a=a!=null)?jc(e,i):Bs),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ux,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function S2(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&ux.enqueueReplaceState(t,t.state,null)}function qb(e,t,r,a){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Qw(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Zn(s):(s=mn(t)?$o:Wr.current,i.context=jc(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Vb(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ux.enqueueReplaceState(i,i.state,null),yp(e,r,i,a),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function kc(e,t){try{var r="",a=t;do r+=UF(a),a=a.return;while(a);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function cy(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Wb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pB=typeof WeakMap=="function"?WeakMap:Map;function k_(e,t,r){r=ji(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Sp||(Sp=!0,t0=a),Wb(e,t)},r}function C_(e,t,r){r=ji(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var i=t.value;r.payload=function(){return a(i)},r.callback=function(){Wb(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Wb(e,t),typeof a!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function k2(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new pB;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(r)||(i.add(r),e=EB.bind(null,e,t,r),t.then(e,e))}function C2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function A2(e,t,r,a,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ji(-1,1),t.tag=2,Ps(r,t,1))),r.lanes|=1),e)}var gB=Wi.ReactCurrentOwner,un=!1;function Zr(e,t,r,a){t.child=e===null?t_(t,null,r,a):Nc(t,e.child,r,a)}function P2(e,t,r,a,i){r=r.render;var s=t.ref;return Kl(t,i),a=t1(e,t,r,a,s,i),r=r1(),e!==null&&!un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ri(e,t,i)):(Vt&&r&&Vw(t),t.flags|=1,Zr(e,t,a,i),t.child)}function E2(e,t,r,a,i){if(e===null){var s=r.type;return typeof s=="function"&&!f1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,A_(e,t,s,a,i)):(e=Vm(r.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Hu,r(o,a)&&e.ref===t.ref)return Ri(e,t,i)}return t.flags|=1,e=Os(s,a),e.ref=t.ref,e.return=t,t.child=e}function A_(e,t,r,a,i){if(e!==null){var s=e.memoizedProps;if(Hu(s,a)&&e.ref===t.ref)if(un=!1,t.pendingProps=a=s,(e.lanes&i)!==0)e.flags&131072&&(un=!0);else return t.lanes=e.lanes,Ri(e,t,i)}return Hb(e,t,r,a,i)}function P_(e,t,r){var a=t.pendingProps,i=a.children,s=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t($l,Nn),Nn|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t($l,Nn),Nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=s!==null?s.baseLanes:r,$t($l,Nn),Nn|=a}else s!==null?(a=s.baseLanes|r,t.memoizedState=null):a=r,$t($l,Nn),Nn|=a;return Zr(e,t,i,r),t.child}function E_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Hb(e,t,r,a,i){var s=mn(r)?$o:Wr.current;return s=jc(t,s),Kl(t,i),r=t1(e,t,r,a,s,i),a=r1(),e!==null&&!un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ri(e,t,i)):(Vt&&a&&Vw(t),t.flags|=1,Zr(e,t,r,i),t.child)}function T2(e,t,r,a,i){if(mn(r)){var s=!0;mp(t)}else s=!1;if(Kl(t,i),t.stateNode===null)Bm(e,t),S_(t,r,a),qb(t,r,a,i),a=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Zn(d):(d=mn(r)?$o:Wr.current,d=jc(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||c!==d)&&S2(t,o,a,d),ns=!1;var h=t.memoizedState;o.state=h,yp(t,a,o,i),c=t.memoizedState,l!==a||h!==c||hn.current||ns?(typeof u=="function"&&(Vb(t,r,u,a),c=t.memoizedState),(l=ns||N2(t,r,l,a,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=c),o.props=a,o.state=c,o.context=d,a=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,n_(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:fa(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Zn(c):(c=mn(r)?$o:Wr.current,c=jc(t,c));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&S2(t,o,a,c),ns=!1,h=t.memoizedState,o.state=h,yp(t,a,o,i);var b=t.memoizedState;l!==f||h!==b||hn.current||ns?(typeof p=="function"&&(Vb(t,r,p,a),b=t.memoizedState),(d=ns||N2(t,r,d,a,h,b,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=b),o.props=a,o.state=b,o.context=c,a=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Kb(e,t,r,a,s,i)}function Kb(e,t,r,a,i,s){E_(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return i&&p2(t,r,!1),Ri(e,t,s);a=t.stateNode,gB.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=Nc(t,e.child,null,s),t.child=Nc(t,null,l,s)):Zr(e,t,l,s),t.memoizedState=a.state,i&&p2(t,r,!0),t.child}function T_(e){var t=e.stateNode;t.pendingContext?m2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&m2(e,t.context,!1),Xw(e,t.containerInfo)}function O2(e,t,r,a,i){return wc(),Ww(i),t.flags|=256,Zr(e,t,r,a),t.child}var Gb={dehydrated:null,treeContext:null,retryLane:0};function Yb(e){return{baseLanes:e,cachePool:null,transitions:null}}function O_(e,t,r){var a=t.pendingProps,i=Wt.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$t(Wt,i&1),e===null)return zb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,s?(a=t.mode,s=t.child,o={mode:"hidden",children:o},!(a&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mx(o,a,0,null),e=_o(e,a,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Yb(r),t.memoizedState=Gb,e):i1(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return xB(e,t,o,a,l,i,r);if(s){s=a.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&t.child!==i?(a=t.child,a.childLanes=0,a.pendingProps=c,t.deletions=null):(a=Os(i,c),a.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Os(l,s):(s=_o(s,o,r,null),s.flags|=2),s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,o=e.child.memoizedState,o=o===null?Yb(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Gb,a}return s=e.child,e=s.sibling,a=Os(s,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function i1(e,t){return t=mx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tm(e,t,r,a){return a!==null&&Ww(a),Nc(t,e.child,null,r),e=i1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xB(e,t,r,a,i,s,o){if(r)return t.flags&256?(t.flags&=-257,a=cy(Error(ge(422))),tm(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=a.fallback,i=t.mode,a=mx({mode:"visible",children:a.children},i,0,null),s=_o(s,i,o,null),s.flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,t.mode&1&&Nc(t,e.child,null,o),t.child.memoizedState=Yb(o),t.memoizedState=Gb,s);if(!(t.mode&1))return tm(e,t,o,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var l=a.dgst;return a=l,s=Error(ge(419)),a=cy(s,a,void 0),tm(e,t,o,a)}if(l=(o&e.childLanes)!==0,un||l){if(a=Cr,a!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(a.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ii(e,i),Aa(a,e,i,-1))}return u1(),a=cy(Error(ge(421))),tm(e,t,o,a)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=TB.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Pn=As(i.nextSibling),En=t,Vt=!0,va=null,e!==null&&(Vn[qn++]=pi,Vn[qn++]=gi,Vn[qn++]=Do,pi=e.id,gi=e.overflow,Do=t),t=i1(t,a.children),t.flags|=4096,t)}function _2(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Ub(e.return,t,r)}function dy(e,t,r,a,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=r,s.tailMode=i)}function __(e,t,r){var a=t.pendingProps,i=a.revealOrder,s=a.tail;if(Zr(e,t,a.children,r),a=Wt.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_2(e,r,t);else if(e.tag===19)_2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if($t(Wt,a),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&bp(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),dy(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bp(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}dy(t,!0,r,null,s);break;case"together":dy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ri(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=Os(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Os(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function vB(e,t,r){switch(t.tag){case 3:T_(t),wc();break;case 5:a_(t);break;case 1:mn(t.type)&&mp(t);break;case 4:Xw(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,i=t.memoizedProps.value;$t(xp,a._currentValue),a._currentValue=i;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?($t(Wt,Wt.current&1),t.flags|=128,null):r&t.child.childLanes?O_(e,t,r):($t(Wt,Wt.current&1),e=Ri(e,t,r),e!==null?e.sibling:null);$t(Wt,Wt.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return __(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(Wt,Wt.current),a)break;return null;case 22:case 23:return t.lanes=0,P_(e,t,r)}return Ri(e,t,r)}var I_,Qb,R_,M_;I_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qb=function(){};R_=function(e,t,r,a){var i=e.memoizedProps;if(i!==a){e=t.stateNode,vo(Ga.current);var s=null;switch(r){case"input":i=vb(e,i),a=vb(e,a),s=[];break;case"select":i=Kt({},i,{value:void 0}),a=Kt({},a,{value:void 0}),s=[];break;case"textarea":i=jb(e,i),a=jb(e,a),s=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=fp)}Nb(r,a);var o;r=null;for(d in i)if(!a.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fu.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in a){var c=a[d];if(l=i!=null?i[d]:void 0,a.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Lt("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};M_=function(e,t,r,a){r!==a&&(t.flags|=4)};function qd(e,t){if(!Vt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Lr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function yB(e,t,r){var a=t.pendingProps;switch(qw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(t),null;case 1:return mn(t.type)&&hp(),Lr(t),null;case 3:return a=t.stateNode,Sc(),zt(hn),zt(Wr),Zw(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Zh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,va!==null&&(a0(va),va=null))),Qb(e,t),Lr(t),null;case 5:Jw(t);var i=vo(Xu.current);if(r=t.type,e!==null&&t.stateNode!=null)R_(e,t,r,a,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(ge(166));return Lr(t),null}if(e=vo(Ga.current),Zh(t)){a=t.stateNode,r=t.type;var s=t.memoizedProps;switch(a[Va]=t,a[Yu]=s,e=(t.mode&1)!==0,r){case"dialog":Lt("cancel",a),Lt("close",a);break;case"iframe":case"object":case"embed":Lt("load",a);break;case"video":case"audio":for(i=0;i<fu.length;i++)Lt(fu[i],a);break;case"source":Lt("error",a);break;case"img":case"image":case"link":Lt("error",a),Lt("load",a);break;case"details":Lt("toggle",a);break;case"input":zS(a,s),Lt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},Lt("invalid",a);break;case"textarea":VS(a,s),Lt("invalid",a)}Nb(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?a.textContent!==l&&(s.suppressHydrationWarning!==!0&&Jh(a.textContent,l,e),i=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Jh(a.textContent,l,e),i=["children",""+l]):Fu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Lt("scroll",a)}switch(r){case"input":qh(a),US(a,s,!0);break;case"textarea":qh(a),qS(a);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(a.onclick=fp)}a=i,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cO(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),r==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[Va]=t,e[Yu]=a,I_(e,t,!1,!1),t.stateNode=e;e:{switch(o=Sb(r,a),r){case"dialog":Lt("cancel",e),Lt("close",e),i=a;break;case"iframe":case"object":case"embed":Lt("load",e),i=a;break;case"video":case"audio":for(i=0;i<fu.length;i++)Lt(fu[i],e);i=a;break;case"source":Lt("error",e),i=a;break;case"img":case"image":case"link":Lt("error",e),Lt("load",e),i=a;break;case"details":Lt("toggle",e),i=a;break;case"input":zS(e,a),i=vb(e,a),Lt("invalid",e);break;case"option":i=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},i=Kt({},a,{value:void 0}),Lt("invalid",e);break;case"textarea":VS(e,a),i=jb(e,a),Lt("invalid",e);break;default:i=a}Nb(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?fO(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dO(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bu(e,c):typeof c=="number"&&Bu(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fu.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Lt("scroll",e):c!=null&&Ew(e,s,c,o))}switch(r){case"input":qh(e),US(e,a,!1);break;case"textarea":qh(e),qS(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Fs(a.value));break;case"select":e.multiple=!!a.multiple,s=a.value,s!=null?Vl(e,!!a.multiple,s,!1):a.defaultValue!=null&&Vl(e,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fp)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Lr(t),null;case 6:if(e&&t.stateNode!=null)M_(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(ge(166));if(r=vo(Xu.current),vo(Ga.current),Zh(t)){if(a=t.stateNode,r=t.memoizedProps,a[Va]=t,(s=a.nodeValue!==r)&&(e=En,e!==null))switch(e.tag){case 3:Jh(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jh(a.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Va]=t,t.stateNode=a}return Lr(t),null;case 13:if(zt(Wt),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vt&&Pn!==null&&t.mode&1&&!(t.flags&128))ZO(),wc(),t.flags|=98560,s=!1;else if(s=Zh(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(ge(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ge(317));s[Va]=t}else wc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Lr(t),s=!1}else va!==null&&(a0(va),va=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Wt.current&1?xr===0&&(xr=3):u1())),t.updateQueue!==null&&(t.flags|=4),Lr(t),null);case 4:return Sc(),Qb(e,t),e===null&&Ku(t.stateNode.containerInfo),Lr(t),null;case 10:return Gw(t.type._context),Lr(t),null;case 17:return mn(t.type)&&hp(),Lr(t),null;case 19:if(zt(Wt),s=t.memoizedState,s===null)return Lr(t),null;if(a=(t.flags&128)!==0,o=s.rendering,o===null)if(a)qd(s,!1);else{if(xr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bp(e),o!==null){for(t.flags|=128,qd(s,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)s=r,e=a,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $t(Wt,Wt.current&1|2),t.child}e=e.sibling}s.tail!==null&&rr()>Cc&&(t.flags|=128,a=!0,qd(s,!1),t.lanes=4194304)}else{if(!a)if(e=bp(o),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Vt)return Lr(t),null}else 2*rr()-s.renderingStartTime>Cc&&r!==1073741824&&(t.flags|=128,a=!0,qd(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=rr(),t.sibling=null,r=Wt.current,$t(Wt,a?r&1|2:r&1),t):(Lr(t),null);case 22:case 23:return d1(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Nn&1073741824&&(Lr(t),t.subtreeFlags&6&&(t.flags|=8192)):Lr(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function bB(e,t){switch(qw(t),t.tag){case 1:return mn(t.type)&&hp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sc(),zt(hn),zt(Wr),Zw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jw(t),null;case 13:if(zt(Wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));wc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(Wt),null;case 4:return Sc(),null;case 10:return Gw(t.type._context),null;case 22:case 23:return d1(),null;case 24:return null;default:return null}}var rm=!1,Ur=!1,jB=typeof WeakSet=="function"?WeakSet:Set,Re=null;function Ml(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Xt(e,t,a)}else r.current=null}function Xb(e,t,r){try{r()}catch(a){Xt(e,t,a)}}var I2=!1;function wB(e,t){if(Rb=cp,e=BO(),Uw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var i=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(l=o+i),f!==s||a!==0&&f.nodeType!==3||(c=o+a),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++d===i&&(l=o),h===s&&++u===a&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mb={focusedElem:e,selectionRange:r},cp=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){t=Re;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,y=b.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:fa(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(N){Xt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}return b=I2,I2=!1,b}function Nu(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Xb(t,r,s)}i=i.next}while(i!==a)}}function fx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function Jb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $_(e){var t=e.alternate;t!==null&&(e.alternate=null,$_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Va],delete t[Yu],delete t[Lb],delete t[aB],delete t[iB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function D_(e){return e.tag===5||e.tag===3||e.tag===4}function R2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zb(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fp));else if(a!==4&&(e=e.child,e!==null))for(Zb(e,t,r),e=e.sibling;e!==null;)Zb(e,t,r),e=e.sibling}function e0(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(e0(e,t,r),e=e.sibling;e!==null;)e0(e,t,r),e=e.sibling}var Or=null,ma=!1;function Qi(e,t,r){for(r=r.child;r!==null;)L_(e,t,r),r=r.sibling}function L_(e,t,r){if(Ka&&typeof Ka.onCommitFiberUnmount=="function")try{Ka.onCommitFiberUnmount(ax,r)}catch{}switch(r.tag){case 5:Ur||Ml(r,t);case 6:var a=Or,i=ma;Or=null,Qi(e,t,r),Or=a,ma=i,Or!==null&&(ma?(e=Or,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Or.removeChild(r.stateNode));break;case 18:Or!==null&&(ma?(e=Or,r=r.stateNode,e.nodeType===8?ny(e.parentNode,r):e.nodeType===1&&ny(e,r),qu(e)):ny(Or,r.stateNode));break;case 4:a=Or,i=ma,Or=r.stateNode.containerInfo,ma=!0,Qi(e,t,r),Or=a,ma=i;break;case 0:case 11:case 14:case 15:if(!Ur&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Xb(r,t,o),i=i.next}while(i!==a)}Qi(e,t,r);break;case 1:if(!Ur&&(Ml(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(l){Xt(r,t,l)}Qi(e,t,r);break;case 21:Qi(e,t,r);break;case 22:r.mode&1?(Ur=(a=Ur)||r.memoizedState!==null,Qi(e,t,r),Ur=a):Qi(e,t,r);break;default:Qi(e,t,r)}}function M2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jB),t.forEach(function(a){var i=OB.bind(null,e,a);r.has(a)||(r.add(a),a.then(i,i))})}}function la(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var i=r[a];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Or=l.stateNode,ma=!1;break e;case 3:Or=l.stateNode.containerInfo,ma=!0;break e;case 4:Or=l.stateNode.containerInfo,ma=!0;break e}l=l.return}if(Or===null)throw Error(ge(160));L_(s,o,i),Or=null,ma=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Xt(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)F_(t,e),t=t.sibling}function F_(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(la(t,e),Da(e),a&4){try{Nu(3,e,e.return),fx(3,e)}catch(g){Xt(e,e.return,g)}try{Nu(5,e,e.return)}catch(g){Xt(e,e.return,g)}}break;case 1:la(t,e),Da(e),a&512&&r!==null&&Ml(r,r.return);break;case 5:if(la(t,e),Da(e),a&512&&r!==null&&Ml(r,r.return),e.flags&32){var i=e.stateNode;try{Bu(i,"")}catch(g){Xt(e,e.return,g)}}if(a&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&oO(i,s),Sb(l,o);var d=Sb(l,s);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?fO(i,f):u==="dangerouslySetInnerHTML"?dO(i,f):u==="children"?Bu(i,f):Ew(i,u,f,d)}switch(l){case"input":yb(i,s);break;case"textarea":lO(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Vl(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Vl(i,!!s.multiple,s.defaultValue,!0):Vl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Yu]=s}catch(g){Xt(e,e.return,g)}}break;case 6:if(la(t,e),Da(e),a&4){if(e.stateNode===null)throw Error(ge(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Xt(e,e.return,g)}}break;case 3:if(la(t,e),Da(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{qu(t.containerInfo)}catch(g){Xt(e,e.return,g)}break;case 4:la(t,e),Da(e);break;case 13:la(t,e),Da(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(l1=rr())),a&4&&M2(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ur=(d=Ur)||u,la(t,e),Ur=d):la(t,e),Da(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(Re=e,u=e.child;u!==null;){for(f=Re=u;Re!==null;){switch(h=Re,p=h.child,h.tag){case 0:case 11:case 14:case 15:Nu(4,h,h.return);break;case 1:Ml(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){a=h,r=h.return;try{t=a,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){Xt(a,r,g)}}break;case 5:Ml(h,h.return);break;case 22:if(h.memoizedState!==null){D2(f);continue}}p!==null?(p.return=h,Re=p):D2(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uO("display",o))}catch(g){Xt(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(g){Xt(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:la(t,e),Da(e),a&4&&M2(e);break;case 21:break;default:la(t,e),Da(e)}}function Da(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(D_(r)){var a=r;break e}r=r.return}throw Error(ge(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(Bu(i,""),a.flags&=-33);var s=R2(e);e0(e,s,i);break;case 3:case 4:var o=a.stateNode.containerInfo,l=R2(e);Zb(e,l,o);break;default:throw Error(ge(161))}}catch(c){Xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NB(e,t,r){Re=e,B_(e)}function B_(e,t,r){for(var a=(e.mode&1)!==0;Re!==null;){var i=Re,s=i.child;if(i.tag===22&&a){var o=i.memoizedState!==null||rm;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ur;l=rm;var d=Ur;if(rm=o,(Ur=c)&&!d)for(Re=i;Re!==null;)o=Re,c=o.child,o.tag===22&&o.memoizedState!==null?L2(i):c!==null?(c.return=o,Re=c):L2(i);for(;s!==null;)Re=s,B_(s),s=s.sibling;Re=i,rm=l,Ur=d}$2(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Re=s):$2(e)}}function $2(e){for(;Re!==null;){var t=Re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ur||fx(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Ur)if(r===null)a.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:fa(t.type,r.memoizedProps);a.componentDidUpdate(i,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&b2(t,s,a);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}b2(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&qu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}Ur||t.flags&512&&Jb(t)}catch(h){Xt(t,t.return,h)}}if(t===e){Re=null;break}if(r=t.sibling,r!==null){r.return=t.return,Re=r;break}Re=t.return}}function D2(e){for(;Re!==null;){var t=Re;if(t===e){Re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Re=r;break}Re=t.return}}function L2(e){for(;Re!==null;){var t=Re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fx(4,t)}catch(c){Xt(t,r,c)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var i=t.return;try{a.componentDidMount()}catch(c){Xt(t,i,c)}}var s=t.return;try{Jb(t)}catch(c){Xt(t,s,c)}break;case 5:var o=t.return;try{Jb(t)}catch(c){Xt(t,o,c)}}}catch(c){Xt(t,t.return,c)}if(t===e){Re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Re=l;break}Re=t.return}}var SB=Math.ceil,Np=Wi.ReactCurrentDispatcher,s1=Wi.ReactCurrentOwner,Yn=Wi.ReactCurrentBatchConfig,xt=0,Cr=null,cr=null,Ir=0,Nn=0,$l=Ys(0),xr=0,tf=null,Fo=0,hx=0,o1=0,Su=null,dn=null,l1=0,Cc=1/0,fi=null,Sp=!1,t0=null,Es=null,nm=!1,bs=null,kp=0,ku=0,r0=null,zm=-1,Um=0;function rn(){return xt&6?rr():zm!==-1?zm:zm=rr()}function Ts(e){return e.mode&1?xt&2&&Ir!==0?Ir&-Ir:oB.transition!==null?(Um===0&&(Um=SO()),Um):(e=Pt,e!==0||(e=window.event,e=e===void 0?16:OO(e.type)),e):1}function Aa(e,t,r,a){if(50<ku)throw ku=0,r0=null,Error(ge(185));ch(e,r,a),(!(xt&2)||e!==Cr)&&(e===Cr&&(!(xt&2)&&(hx|=r),xr===4&&os(e,Ir)),pn(e,a),r===1&&xt===0&&!(t.mode&1)&&(Cc=rr()+500,cx&&Qs()))}function pn(e,t){var r=e.callbackNode;o6(e,t);var a=lp(e,e===Cr?Ir:0);if(a===0)r!==null&&KS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&KS(r),t===1)e.tag===0?sB(F2.bind(null,e)):QO(F2.bind(null,e)),rB(function(){!(xt&6)&&Qs()}),r=null;else{switch(kO(a)){case 1:r=Rw;break;case 4:r=wO;break;case 16:r=op;break;case 536870912:r=NO;break;default:r=op}r=G_(r,z_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function z_(e,t){if(zm=-1,Um=0,xt&6)throw Error(ge(327));var r=e.callbackNode;if(Gl()&&e.callbackNode!==r)return null;var a=lp(e,e===Cr?Ir:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Cp(e,a);else{t=a;var i=xt;xt|=2;var s=V_();(Cr!==e||Ir!==t)&&(fi=null,Cc=rr()+500,Oo(e,t));do try{AB();break}catch(l){U_(e,l)}while(!0);Kw(),Np.current=s,xt=i,cr!==null?t=0:(Cr=null,Ir=0,t=xr)}if(t!==0){if(t===2&&(i=Eb(e),i!==0&&(a=i,t=n0(e,i))),t===1)throw r=tf,Oo(e,0),os(e,a),pn(e,rr()),r;if(t===6)os(e,a);else{if(i=e.current.alternate,!(a&30)&&!kB(i)&&(t=Cp(e,a),t===2&&(s=Eb(e),s!==0&&(a=s,t=n0(e,s))),t===1))throw r=tf,Oo(e,0),os(e,a),pn(e,rr()),r;switch(e.finishedWork=i,e.finishedLanes=a,t){case 0:case 1:throw Error(ge(345));case 2:co(e,dn,fi);break;case 3:if(os(e,a),(a&130023424)===a&&(t=l1+500-rr(),10<t)){if(lp(e,0)!==0)break;if(i=e.suspendedLanes,(i&a)!==a){rn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Db(co.bind(null,e,dn,fi),t);break}co(e,dn,fi);break;case 4:if(os(e,a),(a&4194240)===a)break;for(t=e.eventTimes,i=-1;0<a;){var o=31-Ca(a);s=1<<o,o=t[o],o>i&&(i=o),a&=~s}if(a=i,a=rr()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*SB(a/1960))-a,10<a){e.timeoutHandle=Db(co.bind(null,e,dn,fi),a);break}co(e,dn,fi);break;case 5:co(e,dn,fi);break;default:throw Error(ge(329))}}}return pn(e,rr()),e.callbackNode===r?z_.bind(null,e):null}function n0(e,t){var r=Su;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),e=Cp(e,t),e!==2&&(t=dn,dn=r,t!==null&&a0(t)),e}function a0(e){dn===null?dn=e:dn.push.apply(dn,e)}function kB(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var i=r[a],s=i.getSnapshot;i=i.value;try{if(!Pa(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function os(e,t){for(t&=~o1,t&=~hx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ca(t),a=1<<r;e[r]=-1,t&=~a}}function F2(e){if(xt&6)throw Error(ge(327));Gl();var t=lp(e,0);if(!(t&1))return pn(e,rr()),null;var r=Cp(e,t);if(e.tag!==0&&r===2){var a=Eb(e);a!==0&&(t=a,r=n0(e,a))}if(r===1)throw r=tf,Oo(e,0),os(e,t),pn(e,rr()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,co(e,dn,fi),pn(e,rr()),null}function c1(e,t){var r=xt;xt|=1;try{return e(t)}finally{xt=r,xt===0&&(Cc=rr()+500,cx&&Qs())}}function Bo(e){bs!==null&&bs.tag===0&&!(xt&6)&&Gl();var t=xt;xt|=1;var r=Yn.transition,a=Pt;try{if(Yn.transition=null,Pt=1,e)return e()}finally{Pt=a,Yn.transition=r,xt=t,!(xt&6)&&Qs()}}function d1(){Nn=$l.current,zt($l)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,tB(r)),cr!==null)for(r=cr.return;r!==null;){var a=r;switch(qw(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&hp();break;case 3:Sc(),zt(hn),zt(Wr),Zw();break;case 5:Jw(a);break;case 4:Sc();break;case 13:zt(Wt);break;case 19:zt(Wt);break;case 10:Gw(a.type._context);break;case 22:case 23:d1()}r=r.return}if(Cr=e,cr=e=Os(e.current,null),Ir=Nn=t,xr=0,tf=null,o1=hx=Fo=0,dn=Su=null,xo!==null){for(t=0;t<xo.length;t++)if(r=xo[t],a=r.interleaved,a!==null){r.interleaved=null;var i=a.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,a.next=o}r.pending=a}xo=null}return e}function U_(e,t){do{var r=cr;try{if(Kw(),Lm.current=wp,jp){for(var a=Ht.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}jp=!1}if(Lo=0,kr=pr=Ht=null,wu=!1,Ju=0,s1.current=null,r===null||r.return===null){xr=1,tf=t,cr=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Ir,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=C2(o);if(p!==null){p.flags&=-257,A2(p,o,l,s,t),p.mode&1&&k2(s,d,t),t=p,c=d;var b=t.updateQueue;if(b===null){var g=new Set;g.add(c),t.updateQueue=g}else b.add(c);break e}else{if(!(t&1)){k2(s,d,t),u1();break e}c=Error(ge(426))}}else if(Vt&&l.mode&1){var y=C2(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),A2(y,o,l,s,t),Ww(kc(c,l));break e}}s=c=kc(c,l),xr!==4&&(xr=2),Su===null?Su=[s]:Su.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=k_(s,c,t);y2(s,v);break e;case 1:l=c;var m=s.type,j=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Es===null||!Es.has(j)))){s.flags|=65536,t&=-t,s.lanes|=t;var N=C_(s,l,t);y2(s,N);break e}}s=s.return}while(s!==null)}W_(r)}catch(w){t=w,cr===r&&r!==null&&(cr=r=r.return);continue}break}while(!0)}function V_(){var e=Np.current;return Np.current=wp,e===null?wp:e}function u1(){(xr===0||xr===3||xr===2)&&(xr=4),Cr===null||!(Fo&268435455)&&!(hx&268435455)||os(Cr,Ir)}function Cp(e,t){var r=xt;xt|=2;var a=V_();(Cr!==e||Ir!==t)&&(fi=null,Oo(e,t));do try{CB();break}catch(i){U_(e,i)}while(!0);if(Kw(),xt=r,Np.current=a,cr!==null)throw Error(ge(261));return Cr=null,Ir=0,xr}function CB(){for(;cr!==null;)q_(cr)}function AB(){for(;cr!==null&&!JF();)q_(cr)}function q_(e){var t=K_(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?W_(e):cr=t,s1.current=null}function W_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=bB(r,t),r!==null){r.flags&=32767,cr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xr=6,cr=null;return}}else if(r=yB(r,t,Nn),r!==null){cr=r;return}if(t=t.sibling,t!==null){cr=t;return}cr=t=e}while(t!==null);xr===0&&(xr=5)}function co(e,t,r){var a=Pt,i=Yn.transition;try{Yn.transition=null,Pt=1,PB(e,t,r,a)}finally{Yn.transition=i,Pt=a}return null}function PB(e,t,r,a){do Gl();while(bs!==null);if(xt&6)throw Error(ge(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(l6(e,s),e===Cr&&(cr=Cr=null,Ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||nm||(nm=!0,G_(op,function(){return Gl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Yn.transition,Yn.transition=null;var o=Pt;Pt=1;var l=xt;xt|=4,s1.current=null,wB(e,r),F_(r,e),G6(Mb),cp=!!Rb,Mb=Rb=null,e.current=r,NB(r),ZF(),xt=l,Pt=o,Yn.transition=s}else e.current=r;if(nm&&(nm=!1,bs=e,kp=i),s=e.pendingLanes,s===0&&(Es=null),r6(r.stateNode),pn(e,rr()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],a(i.value,{componentStack:i.stack,digest:i.digest});if(Sp)throw Sp=!1,e=t0,t0=null,e;return kp&1&&e.tag!==0&&Gl(),s=e.pendingLanes,s&1?e===r0?ku++:(ku=0,r0=e):ku=0,Qs(),null}function Gl(){if(bs!==null){var e=kO(kp),t=Yn.transition,r=Pt;try{if(Yn.transition=null,Pt=16>e?16:e,bs===null)var a=!1;else{if(e=bs,bs=null,kp=0,xt&6)throw Error(ge(331));var i=xt;for(xt|=4,Re=e.current;Re!==null;){var s=Re,o=s.child;if(Re.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Re=d;Re!==null;){var u=Re;switch(u.tag){case 0:case 11:case 15:Nu(8,u,s)}var f=u.child;if(f!==null)f.return=u,Re=f;else for(;Re!==null;){u=Re;var h=u.sibling,p=u.return;if($_(u),u===d){Re=null;break}if(h!==null){h.return=p,Re=h;break}Re=p}}}var b=s.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}Re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Re=o;else e:for(;Re!==null;){if(s=Re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nu(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Re=v;break e}Re=s.return}}var m=e.current;for(Re=m;Re!==null;){o=Re;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Re=j;else e:for(o=m;Re!==null;){if(l=Re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fx(9,l)}}catch(w){Xt(l,l.return,w)}if(l===o){Re=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Re=N;break e}Re=l.return}}if(xt=i,Qs(),Ka&&typeof Ka.onPostCommitFiberRoot=="function")try{Ka.onPostCommitFiberRoot(ax,e)}catch{}a=!0}return a}finally{Pt=r,Yn.transition=t}}return!1}function B2(e,t,r){t=kc(r,t),t=k_(e,t,1),e=Ps(e,t,1),t=rn(),e!==null&&(ch(e,1,t),pn(e,t))}function Xt(e,t,r){if(e.tag===3)B2(e,e,r);else for(;t!==null;){if(t.tag===3){B2(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Es===null||!Es.has(a))){e=kc(r,e),e=C_(t,e,1),t=Ps(t,e,1),e=rn(),t!==null&&(ch(t,1,e),pn(t,e));break}}t=t.return}}function EB(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=rn(),e.pingedLanes|=e.suspendedLanes&r,Cr===e&&(Ir&r)===r&&(xr===4||xr===3&&(Ir&130023424)===Ir&&500>rr()-l1?Oo(e,0):o1|=r),pn(e,t)}function H_(e,t){t===0&&(e.mode&1?(t=Kh,Kh<<=1,!(Kh&130023424)&&(Kh=4194304)):t=1);var r=rn();e=Ii(e,t),e!==null&&(ch(e,t,r),pn(e,r))}function TB(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),H_(e,r)}function OB(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(ge(314))}a!==null&&a.delete(t),H_(e,r)}var K_;K_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||hn.current)un=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return un=!1,vB(e,t,r);un=!!(e.flags&131072)}else un=!1,Vt&&t.flags&1048576&&XO(t,gp,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Bm(e,t),e=t.pendingProps;var i=jc(t,Wr.current);Kl(t,r),i=t1(null,t,a,e,i,r);var s=r1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mn(a)?(s=!0,mp(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qw(t),i.updater=ux,t.stateNode=i,i._reactInternals=t,qb(t,a,e,r),t=Kb(null,t,a,!0,s,r)):(t.tag=0,Vt&&s&&Vw(t),Zr(null,t,i,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Bm(e,t),e=t.pendingProps,i=a._init,a=i(a._payload),t.type=a,i=t.tag=IB(a),e=fa(a,e),i){case 0:t=Hb(null,t,a,e,r);break e;case 1:t=T2(null,t,a,e,r);break e;case 11:t=P2(null,t,a,e,r);break e;case 14:t=E2(null,t,a,fa(a.type,e),r);break e}throw Error(ge(306,a,""))}return t;case 0:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:fa(a,i),Hb(e,t,a,i,r);case 1:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:fa(a,i),T2(e,t,a,i,r);case 3:e:{if(T_(t),e===null)throw Error(ge(387));a=t.pendingProps,s=t.memoizedState,i=s.element,n_(e,t),yp(t,a,null,r);var o=t.memoizedState;if(a=o.element,s.isDehydrated)if(s={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=kc(Error(ge(423)),t),t=O2(e,t,a,r,i);break e}else if(a!==i){i=kc(Error(ge(424)),t),t=O2(e,t,a,r,i);break e}else for(Pn=As(t.stateNode.containerInfo.firstChild),En=t,Vt=!0,va=null,r=t_(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wc(),a===i){t=Ri(e,t,r);break e}Zr(e,t,a,r)}t=t.child}return t;case 5:return a_(t),e===null&&zb(t),a=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,$b(a,i)?o=null:s!==null&&$b(a,s)&&(t.flags|=32),E_(e,t),Zr(e,t,o,r),t.child;case 6:return e===null&&zb(t),null;case 13:return O_(e,t,r);case 4:return Xw(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Nc(t,null,a,r):Zr(e,t,a,r),t.child;case 11:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:fa(a,i),P2(e,t,a,i,r);case 7:return Zr(e,t,t.pendingProps,r),t.child;case 8:return Zr(e,t,t.pendingProps.children,r),t.child;case 12:return Zr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,$t(xp,a._currentValue),a._currentValue=o,s!==null)if(Pa(s.value,o)){if(s.children===i.children&&!hn.current){t=Ri(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===a){if(s.tag===1){c=ji(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Ub(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ge(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ub(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps.children,Kl(t,r),i=Zn(i),a=a(i),t.flags|=1,Zr(e,t,a,r),t.child;case 14:return a=t.type,i=fa(a,t.pendingProps),i=fa(a.type,i),E2(e,t,a,i,r);case 15:return A_(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:fa(a,i),Bm(e,t),t.tag=1,mn(a)?(e=!0,mp(t)):e=!1,Kl(t,r),S_(t,a,i),qb(t,a,i,r),Kb(null,t,a,!0,e,r);case 19:return __(e,t,r);case 22:return P_(e,t,r)}throw Error(ge(156,t.tag))};function G_(e,t){return jO(e,t)}function _B(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,t,r,a){return new _B(e,t,r,a)}function f1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IB(e){if(typeof e=="function")return f1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ow)return 11;if(e===_w)return 14}return 2}function Os(e,t){var r=e.alternate;return r===null?(r=Wn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vm(e,t,r,a,i,s){var o=2;if(a=e,typeof e=="function")f1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Cl:return _o(r.children,i,s,t);case Tw:o=8,i|=8;break;case mb:return e=Wn(12,r,t,i|2),e.elementType=mb,e.lanes=s,e;case pb:return e=Wn(13,r,t,i),e.elementType=pb,e.lanes=s,e;case gb:return e=Wn(19,r,t,i),e.elementType=gb,e.lanes=s,e;case aO:return mx(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rO:o=10;break e;case nO:o=9;break e;case Ow:o=11;break e;case _w:o=14;break e;case rs:o=16,a=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=Wn(o,r,t,i),t.elementType=e,t.type=a,t.lanes=s,t}function _o(e,t,r,a){return e=Wn(7,e,a,t),e.lanes=r,e}function mx(e,t,r,a){return e=Wn(22,e,a,t),e.elementType=aO,e.lanes=r,e.stateNode={isHidden:!1},e}function uy(e,t,r){return e=Wn(6,e,null,t),e.lanes=r,e}function fy(e,t,r){return t=Wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RB(e,t,r,a,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hv(0),this.expirationTimes=Hv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hv(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function h1(e,t,r,a,i,s,o,l,c){return e=new RB(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Wn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qw(s),e}function MB(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kl,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Y_(e){if(!e)return Bs;e=e._reactInternals;e:{if(rl(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(mn(r))return YO(e,r,t)}return t}function Q_(e,t,r,a,i,s,o,l,c){return e=h1(r,a,!0,e,i,s,o,l,c),e.context=Y_(null),r=e.current,a=rn(),i=Ts(r),s=ji(a,i),s.callback=t??null,Ps(r,s,i),e.current.lanes=i,ch(e,i,a),pn(e,a),e}function px(e,t,r,a){var i=t.current,s=rn(),o=Ts(i);return r=Y_(r),t.context===null?t.context=r:t.pendingContext=r,t=ji(s,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=Ps(i,t,o),e!==null&&(Aa(e,i,o,s),Dm(e,i,o)),o}function Ap(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function z2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function m1(e,t){z2(e,t),(e=e.alternate)&&z2(e,t)}function $B(){return null}var X_=typeof reportError=="function"?reportError:function(e){console.error(e)};function p1(e){this._internalRoot=e}gx.prototype.render=p1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));px(e,t,null,null)};gx.prototype.unmount=p1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bo(function(){px(null,e,null,null)}),t[_i]=null}};function gx(e){this._internalRoot=e}gx.prototype.unstable_scheduleHydration=function(e){if(e){var t=PO();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ss.length&&t!==0&&t<ss[r].priority;r++);ss.splice(r,0,e),r===0&&TO(e)}};function g1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function U2(){}function DB(e,t,r,a,i){if(i){if(typeof a=="function"){var s=a;a=function(){var d=Ap(o);s.call(d)}}var o=Q_(t,a,e,0,null,!1,!1,"",U2);return e._reactRootContainer=o,e[_i]=o.current,Ku(e.nodeType===8?e.parentNode:e),Bo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof a=="function"){var l=a;a=function(){var d=Ap(c);l.call(d)}}var c=h1(e,0,!1,null,null,!1,!1,"",U2);return e._reactRootContainer=c,e[_i]=c.current,Ku(e.nodeType===8?e.parentNode:e),Bo(function(){px(t,c,r,a)}),c}function vx(e,t,r,a,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Ap(o);l.call(c)}}px(t,o,e,i)}else o=DB(r,t,e,i,a);return Ap(o)}CO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=uu(t.pendingLanes);r!==0&&(Mw(t,r|1),pn(t,rr()),!(xt&6)&&(Cc=rr()+500,Qs()))}break;case 13:Bo(function(){var a=Ii(e,1);if(a!==null){var i=rn();Aa(a,e,1,i)}}),m1(e,1)}};$w=function(e){if(e.tag===13){var t=Ii(e,134217728);if(t!==null){var r=rn();Aa(t,e,134217728,r)}m1(e,134217728)}};AO=function(e){if(e.tag===13){var t=Ts(e),r=Ii(e,t);if(r!==null){var a=rn();Aa(r,e,t,a)}m1(e,t)}};PO=function(){return Pt};EO=function(e,t){var r=Pt;try{return Pt=e,t()}finally{Pt=r}};Cb=function(e,t,r){switch(t){case"input":if(yb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var i=lx(a);if(!i)throw Error(ge(90));sO(a),yb(a,i)}}}break;case"textarea":lO(e,r);break;case"select":t=r.value,t!=null&&Vl(e,!!r.multiple,t,!1)}};pO=c1;gO=Bo;var LB={usingClientEntryPoint:!1,Events:[uh,Tl,lx,hO,mO,c1]},Wd={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FB={bundleType:Wd.bundleType,version:Wd.version,rendererPackageName:Wd.rendererPackageName,rendererConfig:Wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yO(e),e===null?null:e.stateNode},findFiberByHostInstance:Wd.findFiberByHostInstance||$B,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var am=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!am.isDisabled&&am.supportsFiber)try{ax=am.inject(FB),Ka=am}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LB;$n.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g1(t))throw Error(ge(200));return MB(e,t,null,r)};$n.createRoot=function(e,t){if(!g1(e))throw Error(ge(299));var r=!1,a="",i=X_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=h1(e,1,!1,null,null,r,!1,a,i),e[_i]=t.current,Ku(e.nodeType===8?e.parentNode:e),new p1(t)};$n.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=yO(t),e=e===null?null:e.stateNode,e};$n.flushSync=function(e){return Bo(e)};$n.hydrate=function(e,t,r){if(!xx(t))throw Error(ge(200));return vx(null,e,t,!0,r)};$n.hydrateRoot=function(e,t,r){if(!g1(e))throw Error(ge(405));var a=r!=null&&r.hydratedSources||null,i=!1,s="",o=X_;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Q_(t,null,e,1,r??null,i,!1,s,o),e[_i]=t.current,Ku(e),a)for(e=0;e<a.length;e++)r=a[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new gx(t)};$n.render=function(e,t,r){if(!xx(t))throw Error(ge(200));return vx(null,e,t,!1,r)};$n.unmountComponentAtNode=function(e){if(!xx(e))throw Error(ge(40));return e._reactRootContainer?(Bo(function(){vx(null,null,e,!1,function(){e._reactRootContainer=null,e[_i]=null})}),!0):!1};$n.unstable_batchedUpdates=c1;$n.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!xx(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return vx(e,t,r,!1,a)};$n.version="18.3.1-next-f1338f8080-20240426";function J_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J_)}catch(e){console.error(e)}}J_(),JT.exports=$n;var nl=JT.exports;const BB=It(nl);var Z_,V2=nl;Z_=V2.createRoot,V2.hydrateRoot;function zB(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,a,i,s,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(o.push(r),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(a=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~a?a:~s?s:i.length)),l+=~a&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~a?"?":"")+"\\"+i.substring(s))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var e4={exports:{}},t4={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=x;function UB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VB=typeof Object.is=="function"?Object.is:UB,qB=Ac.useState,WB=Ac.useEffect,HB=Ac.useLayoutEffect,KB=Ac.useDebugValue;function GB(e,t){var r=t(),a=qB({inst:{value:r,getSnapshot:t}}),i=a[0].inst,s=a[1];return HB(function(){i.value=r,i.getSnapshot=t,hy(i)&&s({inst:i})},[e,r,t]),WB(function(){return hy(i)&&s({inst:i}),e(function(){hy(i)&&s({inst:i})})},[e]),KB(r),r}function hy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!VB(e,r)}catch{return!0}}function YB(e,t){return t()}var QB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?YB:GB;t4.useSyncExternalStore=Ac.useSyncExternalStore!==void 0?Ac.useSyncExternalStore:QB;e4.exports=t4;var XB=e4.exports;const JB=QT.useInsertionEffect,ZB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e8=ZB?x.useLayoutEffect:x.useEffect,t8=JB||e8,r4=e=>{const t=x.useRef([e,(...r)=>t[0](...r)]).current;return t8(()=>{t[0]=e}),t[1]},r8="popstate",x1="pushState",v1="replaceState",n8="hashchange",q2=[r8,x1,v1,n8],a8=e=>{for(const t of q2)addEventListener(t,e);return()=>{for(const t of q2)removeEventListener(t,e)}},n4=(e,t)=>XB.useSyncExternalStore(a8,e,t),i8=()=>location.search,s8=({ssrSearch:e=""}={})=>n4(i8,()=>e),W2=()=>location.pathname,o8=({ssrPath:e}={})=>n4(W2,e?()=>e:W2),l8=(e,{replace:t=!1,state:r=null}={})=>history[t?v1:x1](r,"",e),c8=(e={})=>[o8(e),l8],H2=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[H2]>"u"){for(const e of[x1,v1]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),r}}Object.defineProperty(window,H2,{value:!0})}const d8=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",a4=(e="")=>e==="/"?"":e,u8=(e,t)=>e[0]==="~"?e.slice(1):a4(t)+e,f8=(e="",t)=>d8(i0(a4(e)),i0(t)),h8=e=>e[0]==="?"?e.slice(1):e,i0=e=>{try{return decodeURI(e)}catch{return e}},m8=e=>i0(h8(e)),i4={hook:c8,searchHook:s8,parser:zB,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},s4=x.createContext(i4),md=()=>x.useContext(s4),o4={},l4=x.createContext(o4),p8=()=>x.useContext(l4),yx=e=>{const[t,r]=e.hook(e);return[f8(e.base,t),r4((a,i)=>r(u8(a,e.base),i))]},at=()=>yx(md()),c4=()=>{const e=md();return m8(e.searchHook(e))},d4=(e,t,r,a)=>{const{pattern:i,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),o=i.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const d=s!==!1?Object.fromEntries(s.map((f,h)=>[f,c[h]])):o.groups;let u={...c};return d&&Object.assign(u,d),u})(),...a?[l]:[]]:[!1,null]},g8=({children:e,...t})=>{var u,f;const r=md(),a=t.hook?i4:r;let i=a;const[s,o]=((u=t.ssrPath)==null?void 0:u.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=s),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=x.useRef({}),c=l.current,d=c;for(let h in a){const p=h==="base"?a[h]+(t[h]||""):t[h]||a[h];c===d&&p!==d[h]&&(l.current=d={...d}),d[h]=p,p!==a[h]&&(i=d)}return x.createElement(s4.Provider,{value:i,children:e})},K2=({children:e,component:t},r)=>t?x.createElement(t,{params:r}):typeof e=="function"?e(r):e,x8=e=>{let t=x.useRef(o4),r=t.current;for(const a in e)e[a]!==r[a]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Se=({path:e,nest:t,match:r,...a})=>{const i=md(),[s]=yx(i),[o,l,c]=r??d4(i.parser,e,s,t),d=x8({...p8(),...l});if(!o)return null;const u=c?x.createElement(g8,{base:c},K2(a,d)):K2(a,d);return x.createElement(l4.Provider,{value:d,children:u})},dr=x.forwardRef((e,t)=>{const r=md(),[a,i]=yx(r),{to:s="",href:o=s,onClick:l,asChild:c,children:d,className:u,replace:f,state:h,...p}=e,b=r4(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),i(o,e)))}),g=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&x.isValidElement(d)?x.cloneElement(d,{onClick:b,href:g}):x.createElement("a",{...p,onClick:b,href:g,className:u!=null&&u.call?u(a===o):u,children:d,ref:t})}),u4=e=>Array.isArray(e)?e.flatMap(t=>u4(t&&t.type===x.Fragment?t.props.children:t)):[e],v8=({children:e,location:t})=>{const r=md(),[a]=yx(r);for(const i of u4(e)){let s=0;if(x.isValidElement(i)&&(s=d4(r.parser,i.props.path,t||a,i.props.nest))[0])return x.cloneElement(i,{match:s})}return null};var pd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zo=typeof window>"u"||"Deno"in globalThis;function Un(){}function y8(e,t){return typeof e=="function"?e(t):e}function s0(e){return typeof e=="number"&&e>=0&&e!==1/0}function f4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Yl(e,t){return typeof e=="function"?e(t):e}function ya(e,t){return typeof e=="function"?e(t):e}function G2(e,t){const{type:r="all",exact:a,fetchStatus:i,predicate:s,queryKey:o,stale:l}=e;if(o){if(a){if(t.queryHash!==y1(o,t.options))return!1}else if(!rf(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function Y2(e,t){const{exact:r,status:a,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Uo(t.options.mutationKey)!==Uo(s))return!1}else if(!rf(t.options.mutationKey,s))return!1}return!(a&&t.state.status!==a||i&&!i(t))}function y1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Uo)(e)}function Uo(e){return JSON.stringify(e,(t,r)=>o0(r)?Object.keys(r).sort().reduce((a,i)=>(a[i]=r[i],a),{}):r)}function rf(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!rf(e[r],t[r])):!1}function h4(e,t){if(e===t)return e;const r=Q2(e)&&Q2(t);if(r||o0(e)&&o0(t)){const a=r?e:Object.keys(e),i=a.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{};let c=0;for(let d=0;d<o;d++){const u=r?d:s[d];(!r&&a.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,c++):(l[u]=h4(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&c++)}return i===o&&c===i?e:l}return t}function Pp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Q2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function o0(e){if(!X2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!X2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function X2(e){return Object.prototype.toString.call(e)==="[object Object]"}function b8(e){return new Promise(t=>{setTimeout(t,e)})}function l0(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?h4(e,t):t}function j8(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function w8(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var b1=Symbol();function m4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===b1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var So,ds,oc,TT,N8=(TT=class extends pd{constructor(){super();He(this,So);He(this,ds);He(this,oc);Te(this,oc,t=>{if(!zo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){U(this,ds)||this.setEventListener(U(this,oc))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,ds))==null||t.call(this),Te(this,ds,void 0))}setEventListener(t){var r;Te(this,oc,t),(r=U(this,ds))==null||r.call(this),Te(this,ds,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){U(this,So)!==t&&(Te(this,So,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof U(this,So)=="boolean"?U(this,So):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},So=new WeakMap,ds=new WeakMap,oc=new WeakMap,TT),j1=new N8,lc,us,cc,OT,S8=(OT=class extends pd{constructor(){super();He(this,lc,!0);He(this,us);He(this,cc);Te(this,cc,t=>{if(!zo&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){U(this,us)||this.setEventListener(U(this,cc))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,us))==null||t.call(this),Te(this,us,void 0))}setEventListener(t){var r;Te(this,cc,t),(r=U(this,us))==null||r.call(this),Te(this,us,t(this.setOnline.bind(this)))}setOnline(t){U(this,lc)!==t&&(Te(this,lc,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return U(this,lc)}},lc=new WeakMap,us=new WeakMap,cc=new WeakMap,OT),Ep=new S8;function c0(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function a(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{a({status:"fulfilled",value:i}),e(i)},r.reject=i=>{a({status:"rejected",reason:i}),t(i)},r}function k8(e){return Math.min(1e3*2**e,3e4)}function p4(e){return(e??"online")==="online"?Ep.isOnline():!0}var g4=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function my(e){return e instanceof g4}function x4(e){let t=!1,r=0,a=!1,i;const s=c0(),o=g=>{var y;a||(h(new g4(g)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>j1.isFocused()&&(e.networkMode==="always"||Ep.isOnline())&&e.canRun(),u=()=>p4(e.networkMode)&&e.canRun(),f=g=>{var y;a||(a=!0,(y=e.onSuccess)==null||y.call(e,g),i==null||i(),s.resolve(g))},h=g=>{var y;a||(a=!0,(y=e.onError)==null||y.call(e,g),i==null||i(),s.reject(g))},p=()=>new Promise(g=>{var y;i=v=>{(a||d())&&g(v)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;i=void 0,a||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(a)return;let g;const y=r===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(f).catch(v=>{var S;if(a)return;const m=e.retry??(zo?0:3),j=e.retryDelay??k8,N=typeof j=="function"?j(r,v):j,w=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,v);if(t||!w){h(v);return}r++,(S=e.onFail)==null||S.call(e,r,v),b8(N).then(()=>d()?void 0:p()).then(()=>{t?h(v):b()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?b():p().then(b),s)}}function C8(){let e=[],t=0,r=l=>{l()},a=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{a(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{i=l}}}var gr=C8(),ko,_T,v4=(_T=class{constructor(){He(this,ko)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),s0(this.gcTime)&&Te(this,ko,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(zo?1/0:5*60*1e3))}clearGcTimeout(){U(this,ko)&&(clearTimeout(U(this,ko)),Te(this,ko,void 0))}},ko=new WeakMap,_T),dc,uc,zn,Fr,ah,Co,ha,ui,IT,A8=(IT=class extends v4{constructor(t){super();He(this,ha);He(this,dc);He(this,uc);He(this,zn);He(this,Fr);He(this,ah);He(this,Co);Te(this,Co,!1),Te(this,ah,t.defaultOptions),this.setOptions(t.options),this.observers=[],Te(this,zn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Te(this,dc,P8(this.options)),this.state=t.state??U(this,dc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,Fr))==null?void 0:t.promise}setOptions(t){this.options={...U(this,ah),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,zn).remove(this)}setData(t,r){const a=l0(this.state.data,t,this.options);return it(this,ha,ui).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){it(this,ha,ui).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,i;const r=(a=U(this,Fr))==null?void 0:a.promise;return(i=U(this,Fr))==null||i.cancel(t),r?r.then(Un).catch(Un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,dc))}isActive(){return this.observers.some(t=>ya(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===b1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!f4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,Fr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=U(this,Fr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,zn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(U(this,Fr)&&(U(this,Co)?U(this,Fr).cancel({revert:!0}):U(this,Fr).cancelRetry()),this.scheduleGc()),U(this,zn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||it(this,ha,ui).call(this,{type:"invalidate"})}fetch(t,r){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Fr))return U(this,Fr).continueRetry(),U(this,Fr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const a=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Te(this,Co,!0),a.signal)})},s=()=>{const f=m4(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return i(h),Te(this,Co,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),Te(this,uc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&it(this,ha,ui).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const l=f=>{var h,p,b,g;my(f)&&f.silent||it(this,ha,ui).call(this,{type:"error",error:f}),my(f)||((p=(h=U(this,zn).config).onError)==null||p.call(h,f,this),(g=(b=U(this,zn).config).onSettled)==null||g.call(b,this.state.data,f,this)),this.scheduleGc()};return Te(this,Fr,x4({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:a.abort.bind(a),onSuccess:f=>{var h,p,b,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(p=(h=U(this,zn).config).onSuccess)==null||p.call(h,f,this),(g=(b=U(this,zn).config).onSettled)==null||g.call(b,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{it(this,ha,ui).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{it(this,ha,ui).call(this,{type:"pause"})},onContinue:()=>{it(this,ha,ui).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),U(this,Fr).start()}},dc=new WeakMap,uc=new WeakMap,zn=new WeakMap,Fr=new WeakMap,ah=new WeakMap,Co=new WeakMap,ha=new WeakSet,ui=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...y4(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return my(i)&&i.revert&&U(this,uc)?{...U(this,uc),fetchStatus:"idle"}:{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),gr.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),U(this,zn).notify({query:this,type:"updated",action:t})})},IT);function y4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:p4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function P8(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fa,RT,E8=(RT=class extends pd{constructor(t={}){super();He(this,Fa);this.config=t,Te(this,Fa,new Map)}build(t,r,a){const i=r.queryKey,s=r.queryHash??y1(i,r);let o=this.get(s);return o||(o=new A8({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){U(this,Fa).has(t.queryHash)||(U(this,Fa).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=U(this,Fa).get(t.queryHash);r&&(t.destroy(),r===t&&U(this,Fa).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,Fa).get(t)}getAll(){return[...U(this,Fa).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>G2(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>G2(t,a)):r}notify(t){gr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Fa=new WeakMap,RT),Ba,Qr,Ao,za,es,MT,T8=(MT=class extends v4{constructor(t){super();He(this,za);He(this,Ba);He(this,Qr);He(this,Ao);this.mutationId=t.mutationId,Te(this,Qr,t.mutationCache),Te(this,Ba,[]),this.state=t.state||b4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,Ba).includes(t)||(U(this,Ba).push(t),this.clearGcTimeout(),U(this,Qr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Te(this,Ba,U(this,Ba).filter(r=>r!==t)),this.scheduleGc(),U(this,Qr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,Ba).length||(this.state.status==="pending"?this.scheduleGc():U(this,Qr).remove(this))}continue(){var t;return((t=U(this,Ao))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,o,l,c,d,u,f,h,p,b,g,y,v,m,j,N,w,S,k;Te(this,Ao,x4({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{it(this,za,es).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{it(this,za,es).call(this,{type:"pause"})},onContinue:()=>{it(this,za,es).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Qr).canRun(this)}));const r=this.state.status==="pending",a=!U(this,Ao).canStart();try{if(!r){it(this,za,es).call(this,{type:"pending",variables:t,isPaused:a}),await((s=(i=U(this,Qr).config).onMutate)==null?void 0:s.call(i,t,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));A!==this.state.context&&it(this,za,es).call(this,{type:"pending",context:A,variables:t,isPaused:a})}const C=await U(this,Ao).start();return await((d=(c=U(this,Qr).config).onSuccess)==null?void 0:d.call(c,C,t,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,C,t,this.state.context)),await((p=(h=U(this,Qr).config).onSettled)==null?void 0:p.call(h,C,null,this.state.variables,this.state.context,this)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,C,null,t,this.state.context)),it(this,za,es).call(this,{type:"success",data:C}),C}catch(C){try{throw await((v=(y=U(this,Qr).config).onError)==null?void 0:v.call(y,C,t,this.state.context,this)),await((j=(m=this.options).onError)==null?void 0:j.call(m,C,t,this.state.context)),await((w=(N=U(this,Qr).config).onSettled)==null?void 0:w.call(N,void 0,C,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,C,t,this.state.context)),C}finally{it(this,za,es).call(this,{type:"error",error:C})}}finally{U(this,Qr).runNext(this)}}},Ba=new WeakMap,Qr=new WeakMap,Ao=new WeakMap,za=new WeakSet,es=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),gr.batch(()=>{U(this,Ba).forEach(a=>{a.onMutationUpdate(t)}),U(this,Qr).notify({mutation:this,type:"updated",action:t})})},MT);function b4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wn,ih,$T,O8=($T=class extends pd{constructor(t={}){super();He(this,wn);He(this,ih);this.config=t,Te(this,wn,new Map),Te(this,ih,Date.now())}build(t,r,a){const i=new T8({mutationCache:this,mutationId:++Bh(this,ih)._,options:t.defaultMutationOptions(r),state:a});return this.add(i),i}add(t){const r=im(t),a=U(this,wn).get(r)??[];a.push(t),U(this,wn).set(r,a),this.notify({type:"added",mutation:t})}remove(t){var a;const r=im(t);if(U(this,wn).has(r)){const i=(a=U(this,wn).get(r))==null?void 0:a.filter(s=>s!==t);i&&(i.length===0?U(this,wn).delete(r):U(this,wn).set(r,i))}this.notify({type:"removed",mutation:t})}canRun(t){var a;const r=(a=U(this,wn).get(im(t)))==null?void 0:a.find(i=>i.state.status==="pending");return!r||r===t}runNext(t){var a;const r=(a=U(this,wn).get(im(t)))==null?void 0:a.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...U(this,wn).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(a=>Y2(r,a))}findAll(t={}){return this.getAll().filter(r=>Y2(t,r))}notify(t){gr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return gr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Un))))}},wn=new WeakMap,ih=new WeakMap,$T);function im(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function J2(e){return{onFetch:(t,r)=>{var u,f,h,p,b;const a=t.options,i=(h=(f=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((p=t.state.data)==null?void 0:p.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},v=m4(t.options,t.fetchOptions),m=async(j,N,w)=>{if(g)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const S={queryKey:t.queryKey,pageParam:N,direction:w?"backward":"forward",meta:t.options.meta};y(S);const k=await v(S),{maxPages:C}=t.options,A=w?w8:j8;return{pages:A(j.pages,k,C),pageParams:A(j.pageParams,N,C)}};if(i&&s.length){const j=i==="backward",N=j?_8:Z2,w={pages:s,pageParams:o},S=N(a,w);l=await m(w,S,j)}else{const j=e??s.length;do{const N=c===0?o[0]??a.initialPageParam:Z2(a,l);if(c>0&&N==null)break;l=await m(l,N),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Z2(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function _8(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var Yt,fs,hs,fc,hc,ms,mc,pc,DT,I8=(DT=class{constructor(e={}){He(this,Yt);He(this,fs);He(this,hs);He(this,fc);He(this,hc);He(this,ms);He(this,mc);He(this,pc);Te(this,Yt,e.queryCache||new E8),Te(this,fs,e.mutationCache||new O8),Te(this,hs,e.defaultOptions||{}),Te(this,fc,new Map),Te(this,hc,new Map),Te(this,ms,0)}mount(){Bh(this,ms)._++,U(this,ms)===1&&(Te(this,mc,j1.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Yt).onFocus())})),Te(this,pc,Ep.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Yt).onOnline())})))}unmount(){var e,t;Bh(this,ms)._--,U(this,ms)===0&&((e=U(this,mc))==null||e.call(this),Te(this,mc,void 0),(t=U(this,pc))==null||t.call(this),Te(this,pc,void 0))}isFetching(e){return U(this,Yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,fs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,Yt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),a=U(this,Yt).build(this,r);return e.revalidateIfStale&&a.isStaleByTime(Yl(r.staleTime,a))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return U(this,Yt).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),i=U(this,Yt).get(a.queryHash),s=i==null?void 0:i.state.data,o=y8(t,s);if(o!==void 0)return U(this,Yt).build(this,a).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return gr.batch(()=>U(this,Yt).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=U(this,Yt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=U(this,Yt);gr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=U(this,Yt),a={type:"active",...e};return gr.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(a,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},a=gr.batch(()=>U(this,Yt).findAll(e).map(i=>i.cancel(r)));return Promise.all(a).then(Un).catch(Un)}invalidateQueries(e={},t={}){return gr.batch(()=>{if(U(this,Yt).findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},a=gr.batch(()=>U(this,Yt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Un)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(a).then(Un)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=U(this,Yt).build(this,t);return r.isStaleByTime(Yl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Un).catch(Un)}fetchInfiniteQuery(e){return e.behavior=J2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Un).catch(Un)}ensureInfiniteQueryData(e){return e.behavior=J2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ep.isOnline()?U(this,fs).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Yt)}getMutationCache(){return U(this,fs)}getDefaultOptions(){return U(this,hs)}setDefaultOptions(e){Te(this,hs,e)}setQueryDefaults(e,t){U(this,fc).set(Uo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,fc).values()];let r={};return t.forEach(a=>{rf(e,a.queryKey)&&(r={...r,...a.defaultOptions})}),r}setMutationDefaults(e,t){U(this,hc).set(Uo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,hc).values()];let r={};return t.forEach(a=>{rf(e,a.mutationKey)&&(r={...r,...a.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,hs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=y1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===b1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,hs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,Yt).clear(),U(this,fs).clear()}},Yt=new WeakMap,fs=new WeakMap,hs=new WeakMap,fc=new WeakMap,hc=new WeakMap,ms=new WeakMap,mc=new WeakMap,pc=new WeakMap,DT),ln,mt,sh,Xr,Po,gc,ps,Ua,oh,xc,vc,Eo,To,gs,yc,Ct,hu,d0,u0,f0,h0,m0,p0,g0,j4,LT,R8=(LT=class extends pd{constructor(t,r){super();He(this,Ct);He(this,ln);He(this,mt);He(this,sh);He(this,Xr);He(this,Po);He(this,gc);He(this,ps);He(this,Ua);He(this,oh);He(this,xc);He(this,vc);He(this,Eo);He(this,To);He(this,gs);He(this,yc,new Set);this.options=r,Te(this,ln,t),Te(this,Ua,null),Te(this,ps,c0()),this.options.experimental_prefetchInRender||U(this,ps).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,mt).addObserver(this),ek(U(this,mt),this.options)?it(this,Ct,hu).call(this):this.updateResult(),it(this,Ct,h0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return x0(U(this,mt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return x0(U(this,mt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,it(this,Ct,m0).call(this),it(this,Ct,p0).call(this),U(this,mt).removeObserver(this)}setOptions(t,r){const a=this.options,i=U(this,mt);if(this.options=U(this,ln).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ya(this.options.enabled,U(this,mt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");it(this,Ct,g0).call(this),U(this,mt).setOptions(this.options),a._defaulted&&!Pp(this.options,a)&&U(this,ln).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,mt),observer:this});const s=this.hasListeners();s&&tk(U(this,mt),i,this.options,a)&&it(this,Ct,hu).call(this),this.updateResult(r),s&&(U(this,mt)!==i||ya(this.options.enabled,U(this,mt))!==ya(a.enabled,U(this,mt))||Yl(this.options.staleTime,U(this,mt))!==Yl(a.staleTime,U(this,mt)))&&it(this,Ct,d0).call(this);const o=it(this,Ct,u0).call(this);s&&(U(this,mt)!==i||ya(this.options.enabled,U(this,mt))!==ya(a.enabled,U(this,mt))||o!==U(this,gs))&&it(this,Ct,f0).call(this,o)}getOptimisticResult(t){const r=U(this,ln).getQueryCache().build(U(this,ln),t),a=this.createResult(r,t);return $8(this,a)&&(Te(this,Xr,a),Te(this,gc,this.options),Te(this,Po,U(this,mt).state)),a}getCurrentResult(){return U(this,Xr)}trackResult(t,r){const a={};return Object.keys(t).forEach(i=>{Object.defineProperty(a,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),a}trackProp(t){U(this,yc).add(t)}getCurrentQuery(){return U(this,mt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=U(this,ln).defaultQueryOptions(t),a=U(this,ln).getQueryCache().build(U(this,ln),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(t){return it(this,Ct,hu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Xr)))}createResult(t,r){var C;const a=U(this,mt),i=this.options,s=U(this,Xr),o=U(this,Po),l=U(this,gc),d=t!==a?t.state:U(this,sh),{state:u}=t;let f={...u},h=!1,p;if(r._optimisticResults){const A=this.hasListeners(),O=!A&&ek(t,r),I=A&&tk(t,a,r,i);(O||I)&&(f={...f,...y4(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:g,status:y}=f;if(r.select&&f.data!==void 0)if(s&&f.data===(o==null?void 0:o.data)&&r.select===U(this,oh))p=U(this,xc);else try{Te(this,oh,r.select),p=r.select(f.data),p=l0(s==null?void 0:s.data,p,r),Te(this,xc,p),Te(this,Ua,null)}catch(A){Te(this,Ua,A)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let A;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))A=s.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((C=U(this,vc))==null?void 0:C.state.data,U(this,vc)):r.placeholderData,r.select&&A!==void 0)try{A=r.select(A),Te(this,Ua,null)}catch(O){Te(this,Ua,O)}A!==void 0&&(y="success",p=l0(s==null?void 0:s.data,A,r),h=!0)}U(this,Ua)&&(b=U(this,Ua),p=U(this,xc),g=Date.now(),y="error");const v=f.fetchStatus==="fetching",m=y==="pending",j=y==="error",N=m&&v,w=p!==void 0,k={status:y,fetchStatus:f.fetchStatus,isPending:m,isSuccess:y==="success",isError:j,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!m,isLoadingError:j&&!w,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&w,isStale:w1(t,r),refetch:this.refetch,promise:U(this,ps)};if(this.options.experimental_prefetchInRender){const A=P=>{k.status==="error"?P.reject(k.error):k.data!==void 0&&P.resolve(k.data)},O=()=>{const P=Te(this,ps,k.promise=c0());A(P)},I=U(this,ps);switch(I.status){case"pending":t.queryHash===a.queryHash&&A(I);break;case"fulfilled":(k.status==="error"||k.data!==I.value)&&O();break;case"rejected":(k.status!=="error"||k.error!==I.reason)&&O();break}}return k}updateResult(t){const r=U(this,Xr),a=this.createResult(U(this,mt),this.options);if(Te(this,Po,U(this,mt).state),Te(this,gc,this.options),U(this,Po).data!==void 0&&Te(this,vc,U(this,mt)),Pp(a,r))return;Te(this,Xr,a);const i={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!U(this,yc).size)return!0;const c=new Set(l??U(this,yc));return this.options.throwOnError&&c.add("error"),Object.keys(U(this,Xr)).some(d=>{const u=d;return U(this,Xr)[u]!==r[u]&&c.has(u)})};(t==null?void 0:t.listeners)!==!1&&s()&&(i.listeners=!0),it(this,Ct,j4).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&it(this,Ct,h0).call(this)}},ln=new WeakMap,mt=new WeakMap,sh=new WeakMap,Xr=new WeakMap,Po=new WeakMap,gc=new WeakMap,ps=new WeakMap,Ua=new WeakMap,oh=new WeakMap,xc=new WeakMap,vc=new WeakMap,Eo=new WeakMap,To=new WeakMap,gs=new WeakMap,yc=new WeakMap,Ct=new WeakSet,hu=function(t){it(this,Ct,g0).call(this);let r=U(this,mt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Un)),r},d0=function(){it(this,Ct,m0).call(this);const t=Yl(this.options.staleTime,U(this,mt));if(zo||U(this,Xr).isStale||!s0(t))return;const a=f4(U(this,Xr).dataUpdatedAt,t)+1;Te(this,Eo,setTimeout(()=>{U(this,Xr).isStale||this.updateResult()},a))},u0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,mt)):this.options.refetchInterval)??!1},f0=function(t){it(this,Ct,p0).call(this),Te(this,gs,t),!(zo||ya(this.options.enabled,U(this,mt))===!1||!s0(U(this,gs))||U(this,gs)===0)&&Te(this,To,setInterval(()=>{(this.options.refetchIntervalInBackground||j1.isFocused())&&it(this,Ct,hu).call(this)},U(this,gs)))},h0=function(){it(this,Ct,d0).call(this),it(this,Ct,f0).call(this,it(this,Ct,u0).call(this))},m0=function(){U(this,Eo)&&(clearTimeout(U(this,Eo)),Te(this,Eo,void 0))},p0=function(){U(this,To)&&(clearInterval(U(this,To)),Te(this,To,void 0))},g0=function(){const t=U(this,ln).getQueryCache().build(U(this,ln),this.options);if(t===U(this,mt))return;const r=U(this,mt);Te(this,mt,t),Te(this,sh,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},j4=function(t){gr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(U(this,Xr))}),U(this,ln).getQueryCache().notify({query:U(this,mt),type:"observerResultsUpdated"})})},LT);function M8(e,t){return ya(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ek(e,t){return M8(e,t)||e.state.data!==void 0&&x0(e,t,t.refetchOnMount)}function x0(e,t,r){if(ya(t.enabled,e)!==!1){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&w1(e,t)}return!1}function tk(e,t,r,a){return(e!==t||ya(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&w1(e,r)}function w1(e,t){return ya(t.enabled,e)!==!1&&e.isStaleByTime(Yl(t.staleTime,e))}function $8(e,t){return!Pp(e.getCurrentResult(),t)}var xs,vs,cn,mi,Ti,qm,v0,FT,D8=(FT=class extends pd{constructor(r,a){super();He(this,Ti);He(this,xs);He(this,vs);He(this,cn);He(this,mi);Te(this,xs,r),this.setOptions(a),this.bindMethods(),it(this,Ti,qm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const a=this.options;this.options=U(this,xs).defaultMutationOptions(r),Pp(this.options,a)||U(this,xs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,cn),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Uo(a.mutationKey)!==Uo(this.options.mutationKey)?this.reset():((i=U(this,cn))==null?void 0:i.state.status)==="pending"&&U(this,cn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=U(this,cn))==null||r.removeObserver(this)}onMutationUpdate(r){it(this,Ti,qm).call(this),it(this,Ti,v0).call(this,r)}getCurrentResult(){return U(this,vs)}reset(){var r;(r=U(this,cn))==null||r.removeObserver(this),Te(this,cn,void 0),it(this,Ti,qm).call(this),it(this,Ti,v0).call(this)}mutate(r,a){var i;return Te(this,mi,a),(i=U(this,cn))==null||i.removeObserver(this),Te(this,cn,U(this,xs).getMutationCache().build(U(this,xs),this.options)),U(this,cn).addObserver(this),U(this,cn).execute(r)}},xs=new WeakMap,vs=new WeakMap,cn=new WeakMap,mi=new WeakMap,Ti=new WeakSet,qm=function(){var a;const r=((a=U(this,cn))==null?void 0:a.state)??b4();Te(this,vs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},v0=function(r){gr.batch(()=>{var a,i,s,o,l,c,d,u;if(U(this,mi)&&this.hasListeners()){const f=U(this,vs).variables,h=U(this,vs).context;(r==null?void 0:r.type)==="success"?((i=(a=U(this,mi)).onSuccess)==null||i.call(a,r.data,f,h),(o=(s=U(this,mi)).onSettled)==null||o.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=U(this,mi)).onError)==null||c.call(l,r.error,f,h),(u=(d=U(this,mi)).onSettled)==null||u.call(d,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(U(this,vs))})})},FT),w4=x.createContext(void 0),bx=e=>{const t=x.useContext(w4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},L8=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(w4.Provider,{value:e,children:t})),N4=x.createContext(!1),F8=()=>x.useContext(N4);N4.Provider;function B8(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var z8=x.createContext(B8()),U8=()=>x.useContext(z8);function S4(e,t){return typeof e=="function"?e(...t):!!e}function y0(){}var V8=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},q8=e=>{x.useEffect(()=>{e.clearReset()},[e])},W8=({result:e,errorResetBoundary:t,throwOnError:r,query:a})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&S4(r,[e.error,a]),H8=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},K8=(e,t)=>e.isLoading&&e.isFetching&&!t,G8=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,rk=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Y8(e,t,r){var u,f,h,p,b;const a=bx(),i=F8(),s=U8(),o=a.defaultQueryOptions(e);(f=(u=a.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||f.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",H8(o),V8(o,s),q8(s);const l=!a.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(a,o)),d=c.getOptimisticResult(o);if(x.useSyncExternalStore(x.useCallback(g=>{const y=i?y0:c.subscribe(gr.batchCalls(g));return c.updateResult(),y},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),G8(o,d))throw rk(o,c,s);if(W8({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash)}))throw d.error;if((p=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,d),o.experimental_prefetchInRender&&!zo&&K8(d,i)){const g=l?rk(o,c,s):(b=a.getQueryCache().get(o.queryHash))==null?void 0:b.promise;g==null||g.catch(y0).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?d:c.trackResult(d)}function ue(e,t){return Y8(e,R8)}function qe(e,t){const r=bx(),[a]=x.useState(()=>new D8(r,e));x.useEffect(()=>{a.setOptions(e)},[a,e]);const i=x.useSyncExternalStore(x.useCallback(o=>a.subscribe(gr.batchCalls(o)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),s=x.useCallback((o,l)=>{a.mutate(o,l).catch(y0)},[a]);if(i.error&&S4(a.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function k4(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}function C4(e){const t=e.includes("?")?"&":"?";return`${e}${t}_t=${Date.now()}`}async function ut(e,t,r){const a=C4(t),i=localStorage.getItem("adminToken"),s=await fetch(a,{method:e,headers:{...r?{"Content-Type":"application/json"}:{},...i?{Authorization:`Bearer ${i}`}:{},"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"},body:r?JSON.stringify(r):void 0,credentials:"include",cache:"no-store"});return await k4(s),s}const Q8=({on401:e})=>async({queryKey:t})=>{const r=C4(t.join("/")),a=await fetch(r,{credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"},cache:"no-store"});return e==="returnNull"&&a.status===401?null:(await k4(a),await a.json())},Pe=new I8({defaultOptions:{queries:{queryFn:Q8({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),X8=1,J8=1e6;let py=0;function Z8(){return py=(py+1)%Number.MAX_SAFE_INTEGER,py.toString()}const gy=new Map,nk=e=>{if(gy.has(e))return;const t=setTimeout(()=>{gy.delete(e),Cu({type:"REMOVE_TOAST",toastId:e})},J8);gy.set(e,t)},ez=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,X8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?nk(r):e.toasts.forEach(a=>{nk(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Wm=[];let Hm={toasts:[]};function Cu(e){Hm=ez(Hm,e),Wm.forEach(t=>{t(Hm)})}function tz({...e}){const t=Z8(),r=i=>Cu({type:"UPDATE_TOAST",toast:{...i,id:t}}),a=()=>Cu({type:"DISMISS_TOAST",toastId:t});return Cu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||a()}}}),{id:t,dismiss:a,update:r}}function tt(){const[e,t]=x.useState(Hm);return x.useEffect(()=>(Wm.push(t),()=>{const r=Wm.indexOf(t);r>-1&&Wm.splice(r,1)}),[e]),{...e,toast:tz,dismiss:r=>Cu({type:"DISMISS_TOAST",toastId:r})}}function Ie(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function ak(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function A4(...e){return t=>{let r=!1;const a=e.map(i=>{const s=ak(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<a.length;i++){const s=a[i];typeof s=="function"?s():ak(e[i],null)}}}}function nt(...e){return x.useCallback(A4(...e),e)}function rz(e,t){const r=x.createContext(t),a=s=>{const{children:o,...l}=s,c=x.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:c,children:o})};a.displayName=e+"Provider";function i(s){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[a,i]}function vn(e,t=[]){let r=[];function a(s,o){const l=x.createContext(o),c=r.length;r=[...r,o];const d=f=>{var v;const{scope:h,children:p,...b}=f,g=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,y=x.useMemo(()=>b,Object.values(b));return n.jsx(g.Provider,{value:y,children:p})};d.displayName=s+"Provider";function u(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||l,b=x.useContext(p);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[d,u]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[a,nz(i,...t)]}function nz(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=a.reduce((l,{useScope:c,scopeName:d})=>{const f=c(s)[`__scope${d}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Pc(e){const t=az(e),r=x.forwardRef((a,i)=>{const{children:s,...o}=a,l=x.Children.toArray(s),c=l.find(iz);if(c){const d=c.props.children,u=l.map(f=>f===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:f);return n.jsx(t,{...o,ref:i,children:x.isValidElement(d)?x.cloneElement(d,void 0,u):null})}return n.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var jx=Pc("Slot");function az(e){const t=x.forwardRef((r,a)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=oz(i),l=sz(s,i.props);return i.type!==x.Fragment&&(l.ref=a?A4(a,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var P4=Symbol("radix.slottable");function E4(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=P4,t}function iz(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===P4}function sz(e,t){const r={...t};for(const a in t){const i=e[a],s=t[a];/^on[A-Z]/.test(a)?i&&s?r[a]=(...l)=>{s(...l),i(...l)}:i&&(r[a]=i):a==="style"?r[a]={...i,...s}:a==="className"&&(r[a]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function oz(e){var a,i;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function wx(e){const t=e+"CollectionProvider",[r,a]=vn(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:v}=g,m=F.useRef(null),j=F.useRef(new Map).current;return n.jsx(i,{scope:y,itemMap:j,collectionRef:m,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=Pc(l),d=F.forwardRef((g,y)=>{const{scope:v,children:m}=g,j=s(l,v),N=nt(y,j.collectionRef);return n.jsx(c,{ref:N,children:m})});d.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",h=Pc(u),p=F.forwardRef((g,y)=>{const{scope:v,children:m,...j}=g,N=F.useRef(null),w=nt(y,N),S=s(u,v);return F.useEffect(()=>(S.itemMap.set(N,{ref:N,...j}),()=>void S.itemMap.delete(N))),n.jsx(h,{[f]:"",ref:w,children:m})});p.displayName=u;function b(g){const y=s(e+"CollectionConsumer",g);return F.useCallback(()=>{const m=y.collectionRef.current;if(!m)return[];const j=Array.from(m.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((S,k)=>j.indexOf(S.ref.current)-j.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},b,a]}var lz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ue=lz.reduce((e,t)=>{const r=Pc(`Primitive.${t}`),a=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...l,ref:s})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function T4(e,t){e&&nl.flushSync(()=>e.dispatchEvent(t))}function nr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}function cz(e,t=globalThis==null?void 0:globalThis.document){const r=nr(e);x.useEffect(()=>{const a=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var dz="DismissableLayer",b0="dismissableLayer.update",uz="dismissableLayer.pointerDownOutside",fz="dismissableLayer.focusOutside",ik,O4=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hh=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,d=x.useContext(O4),[u,f]=x.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),b=nt(t,k=>f(k)),g=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(y),m=u?g.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,N=m>=v,w=mz(k=>{const C=k.target,A=[...d.branches].some(O=>O.contains(C));!N||A||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),S=pz(k=>{const C=k.target;[...d.branches].some(O=>O.contains(C))||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return cz(k=>{m===d.layers.size-1&&(a==null||a(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),x.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ik=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),sk(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=ik)}},[u,h,r,d]),x.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),sk())},[u,d]),x.useEffect(()=>{const k=()=>p({});return document.addEventListener(b0,k),()=>document.removeEventListener(b0,k)},[]),n.jsx(Ue.div,{...c,ref:b,style:{pointerEvents:j?N?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,w.onPointerDownCapture)})});hh.displayName=dz;var hz="DismissableLayerBranch",_4=x.forwardRef((e,t)=>{const r=x.useContext(O4),a=x.useRef(null),i=nt(t,a);return x.useEffect(()=>{const s=a.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),n.jsx(Ue.div,{...e,ref:i})});_4.displayName=hz;function mz(e,t=globalThis==null?void 0:globalThis.document){const r=nr(e),a=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!a.current){let c=function(){I4(uz,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);a.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function pz(e,t=globalThis==null?void 0:globalThis.document){const r=nr(e),a=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!a.current&&I4(fz,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function sk(){const e=new CustomEvent(b0);document.dispatchEvent(e)}function I4(e,t,r,{discrete:a}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),a?T4(i,s):i.dispatchEvent(s)}var gz=hh,xz=_4,$r=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},vz="Portal",Nx=x.forwardRef((e,t)=>{var l;const{container:r,...a}=e,[i,s]=x.useState(!1);$r(()=>s(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?BB.createPortal(n.jsx(Ue.div,{...a,ref:t}),o):null});Nx.displayName=vz;function yz(e,t){return x.useReducer((r,a)=>t[r][a]??r,e)}var ra=e=>{const{present:t,children:r}=e,a=bz(t),i=typeof r=="function"?r({present:a.isPresent}):x.Children.only(r),s=nt(a.ref,jz(i));return typeof r=="function"||a.isPresent?x.cloneElement(i,{ref:s}):null};ra.displayName="Presence";function bz(e){const[t,r]=x.useState(),a=x.useRef({}),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=yz(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=sm(a.current);s.current=l==="mounted"?d:"none"},[l]),$r(()=>{const d=a.current,u=i.current;if(u!==e){const h=s.current,p=sm(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),$r(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const g=sm(a.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=p=>{p.target===t&&(s.current=sm(a.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(d=>{d&&(a.current=getComputedStyle(d)),r(d)},[])}}function sm(e){return(e==null?void 0:e.animationName)||"none"}function jz(e){var a,i;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Za({prop:e,defaultProp:t,onChange:r=()=>{}}){const[a,i]=wz({defaultProp:t,onChange:r}),s=e!==void 0,o=s?e:a,l=nr(r),c=x.useCallback(d=>{if(s){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else i(d)},[s,e,i,l]);return[o,c]}function wz({defaultProp:e,onChange:t}){const r=x.useState(e),[a]=r,i=x.useRef(a),s=nr(t);return x.useEffect(()=>{i.current!==a&&(s(a),i.current=a)},[a,i,s]),r}var Nz="VisuallyHidden",mh=x.forwardRef((e,t)=>n.jsx(Ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));mh.displayName=Nz;var Sz=mh,N1="ToastProvider",[S1,kz,Cz]=wx("Toast"),[R4,L1e]=vn("Toast",[Cz]),[Az,Sx]=R4(N1),M4=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=e,[l,c]=x.useState(null),[d,u]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${N1}\`. Expected non-empty \`string\`.`),n.jsx(S1.Provider,{scope:t,children:n.jsx(Az,{scope:t,label:r,duration:a,swipeDirection:i,swipeThreshold:s,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>u(p=>p+1),[]),onToastRemove:x.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};M4.displayName=N1;var $4="ToastViewport",Pz=["F8"],j0="toast.viewportPause",w0="toast.viewportResume",D4=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=Pz,label:i="Notifications ({hotkey})",...s}=e,o=Sx($4,r),l=kz(r),c=x.useRef(null),d=x.useRef(null),u=x.useRef(null),f=x.useRef(null),h=nt(t,f,o.onViewportChange),p=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;x.useEffect(()=>{const y=v=>{var j;a.length!==0&&a.every(N=>v[N]||v.code===N)&&((j=f.current)==null||j.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[a]),x.useEffect(()=>{const y=c.current,v=f.current;if(b&&y&&v){const m=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(j0);v.dispatchEvent(S),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(w0);v.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!y.contains(S.relatedTarget)&&j()},w=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",m),y.addEventListener("focusout",N),y.addEventListener("pointermove",m),y.addEventListener("pointerleave",w),window.addEventListener("blur",m),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",m),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",m),y.removeEventListener("pointerleave",w),window.removeEventListener("blur",m),window.removeEventListener("focus",j)}}},[b,o.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:y})=>{const m=l().map(j=>{const N=j.ref.current,w=[N,...zz(N)];return y==="forwards"?w:w.reverse()});return(y==="forwards"?m.reverse():m).flat()},[l]);return x.useEffect(()=>{const y=f.current;if(y){const v=m=>{var w,S,k;const j=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!j){const C=document.activeElement,A=m.shiftKey;if(m.target===y&&A){(w=d.current)==null||w.focus();return}const P=g({tabbingDirection:A?"backwards":"forwards"}),R=P.findIndex($=>$===C);xy(P.slice(R+1))?m.preventDefault():A?(S=d.current)==null||S.focus():(k=u.current)==null||k.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[l,g]),n.jsxs(xz,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&n.jsx(N0,{ref:d,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});xy(y)}}),n.jsx(S1.Slot,{scope:r,children:n.jsx(Ue.ol,{tabIndex:-1,...s,ref:h})}),b&&n.jsx(N0,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});xy(y)}})]})});D4.displayName=$4;var L4="ToastFocusProxy",N0=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...i}=e,s=Sx(L4,r);return n.jsx(mh,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=s.viewport)!=null&&d.contains(l))&&a()}})});N0.displayName=L4;var kx="Toast",Ez="toast.swipeStart",Tz="toast.swipeMove",Oz="toast.swipeCancel",_z="toast.swipeEnd",F4=x.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:i,onOpenChange:s,...o}=e,[l=!0,c]=Za({prop:a,defaultProp:i,onChange:s});return n.jsx(ra,{present:r||l,children:n.jsx(Mz,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:nr(e.onPause),onResume:nr(e.onResume),onSwipeStart:Ie(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(e.onSwipeMove,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ie(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(e.onSwipeEnd,d=>{const{x:u,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});F4.displayName=kx;var[Iz,Rz]=R4(kx,{onClose(){}}),Mz=x.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...b}=e,g=Sx(kx,r),[y,v]=x.useState(null),m=nt(t,$=>v($)),j=x.useRef(null),N=x.useRef(null),w=i||g.duration,S=x.useRef(0),k=x.useRef(w),C=x.useRef(0),{onToastAdd:A,onToastRemove:O}=g,I=nr(()=>{var E;(y==null?void 0:y.contains(document.activeElement))&&((E=g.viewport)==null||E.focus()),o()}),P=x.useCallback($=>{!$||$===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(I,$))},[I]);x.useEffect(()=>{const $=g.viewport;if($){const E=()=>{P(k.current),d==null||d()},_=()=>{const M=new Date().getTime()-S.current;k.current=k.current-M,window.clearTimeout(C.current),c==null||c()};return $.addEventListener(j0,_),$.addEventListener(w0,E),()=>{$.removeEventListener(j0,_),$.removeEventListener(w0,E)}}},[g.viewport,w,c,d,P]),x.useEffect(()=>{s&&!g.isClosePausedRef.current&&P(w)},[s,w,g.isClosePausedRef,P]),x.useEffect(()=>(A(),()=>O()),[A,O]);const R=x.useMemo(()=>y?H4(y):null,[y]);return g.viewport?n.jsxs(n.Fragment,{children:[R&&n.jsx($z,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),n.jsx(Iz,{scope:r,onClose:I,children:nl.createPortal(n.jsx(S1.ItemSlot,{scope:r,children:n.jsx(gz,{asChild:!0,onEscapeKeyDown:Ie(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(Ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:m,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ie(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Ie(e.onPointerDown,$=>{$.button===0&&(j.current={x:$.clientX,y:$.clientY})}),onPointerMove:Ie(e.onPointerMove,$=>{if(!j.current)return;const E=$.clientX-j.current.x,_=$.clientY-j.current.y,M=!!N.current,T=["left","right"].includes(g.swipeDirection),D=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,B=T?D(0,E):0,ee=T?0:D(0,_),re=$.pointerType==="touch"?10:2,oe={x:B,y:ee},ve={originalEvent:$,delta:oe};M?(N.current=oe,om(Tz,f,ve,{discrete:!1})):ok(oe,g.swipeDirection,re)?(N.current=oe,om(Ez,u,ve,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(E)>re||Math.abs(_)>re)&&(j.current=null)}),onPointerUp:Ie(e.onPointerUp,$=>{const E=N.current,_=$.target;if(_.hasPointerCapture($.pointerId)&&_.releasePointerCapture($.pointerId),N.current=null,j.current=null,E){const M=$.currentTarget,T={originalEvent:$,delta:E};ok(E,g.swipeDirection,g.swipeThreshold)?om(_z,p,T,{discrete:!0}):om(Oz,h,T,{discrete:!0}),M.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),$z=e=>{const{__scopeToast:t,children:r,...a}=e,i=Sx(kx,t),[s,o]=x.useState(!1),[l,c]=x.useState(!1);return Fz(()=>o(!0)),x.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:n.jsx(Nx,{asChild:!0,children:n.jsx(mh,{...a,children:s&&n.jsxs(n.Fragment,{children:[i.label," ",r]})})})},Dz="ToastTitle",B4=x.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(Ue.div,{...a,ref:t})});B4.displayName=Dz;var Lz="ToastDescription",z4=x.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(Ue.div,{...a,ref:t})});z4.displayName=Lz;var U4="ToastAction",V4=x.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?n.jsx(W4,{altText:r,asChild:!0,children:n.jsx(k1,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${U4}\`. Expected non-empty \`string\`.`),null)});V4.displayName=U4;var q4="ToastClose",k1=x.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,i=Rz(q4,r);return n.jsx(W4,{asChild:!0,children:n.jsx(Ue.button,{type:"button",...a,ref:t,onClick:Ie(e.onClick,i.onClose)})})});k1.displayName=q4;var W4=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...i}=e;return n.jsx(Ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...i,ref:t})});function H4(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),Bz(a)){const i=a.ariaHidden||a.hidden||a.style.display==="none",s=a.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=a.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...H4(a))}}),t}function om(e,t,r,{discrete:a}){const i=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),a?T4(i,s):i.dispatchEvent(s)}var ok=(e,t,r=0)=>{const a=Math.abs(e.x),i=Math.abs(e.y),s=a>i;return t==="left"||t==="right"?s&&a>r:!s&&i>r};function Fz(e=()=>{}){const t=nr(e);$r(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function Bz(e){return e.nodeType===e.ELEMENT_NODE}function zz(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function xy(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Uz=M4,K4=D4,G4=F4,Y4=B4,Q4=z4,X4=V4,J4=k1;function Z4(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Z4(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function gt(){for(var e,t,r=0,a="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Z4(e))&&(a&&(a+=" "),a+=t);return a}const lk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ck=gt,gd=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return ck(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(d=>{const u=r==null?void 0:r[d],f=s==null?void 0:s[d];if(u===null)return null;const h=lk(u)||lk(f);return i[d][h]}),l=r&&Object.entries(r).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),c=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((d,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(b=>{let[g,y]=b;return Array.isArray(y)?y.includes({...s,...l}[g]):{...s,...l}[g]===y})?[...d,f,h]:d},[]);return ck(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eI=(...e)=>e.filter((t,r,a)=>!!t&&a.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:s,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...qz,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:eI("lucide",i),...l},[...o.map(([d,u])=>x.createElement(d,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const r=x.forwardRef(({className:a,...i},s)=>x.createElement(Wz,{ref:s,iconNode:t,className:eI(`lucide-${Vz(e)}`,a),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=fe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=fe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=fe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=fe("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=fe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=fe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=fe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=fe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=fe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=fe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=fe("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=fe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=fe("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=fe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=fe("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=fe("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=fe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=fe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=fe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=fe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=fe("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=fe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=fe("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=fe("MailWarning",[["path",{d:"M22 10.5V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h12.5",key:"e61zoh"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"M20 14v4",key:"1hm744"}],["path",{d:"M20 22v.01",key:"12bgn6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=fe("MailX",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h9",key:"1j9vog"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m17 17 4 4",key:"1b3523"}],["path",{d:"m21 17-4 4",key:"uinynz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=fe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=fe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=fe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=fe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=fe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=fe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=fe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=fe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=fe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=fe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=fe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=fe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=fe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=fe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=fe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=fe("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=fe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=fe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=fe("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=fe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=fe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=fe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=fe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=fe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),E1="-",p7=e=>{const t=x7(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(E1);return l[0]===""&&l.length!==1&&l.shift(),dI(l,t)||g7(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&a[o]?[...c,...a[o]]:c}}},dI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),i=a?dI(e.slice(1),a):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(E1);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},pk=/^\[(.+)\]$/,g7=e=>{if(pk.test(e)){const t=pk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},x7=e=>{const{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return y7(Object.entries(e.classGroups),r).forEach(([s,o])=>{P0(o,a,s,t)}),a},P0=(e,t,r,a)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:gk(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(v7(i)){P0(i(a),t,r,a);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{P0(o,gk(t,s),r,a)})})},gk=(e,t)=>{let r=e;return t.split(E1).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},v7=e=>e.isThemeGetter,y7=(e,t)=>t?e.map(([r,a])=>{const i=a.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,i]}):e,b7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,a=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=a.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},uI="!",j7=e=>{const{separator:t,experimentalParseClassName:r}=e,a=t.length===1,i=t[0],s=t.length,o=l=>{const c=[];let d=0,u=0,f;for(let y=0;y<l.length;y++){let v=l[y];if(d===0){if(v===i&&(a||l.slice(y,y+s)===t)){c.push(l.slice(u,y)),u=y+s;continue}if(v==="/"){f=y;continue}}v==="["?d++:v==="]"&&d--}const h=c.length===0?l:l.substring(u),p=h.startsWith(uI),b=p?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},w7=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},N7=e=>({cache:b7(e.cacheSize),parseClassName:j7(e),...p7(e)}),S7=/\s+/,k7=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(S7);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(d);let b=!!p,g=a(b?h.substring(0,p):h);if(!g){if(!b){l=d+(l.length>0?" "+l:l);continue}if(g=a(h),!g){l=d+(l.length>0?" "+l:l);continue}b=!1}const y=w7(u).join(":"),v=f?y+uI:y,m=v+g;if(s.includes(m))continue;s.push(m);const j=i(g,b);for(let N=0;N<j.length;++N){const w=j[N];s.push(v+w)}l=d+(l.length>0?" "+l:l)}return l};function C7(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=fI(t))&&(a&&(a+=" "),a+=r);return a}const fI=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=fI(e[a]))&&(r&&(r+=" "),r+=t);return r};function A7(e,...t){let r,a,i,s=o;function o(c){const d=t.reduce((u,f)=>f(u),e());return r=N7(d),a=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const d=a(c);if(d)return d;const u=k7(c,r);return i(c,u),u}return function(){return s(C7.apply(null,arguments))}}const Dt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},hI=/^\[(?:([a-z-]+):)?(.+)\]$/i,P7=/^\d+\/\d+$/,E7=new Set(["px","full","screen"]),T7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,I7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oi=e=>Xl(e)||E7.has(e)||P7.test(e),Xi=e=>yd(e,"length",U7),Xl=e=>!!e&&!Number.isNaN(Number(e)),by=e=>yd(e,"number",Xl),Hd=e=>!!e&&Number.isInteger(Number(e)),M7=e=>e.endsWith("%")&&Xl(e.slice(0,-1)),rt=e=>hI.test(e),Ji=e=>T7.test(e),$7=new Set(["length","size","percentage"]),D7=e=>yd(e,$7,mI),L7=e=>yd(e,"position",mI),F7=new Set(["image","url"]),B7=e=>yd(e,F7,q7),z7=e=>yd(e,"",V7),Kd=()=>!0,yd=(e,t,r)=>{const a=hI.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},U7=e=>O7.test(e)&&!_7.test(e),mI=()=>!1,V7=e=>I7.test(e),q7=e=>R7.test(e),W7=()=>{const e=Dt("colors"),t=Dt("spacing"),r=Dt("blur"),a=Dt("brightness"),i=Dt("borderColor"),s=Dt("borderRadius"),o=Dt("borderSpacing"),l=Dt("borderWidth"),c=Dt("contrast"),d=Dt("grayscale"),u=Dt("hueRotate"),f=Dt("invert"),h=Dt("gap"),p=Dt("gradientColorStops"),b=Dt("gradientColorStopPositions"),g=Dt("inset"),y=Dt("margin"),v=Dt("opacity"),m=Dt("padding"),j=Dt("saturate"),N=Dt("scale"),w=Dt("sepia"),S=Dt("skew"),k=Dt("space"),C=Dt("translate"),A=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",rt,t],P=()=>[rt,t],R=()=>["",oi,Xi],$=()=>["auto",Xl,rt],E=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",rt],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Xl,rt];return{cacheSize:500,separator:":",theme:{colors:[Kd],spacing:[oi,Xi],blur:["none","",Ji,rt],brightness:ee(),borderColor:[e],borderRadius:["none","","full",Ji,rt],borderSpacing:P(),borderWidth:R(),contrast:ee(),grayscale:D(),hueRotate:ee(),invert:D(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[M7,Xi],inset:I(),margin:I(),opacity:ee(),padding:P(),saturate:ee(),scale:ee(),sepia:D(),skew:ee(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[Ji]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...E(),rt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hd,rt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Hd,rt]}],"grid-cols":[{"grid-cols":[Kd]}],"col-start-end":[{col:["auto",{span:["full",Hd,rt]},rt]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Kd]}],"row-start-end":[{row:["auto",{span:[Hd,rt]},rt]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[Ji]},Ji]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ji,Xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",by]}],"font-family":[{font:[Kd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",Xl,by]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oi,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oi,Xi]}],"underline-offset":[{"underline-offset":["auto",oi,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...E(),L7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",D7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},B7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[..._(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:_()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",..._()]}],"outline-offset":[{"outline-offset":[oi,rt]}],"outline-w":[{outline:[oi,Xi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[oi,Xi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ji,z7]}],"shadow-color":[{shadow:[Kd]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ji,rt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Hd,rt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[oi,Xi,by]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},H7=A7(W7);function je(...e){return H7(gt(e))}const K7=Uz,pI=x.forwardRef(({className:e,...t},r)=>n.jsx(K4,{ref:r,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));pI.displayName=K4.displayName;const G7=gd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gI=x.forwardRef(({className:e,variant:t,...r},a)=>n.jsx(G4,{ref:a,className:je(G7({variant:t}),e),...r}));gI.displayName=G4.displayName;const Y7=x.forwardRef(({className:e,...t},r)=>n.jsx(X4,{ref:r,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Y7.displayName=X4.displayName;const xI=x.forwardRef(({className:e,...t},r)=>n.jsx(J4,{ref:r,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ni,{className:"h-4 w-4"})}));xI.displayName=J4.displayName;const vI=x.forwardRef(({className:e,...t},r)=>n.jsx(Y4,{ref:r,className:je("text-sm font-semibold",e),...t}));vI.displayName=Y4.displayName;const yI=x.forwardRef(({className:e,...t},r)=>n.jsx(Q4,{ref:r,className:je("text-sm opacity-90",e),...t}));yI.displayName=Q4.displayName;function Q7(){const{toasts:e}=tt();return n.jsxs(K7,{children:[e.map(function({id:t,title:r,description:a,action:i,...s}){return n.jsxs(gI,{...s,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(vI,{children:r}),a&&n.jsx(yI,{children:a})]}),i,n.jsx(xI,{})]},t)}),n.jsx(pI,{})]})}var X7=QT[" useId ".trim().toString()]||(()=>{}),J7=0;function Si(e){const[t,r]=x.useState(X7());return $r(()=>{r(a=>a??String(J7++))},[e]),t?`radix-${t}`:""}const Z7=["top","right","bottom","left"],zs=Math.min,Cn=Math.max,_p=Math.round,lm=Math.floor,Ya=e=>({x:e,y:e}),eU={left:"right",right:"left",bottom:"top",top:"bottom"},tU={start:"end",end:"start"};function E0(e,t,r){return Cn(e,zs(t,r))}function Di(e,t){return typeof e=="function"?e(t):e}function Li(e){return e.split("-")[0]}function bd(e){return e.split("-")[1]}function T1(e){return e==="x"?"y":"x"}function O1(e){return e==="y"?"height":"width"}function Us(e){return["top","bottom"].includes(Li(e))?"y":"x"}function _1(e){return T1(Us(e))}function rU(e,t,r){r===void 0&&(r=!1);const a=bd(e),i=_1(e),s=O1(i);let o=i==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Ip(o)),[o,Ip(o)]}function nU(e){const t=Ip(e);return[T0(e),t,T0(t)]}function T0(e){return e.replace(/start|end/g,t=>tU[t])}function aU(e,t,r){const a=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:a:t?a:i;case"left":case"right":return t?s:o;default:return[]}}function iU(e,t,r,a){const i=bd(e);let s=aU(Li(e),r==="start",a);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(T0)))),s}function Ip(e){return e.replace(/left|right|bottom|top/g,t=>eU[t])}function sU(e){return{top:0,right:0,bottom:0,left:0,...e}}function bI(e){return typeof e!="number"?sU(e):{top:e,right:e,bottom:e,left:e}}function Rp(e){const{x:t,y:r,width:a,height:i}=e;return{width:a,height:i,top:r,left:t,right:t+a,bottom:r+i,x:t,y:r}}function xk(e,t,r){let{reference:a,floating:i}=e;const s=Us(t),o=_1(t),l=O1(o),c=Li(t),d=s==="y",u=a.x+a.width/2-i.width/2,f=a.y+a.height/2-i.height/2,h=a[l]/2-i[l]/2;let p;switch(c){case"top":p={x:u,y:a.y-i.height};break;case"bottom":p={x:u,y:a.y+a.height};break;case"right":p={x:a.x+a.width,y:f};break;case"left":p={x:a.x-i.width,y:f};break;default:p={x:a.x,y:a.y}}switch(bd(t)){case"start":p[o]-=h*(r&&d?-1:1);break;case"end":p[o]+=h*(r&&d?-1:1);break}return p}const oU=async(e,t,r)=>{const{placement:a="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=xk(d,a,c),h=a,p={},b=0;for(let g=0;g<l.length;g++){const{name:y,fn:v}=l[g],{x:m,y:j,data:N,reset:w}=await v({x:u,y:f,initialPlacement:a,placement:h,strategy:i,middlewareData:p,rects:d,platform:o,elements:{reference:e,floating:t}});u=m??u,f=j??f,p={...p,[y]:{...p[y],...N}},w&&b<=50&&(b++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(d=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):w.rects),{x:u,y:f}=xk(d,h,c)),g=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:p}};async function lf(e,t){var r;t===void 0&&(t={});const{x:a,y:i,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Di(t,e),b=bI(p),y=l[h?f==="floating"?"reference":"floating":f],v=Rp(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(y)))==null||r?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),m=f==="floating"?{x:a,y:i,width:o.floating.width,height:o.floating.height}:o.reference,j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),N=await(s.isElement==null?void 0:s.isElement(j))?await(s.getScale==null?void 0:s.getScale(j))||{x:1,y:1}:{x:1,y:1},w=Rp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:m,offsetParent:j,strategy:c}):m);return{top:(v.top-w.top+b.top)/N.y,bottom:(w.bottom-v.bottom+b.bottom)/N.y,left:(v.left-w.left+b.left)/N.x,right:(w.right-v.right+b.right)/N.x}}const lU=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=Di(e,t)||{};if(d==null)return{};const f=bI(u),h={x:r,y:a},p=_1(i),b=O1(p),g=await o.getDimensions(d),y=p==="y",v=y?"top":"left",m=y?"bottom":"right",j=y?"clientHeight":"clientWidth",N=s.reference[b]+s.reference[p]-h[p]-s.floating[b],w=h[p]-s.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=S?S[j]:0;(!k||!await(o.isElement==null?void 0:o.isElement(S)))&&(k=l.floating[j]||s.floating[b]);const C=N/2-w/2,A=k/2-g[b]/2-1,O=zs(f[v],A),I=zs(f[m],A),P=O,R=k-g[b]-I,$=k/2-g[b]/2+C,E=E0(P,$,R),_=!c.arrow&&bd(i)!=null&&$!==E&&s.reference[b]/2-($<P?O:I)-g[b]/2<0,M=_?$<P?$-P:$-R:0;return{[p]:h[p]+M,data:{[p]:E,centerOffset:$-E-M,..._&&{alignmentOffset:M}},reset:_}}}),cU=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...y}=Di(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const v=Li(i),m=Us(l),j=Li(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=h||(j||!g?[Ip(l)]:nU(l)),S=b!=="none";!h&&S&&w.push(...iU(l,g,b,N));const k=[l,...w],C=await lf(t,y),A=[];let O=((a=s.flip)==null?void 0:a.overflows)||[];if(u&&A.push(C[v]),f){const $=rU(i,o,N);A.push(C[$[0]],C[$[1]])}if(O=[...O,{placement:i,overflows:A}],!A.every($=>$<=0)){var I,P;const $=(((I=s.flip)==null?void 0:I.index)||0)+1,E=k[$];if(E)return{data:{index:$,overflows:O},reset:{placement:E}};let _=(P=O.filter(M=>M.overflows[0]<=0).sort((M,T)=>M.overflows[1]-T.overflows[1])[0])==null?void 0:P.placement;if(!_)switch(p){case"bestFit":{var R;const M=(R=O.filter(T=>{if(S){const D=Us(T.placement);return D===m||D==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(D=>D>0).reduce((D,B)=>D+B,0)]).sort((T,D)=>T[1]-D[1])[0])==null?void 0:R[0];M&&(_=M);break}case"initialPlacement":_=l;break}if(i!==_)return{reset:{placement:_}}}return{}}}};function vk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yk(e){return Z7.some(t=>e[t]>=0)}const dU=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...i}=Di(e,t);switch(a){case"referenceHidden":{const s=await lf(t,{...i,elementContext:"reference"}),o=vk(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:yk(o)}}}case"escaped":{const s=await lf(t,{...i,altBoundary:!0}),o=vk(s,r.floating);return{data:{escapedOffsets:o,escaped:yk(o)}}}default:return{}}}}};async function uU(e,t){const{placement:r,platform:a,elements:i}=e,s=await(a.isRTL==null?void 0:a.isRTL(i.floating)),o=Li(r),l=bd(r),c=Us(r)==="y",d=["left","top"].includes(o)?-1:1,u=s&&c?-1:1,f=Di(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(p=l==="end"?b*-1:b),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const fU=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:i,y:s,placement:o,middlewareData:l}=t,c=await uU(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},hU=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:v,y:m}=y;return{x:v,y:m}}},...c}=Di(e,t),d={x:r,y:a},u=await lf(t,c),f=Us(Li(i)),h=T1(f);let p=d[h],b=d[f];if(s){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",m=p+u[y],j=p-u[v];p=E0(m,p,j)}if(o){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",m=b+u[y],j=b-u[v];b=E0(m,b,j)}const g=l.fn({...t,[h]:p,[f]:b});return{...g,data:{x:g.x-r,y:g.y-a,enabled:{[h]:s,[f]:o}}}}}},mU=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:i,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Di(e,t),u={x:r,y:a},f=Us(i),h=T1(f);let p=u[h],b=u[f];const g=Di(l,t),y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const j=h==="y"?"height":"width",N=s.reference[h]-s.floating[j]+y.mainAxis,w=s.reference[h]+s.reference[j]-y.mainAxis;p<N?p=N:p>w&&(p=w)}if(d){var v,m;const j=h==="y"?"width":"height",N=["top","left"].includes(Li(i)),w=s.reference[f]-s.floating[j]+(N&&((v=o.offset)==null?void 0:v[f])||0)+(N?0:y.crossAxis),S=s.reference[f]+s.reference[j]+(N?0:((m=o.offset)==null?void 0:m[f])||0)-(N?y.crossAxis:0);b<w?b=w:b>S&&(b=S)}return{[h]:p,[f]:b}}}},pU=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:i,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...d}=Di(e,t),u=await lf(t,d),f=Li(i),h=bd(i),p=Us(i)==="y",{width:b,height:g}=s.floating;let y,v;f==="top"||f==="bottom"?(y=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,y=h==="end"?"top":"bottom");const m=g-u.top-u.bottom,j=b-u.left-u.right,N=zs(g-u[y],m),w=zs(b-u[v],j),S=!t.middlewareData.shift;let k=N,C=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=j),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(k=m),S&&!h){const O=Cn(u.left,0),I=Cn(u.right,0),P=Cn(u.top,0),R=Cn(u.bottom,0);p?C=b-2*(O!==0||I!==0?O+I:Cn(u.left,u.right)):k=g-2*(P!==0||R!==0?P+R:Cn(u.top,u.bottom))}await c({...t,availableWidth:C,availableHeight:k});const A=await o.getDimensions(l.floating);return b!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function Ex(){return typeof window<"u"}function jd(e){return jI(e)?(e.nodeName||"").toLowerCase():"#document"}function On(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ai(e){var t;return(t=(jI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jI(e){return Ex()?e instanceof Node||e instanceof On(e).Node:!1}function Ia(e){return Ex()?e instanceof Element||e instanceof On(e).Element:!1}function ei(e){return Ex()?e instanceof HTMLElement||e instanceof On(e).HTMLElement:!1}function bk(e){return!Ex()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof On(e).ShadowRoot}function gh(e){const{overflow:t,overflowX:r,overflowY:a,display:i}=Ra(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!["inline","contents"].includes(i)}function gU(e){return["table","td","th"].includes(jd(e))}function Tx(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function I1(e){const t=R1(),r=Ia(e)?Ra(e):e;return["transform","translate","scale","rotate","perspective"].some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(r.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(r.contain||"").includes(a))}function xU(e){let t=Vs(e);for(;ei(t)&&!Oc(t);){if(I1(t))return t;if(Tx(t))return null;t=Vs(t)}return null}function R1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oc(e){return["html","body","#document"].includes(jd(e))}function Ra(e){return On(e).getComputedStyle(e)}function Ox(e){return Ia(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vs(e){if(jd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bk(e)&&e.host||ai(e);return bk(t)?t.host:t}function wI(e){const t=Vs(e);return Oc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ei(t)&&gh(t)?t:wI(t)}function cf(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=wI(e),s=i===((a=e.ownerDocument)==null?void 0:a.body),o=On(i);if(s){const l=O0(o);return t.concat(o,o.visualViewport||[],gh(i)?i:[],l&&r?cf(l):[])}return t.concat(i,cf(i,[],r))}function O0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function NI(e){const t=Ra(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const i=ei(e),s=i?e.offsetWidth:r,o=i?e.offsetHeight:a,l=_p(r)!==s||_p(a)!==o;return l&&(r=s,a=o),{width:r,height:a,$:l}}function M1(e){return Ia(e)?e:e.contextElement}function Jl(e){const t=M1(e);if(!ei(t))return Ya(1);const r=t.getBoundingClientRect(),{width:a,height:i,$:s}=NI(t);let o=(s?_p(r.width):r.width)/a,l=(s?_p(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const vU=Ya(0);function SI(e){const t=On(e);return!R1()||!t.visualViewport?vU:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yU(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==On(e)?!1:t}function Ho(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=M1(e);let o=Ya(1);t&&(a?Ia(a)&&(o=Jl(a)):o=Jl(e));const l=yU(s,r,a)?SI(s):Ya(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const h=On(s),p=a&&Ia(a)?On(a):a;let b=h,g=O0(b);for(;g&&a&&p!==b;){const y=Jl(g),v=g.getBoundingClientRect(),m=Ra(g),j=v.left+(g.clientLeft+parseFloat(m.paddingLeft))*y.x,N=v.top+(g.clientTop+parseFloat(m.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,f*=y.y,c+=j,d+=N,b=On(g),g=O0(b)}}return Rp({width:u,height:f,x:c,y:d})}function $1(e,t){const r=Ox(e).scrollLeft;return t?t.left+r:Ho(ai(e)).left+r}function kI(e,t,r){r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=a.left+t.scrollLeft-(r?0:$1(e,a)),s=a.top+t.scrollTop;return{x:i,y:s}}function bU(e){let{elements:t,rect:r,offsetParent:a,strategy:i}=e;const s=i==="fixed",o=ai(a),l=t?Tx(t.floating):!1;if(a===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},d=Ya(1);const u=Ya(0),f=ei(a);if((f||!f&&!s)&&((jd(a)!=="body"||gh(o))&&(c=Ox(a)),ei(a))){const p=Ho(a);d=Jl(a),u.x=p.x+a.clientLeft,u.y=p.y+a.clientTop}const h=o&&!f&&!s?kI(o,c,!0):Ya(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:r.y*d.y-c.scrollTop*d.y+u.y+h.y}}function jU(e){return Array.from(e.getClientRects())}function wU(e){const t=ai(e),r=Ox(e),a=e.ownerDocument.body,i=Cn(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),s=Cn(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-r.scrollLeft+$1(e);const l=-r.scrollTop;return Ra(a).direction==="rtl"&&(o+=Cn(t.clientWidth,a.clientWidth)-i),{width:i,height:s,x:o,y:l}}function NU(e,t){const r=On(e),a=ai(e),i=r.visualViewport;let s=a.clientWidth,o=a.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=R1();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function SU(e,t){const r=Ho(e,!0,t==="fixed"),a=r.top+e.clientTop,i=r.left+e.clientLeft,s=ei(e)?Jl(e):Ya(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,d=a*s.y;return{width:o,height:l,x:c,y:d}}function jk(e,t,r){let a;if(t==="viewport")a=NU(e,r);else if(t==="document")a=wU(ai(e));else if(Ia(t))a=SU(t,r);else{const i=SI(e);a={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Rp(a)}function CI(e,t){const r=Vs(e);return r===t||!Ia(r)||Oc(r)?!1:Ra(r).position==="fixed"||CI(r,t)}function kU(e,t){const r=t.get(e);if(r)return r;let a=cf(e,[],!1).filter(l=>Ia(l)&&jd(l)!=="body"),i=null;const s=Ra(e).position==="fixed";let o=s?Vs(e):e;for(;Ia(o)&&!Oc(o);){const l=Ra(o),c=I1(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||gh(o)&&!c&&CI(e,o))?a=a.filter(u=>u!==o):i=l,o=Vs(o)}return t.set(e,a),a}function CU(e){let{element:t,boundary:r,rootBoundary:a,strategy:i}=e;const o=[...r==="clippingAncestors"?Tx(t)?[]:kU(t,this._c):[].concat(r),a],l=o[0],c=o.reduce((d,u)=>{const f=jk(t,u,i);return d.top=Cn(f.top,d.top),d.right=zs(f.right,d.right),d.bottom=zs(f.bottom,d.bottom),d.left=Cn(f.left,d.left),d},jk(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function AU(e){const{width:t,height:r}=NI(e);return{width:t,height:r}}function PU(e,t,r){const a=ei(t),i=ai(t),s=r==="fixed",o=Ho(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Ya(0);if(a||!a&&!s)if((jd(t)!=="body"||gh(i))&&(l=Ox(t)),a){const h=Ho(t,!0,s,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else i&&(c.x=$1(i));const d=i&&!a&&!s?kI(i,l):Ya(0),u=o.left+l.scrollLeft-c.x-d.x,f=o.top+l.scrollTop-c.y-d.y;return{x:u,y:f,width:o.width,height:o.height}}function jy(e){return Ra(e).position==="static"}function wk(e,t){if(!ei(e)||Ra(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ai(e)===r&&(r=r.ownerDocument.body),r}function AI(e,t){const r=On(e);if(Tx(e))return r;if(!ei(e)){let i=Vs(e);for(;i&&!Oc(i);){if(Ia(i)&&!jy(i))return i;i=Vs(i)}return r}let a=wk(e,t);for(;a&&gU(a)&&jy(a);)a=wk(a,t);return a&&Oc(a)&&jy(a)&&!I1(a)?r:a||xU(e)||r}const EU=async function(e){const t=this.getOffsetParent||AI,r=this.getDimensions,a=await r(e.floating);return{reference:PU(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function TU(e){return Ra(e).direction==="rtl"}const OU={convertOffsetParentRelativeRectToViewportRelativeRect:bU,getDocumentElement:ai,getClippingRect:CU,getOffsetParent:AI,getElementRects:EU,getClientRects:jU,getDimensions:AU,getScale:Jl,isElement:Ia,isRTL:TU};function PI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _U(e,t){let r=null,a;const i=ai(e);function s(){var l;clearTimeout(a),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=e.getBoundingClientRect(),{left:u,top:f,width:h,height:p}=d;if(l||t(),!h||!p)return;const b=lm(f),g=lm(i.clientWidth-(u+h)),y=lm(i.clientHeight-(f+p)),v=lm(u),j={rootMargin:-b+"px "+-g+"px "+-y+"px "+-v+"px",threshold:Cn(0,zs(1,c))||1};let N=!0;function w(S){const k=S[0].intersectionRatio;if(k!==c){if(!N)return o();k?o(!1,k):a=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!PI(d,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(w,{...j,root:i.ownerDocument})}catch{r=new IntersectionObserver(w,j)}r.observe(e)}return o(!0),s}function IU(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=a,d=M1(e),u=i||s?[...d?cf(d):[],...cf(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",r,{passive:!0}),s&&v.addEventListener("resize",r)});const f=d&&l?_U(d,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[m]=v;m&&m.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let b,g=c?Ho(e):null;c&&y();function y(){const v=Ho(e);g&&!PI(g,v)&&r(),g=v,b=requestAnimationFrame(y)}return r(),()=>{var v;u.forEach(m=>{i&&m.removeEventListener("scroll",r),s&&m.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(b)}}const RU=fU,MU=hU,$U=cU,DU=pU,LU=dU,Nk=lU,FU=mU,BU=(e,t,r)=>{const a=new Map,i={platform:OU,...r},s={...i.platform,_c:a};return oU(e,t,{...i,platform:s})};var Gm=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Mp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!Mp(e[a],t[a]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,i[a]))return!1;for(a=r;a--!==0;){const s=i[a];if(!(s==="_owner"&&e.$$typeof)&&!Mp(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function EI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Sk(e,t){const r=EI(e);return Math.round(t*r)/r}function wy(e){const t=x.useRef(e);return Gm(()=>{t.current=e}),t}function zU(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(a);Mp(h,a)||p(a);const[b,g]=x.useState(null),[y,v]=x.useState(null),m=x.useCallback(T=>{T!==S.current&&(S.current=T,g(T))},[]),j=x.useCallback(T=>{T!==k.current&&(k.current=T,v(T))},[]),N=s||b,w=o||y,S=x.useRef(null),k=x.useRef(null),C=x.useRef(u),A=c!=null,O=wy(c),I=wy(i),P=wy(d),R=x.useCallback(()=>{if(!S.current||!k.current)return;const T={placement:t,strategy:r,middleware:h};I.current&&(T.platform=I.current),BU(S.current,k.current,T).then(D=>{const B={...D,isPositioned:P.current!==!1};$.current&&!Mp(C.current,B)&&(C.current=B,nl.flushSync(()=>{f(B)}))})},[h,t,r,I,P]);Gm(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[d]);const $=x.useRef(!1);Gm(()=>($.current=!0,()=>{$.current=!1}),[]),Gm(()=>{if(N&&(S.current=N),w&&(k.current=w),N&&w){if(O.current)return O.current(N,w,R);R()}},[N,w,R,O,A]);const E=x.useMemo(()=>({reference:S,floating:k,setReference:m,setFloating:j}),[m,j]),_=x.useMemo(()=>({reference:N,floating:w}),[N,w]),M=x.useMemo(()=>{const T={position:r,left:0,top:0};if(!_.floating)return T;const D=Sk(_.floating,u.x),B=Sk(_.floating,u.y);return l?{...T,transform:"translate("+D+"px, "+B+"px)",...EI(_.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:B}},[r,l,_.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:R,refs:E,elements:_,floatingStyles:M}),[u,R,E,_,M])}const UU=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:i}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?Nk({element:a.current,padding:i}).fn(r):{}:a?Nk({element:a,padding:i}).fn(r):{}}}},VU=(e,t)=>({...RU(e),options:[e,t]}),qU=(e,t)=>({...MU(e),options:[e,t]}),WU=(e,t)=>({...FU(e),options:[e,t]}),HU=(e,t)=>({...$U(e),options:[e,t]}),KU=(e,t)=>({...DU(e),options:[e,t]}),GU=(e,t)=>({...LU(e),options:[e,t]}),YU=(e,t)=>({...UU(e),options:[e,t]});var QU="Arrow",TI=x.forwardRef((e,t)=>{const{children:r,width:a=10,height:i=5,...s}=e;return n.jsx(Ue.svg,{...s,ref:t,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});TI.displayName=QU;var XU=TI;function _x(e){const[t,r]=x.useState(void 0);return $r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var D1="Popper",[OI,Ix]=vn(D1),[JU,_I]=OI(D1),II=e=>{const{__scopePopper:t,children:r}=e,[a,i]=x.useState(null);return n.jsx(JU,{scope:t,anchor:a,onAnchorChange:i,children:r})};II.displayName=D1;var RI="PopperAnchor",MI=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...i}=e,s=_I(RI,r),o=x.useRef(null),l=nt(t,o);return x.useEffect(()=>{s.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:n.jsx(Ue.div,{...i,ref:l})});MI.displayName=RI;var L1="PopperContent",[ZU,eV]=OI(L1),$I=x.forwardRef((e,t)=>{var me,Ce,te,W,z,Q;const{__scopePopper:r,side:a="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:b,...g}=e,y=_I(L1,r),[v,m]=x.useState(null),j=nt(t,Ve=>m(Ve)),[N,w]=x.useState(null),S=_x(N),k=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,A=a+(s!=="center"?"-"+s:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(d)?d:[d],P=I.length>0,R={padding:O,boundary:I.filter(rV),altBoundary:P},{refs:$,floatingStyles:E,placement:_,isPositioned:M,middlewareData:T}=zU({strategy:"fixed",placement:A,whileElementsMounted:(...Ve)=>IU(...Ve,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[VU({mainAxis:i+C,alignmentAxis:o}),c&&qU({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?WU():void 0,...R}),c&&HU({...R}),KU({...R,apply:({elements:Ve,rects:de,availableWidth:Ae,availableHeight:Ge})=>{const{width:st,height:Tt}=de.reference,ne=Ve.floating.style;ne.setProperty("--radix-popper-available-width",`${Ae}px`),ne.setProperty("--radix-popper-available-height",`${Ge}px`),ne.setProperty("--radix-popper-anchor-width",`${st}px`),ne.setProperty("--radix-popper-anchor-height",`${Tt}px`)}}),N&&YU({element:N,padding:l}),nV({arrowWidth:k,arrowHeight:C}),h&&GU({strategy:"referenceHidden",...R})]}),[D,B]=FI(_),ee=nr(b);$r(()=>{M&&(ee==null||ee())},[M,ee]);const re=(me=T.arrow)==null?void 0:me.x,oe=(Ce=T.arrow)==null?void 0:Ce.y,ve=((te=T.arrow)==null?void 0:te.centerOffset)!==0,[ce,Oe]=x.useState();return $r(()=>{v&&Oe(window.getComputedStyle(v).zIndex)},[v]),n.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...E,transform:M?E.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(W=T.transformOrigin)==null?void 0:W.x,(z=T.transformOrigin)==null?void 0:z.y].join(" "),...((Q=T.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(ZU,{scope:r,placedSide:D,onArrowChange:w,arrowX:re,arrowY:oe,shouldHideArrow:ve,children:n.jsx(Ue.div,{"data-side":D,"data-align":B,...g,ref:j,style:{...g.style,animation:M?void 0:"none"}})})})});$I.displayName=L1;var DI="PopperArrow",tV={top:"bottom",right:"left",bottom:"top",left:"right"},LI=x.forwardRef(function(t,r){const{__scopePopper:a,...i}=t,s=eV(DI,a),o=tV[s.placedSide];return n.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:n.jsx(XU,{...i,ref:r,style:{...i.style,display:"block"}})})});LI.displayName=DI;function rV(e){return e!==null}var nV=e=>({name:"transformOrigin",options:e,fn(t){var y,v,m;const{placement:r,rects:a,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,u]=FI(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(((v=i.arrow)==null?void 0:v.x)??0)+l/2,p=(((m=i.arrow)==null?void 0:m.y)??0)+c/2;let b="",g="";return d==="bottom"?(b=o?f:`${h}px`,g=`${-c}px`):d==="top"?(b=o?f:`${h}px`,g=`${a.floating.height+c}px`):d==="right"?(b=`${-c}px`,g=o?f:`${p}px`):d==="left"&&(b=`${a.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:b,y:g}}}});function FI(e){const[t,r="center"]=e.split("-");return[t,r]}var BI=II,zI=MI,UI=$I,VI=LI,[Rx,F1e]=vn("Tooltip",[Ix]),Mx=Ix(),qI="TooltipProvider",aV=700,_0="tooltip.open",[iV,F1]=Rx(qI),WI=e=>{const{__scopeTooltip:t,delayDuration:r=aV,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:s}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(iV,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};WI.displayName=qI;var $x="Tooltip",[sV,Dx]=Rx($x),HI=e=>{const{__scopeTooltip:t,children:r,open:a,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=e,c=F1($x,e.__scopeTooltip),d=Mx(t),[u,f]=x.useState(null),h=Si(),p=x.useRef(0),b=o??c.disableHoverableContent,g=l??c.delayDuration,y=x.useRef(!1),[v=!1,m]=Za({prop:a,defaultProp:i,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(_0))):c.onClose(),s==null||s(k)}}),j=x.useMemo(()=>v?y.current?"delayed-open":"instant-open":"closed",[v]),N=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,m(!0)},[m]),w=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,m(!1)},[m]),S=x.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,m(!0),p.current=0},g)},[g,m]);return x.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),n.jsx(BI,{...d,children:n.jsx(sV,{scope:t,contentId:h,open:v,stateAttribute:j,trigger:u,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?S():N()},[c.isOpenDelayedRef,S,N]),onTriggerLeave:x.useCallback(()=>{b?w():(window.clearTimeout(p.current),p.current=0)},[w,b]),onOpen:N,onClose:w,disableHoverableContent:b,children:r})})};HI.displayName=$x;var I0="TooltipTrigger",KI=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,i=Dx(I0,r),s=F1(I0,r),o=Mx(r),l=x.useRef(null),c=nt(t,l,i.onTriggerChange),d=x.useRef(!1),u=x.useRef(!1),f=x.useCallback(()=>d.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),n.jsx(zI,{asChild:!0,...o,children:n.jsx(Ue.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...a,ref:c,onPointerMove:Ie(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ie(e.onFocus,()=>{d.current||i.onOpen()}),onBlur:Ie(e.onBlur,i.onClose),onClick:Ie(e.onClick,i.onClose)})})});KI.displayName=I0;var oV="TooltipPortal",[B1e,lV]=Rx(oV,{forceMount:void 0}),_c="TooltipContent",GI=x.forwardRef((e,t)=>{const r=lV(_c,e.__scopeTooltip),{forceMount:a=r.forceMount,side:i="top",...s}=e,o=Dx(_c,e.__scopeTooltip);return n.jsx(ra,{present:a||o.open,children:o.disableHoverableContent?n.jsx(YI,{side:i,...s,ref:t}):n.jsx(cV,{side:i,...s,ref:t})})}),cV=x.forwardRef((e,t)=>{const r=Dx(_c,e.__scopeTooltip),a=F1(_c,e.__scopeTooltip),i=x.useRef(null),s=nt(t,i),[o,l]=x.useState(null),{trigger:c,onClose:d}=r,u=i.current,{onPointerInTransitChange:f}=a,h=x.useCallback(()=>{l(null),f(!1)},[f]),p=x.useCallback((b,g)=>{const y=b.currentTarget,v={x:b.clientX,y:b.clientY},m=mV(v,y.getBoundingClientRect()),j=pV(v,m),N=gV(g.getBoundingClientRect()),w=vV([...j,...N]);l(w),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&u){const b=y=>p(y,u),g=y=>p(y,c);return c.addEventListener("pointerleave",b),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",b),u.removeEventListener("pointerleave",g)}}},[c,u,p,h]),x.useEffect(()=>{if(o){const b=g=>{const y=g.target,v={x:g.clientX,y:g.clientY},m=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),j=!xV(v,o);m?h():j&&(h(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,u,o,d,h]),n.jsx(YI,{...e,ref:s})}),[dV,uV]=Rx($x,{isInside:!1}),fV=E4("TooltipContent"),YI=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=Dx(_c,r),d=Mx(r),{onClose:u}=c;return x.useEffect(()=>(document.addEventListener(_0,u),()=>document.removeEventListener(_0,u)),[u]),x.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),n.jsx(hh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:n.jsxs(UI,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(fV,{children:a}),n.jsx(dV,{scope:r,isInside:!0,children:n.jsx(Sz,{id:c.contentId,role:"tooltip",children:i||a})})]})})});GI.displayName=_c;var QI="TooltipArrow",hV=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,i=Mx(r);return uV(QI,r).isInside?null:n.jsx(VI,{...i,...a,ref:t})});hV.displayName=QI;function mV(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,a,i,s)){case s:return"left";case i:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function pV(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function gV(e){const{top:t,right:r,bottom:a,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:a},{x:i,y:a}]}function xV(e,t){const{x:r,y:a}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s].x,c=t[s].y,d=t[o].x,u=t[o].y;c>a!=u>a&&r<(d-l)*(a-c)/(u-c)+l&&(i=!i)}return i}function vV(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),yV(t)}function yV(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const i=e[a];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const i=e[a];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var bV=WI,jV=HI,wV=KI,XI=GI;const B1=bV,JI=jV,ZI=wV,z1=x.forwardRef(({className:e,sideOffset:t=4,...r},a)=>n.jsx(XI,{ref:a,sideOffset:t,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));z1.displayName=XI.displayName;const NV=x.createContext(void 0);function SV({children:e,defaultTheme:t="dark"}){const[r,a]=x.useState(()=>localStorage.getItem("theme")||t);return x.useEffect(()=>{const i=document.documentElement;i.classList.remove("light","dark"),i.classList.add(r),localStorage.setItem("theme",r)},[r]),n.jsx(NV.Provider,{value:{theme:r,setTheme:a},children:e})}const eR=x.createContext(null);function kV({children:e}){const[t,r]=x.useState([]),[a,i]=x.useState(!1),s=x.useCallback(c=>{r(d=>[...d,c])},[]),o=x.useCallback((c,d)=>{r(u=>u.map(f=>f.id===c?{...f,...d}:f))},[]),l=x.useCallback(()=>{r([]),i(!1)},[]);return n.jsx(eR.Provider,{value:{messages:t,setMessages:r,addMessage:s,updateMessage:o,clearMessages:l,historyLoaded:a,setHistoryLoaded:i},children:e})}function CV(){const e=x.useContext(eR);if(!e)throw new Error("useChatContext must be used within a ChatProvider");return e}async function AV(){try{const e=await fetch("/api/version");if(!e.ok){console.log("[VERSION] Server version check failed, using fallback");return}const t=await e.json(),r=localStorage.getItem("app_version");if(r&&r!==t.version){console.log(`[VERSION] Detected version change: ${r}  ${t.version}`),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(a=>{a.forEach(i=>{i.unregister()})}),"caches"in window&&caches.keys().then(a=>{a.forEach(i=>{caches.delete(i)})}),localStorage.setItem("app_version",t.version),console.log("[VERSION] Forcing reload for new version..."),window.location.reload();return}localStorage.setItem("app_version",t.version),console.log(`[VERSION] Current version: ${t.version}`)}catch(e){console.log("[VERSION] Version check skipped:",e)}}/*! Capacitor: https://capacitorjs.com/ - MIT License */var Ic;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(Ic||(Ic={}));class Ny extends Error{constructor(t,r,a){super(t),this.message=t,this.code=r,this.data=a}}const PV=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},EV=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},a=r.Plugins=r.Plugins||{},i=()=>t!==null?t.name:PV(e),s=()=>i()!=="web",o=f=>{const h=d.get(f);return!!(h!=null&&h.platforms.has(i())||l(f))},l=f=>{var h;return(h=r.PluginHeaders)===null||h===void 0?void 0:h.find(p=>p.name===f)},c=f=>e.console.error(f),d=new Map,u=(f,h={})=>{const p=d.get(f);if(p)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),p.proxy;const b=i(),g=l(f);let y;const v=async()=>(!y&&b in h?y=typeof h[b]=="function"?y=await h[b]():y=h[b]:t!==null&&!y&&"web"in h&&(y=typeof h.web=="function"?y=await h.web():y=h.web),y),m=(C,A)=>{var O,I;if(g){const P=g==null?void 0:g.methods.find(R=>A===R.name);if(P)return P.rtype==="promise"?R=>r.nativePromise(f,A.toString(),R):(R,$)=>r.nativeCallback(f,A.toString(),R,$);if(C)return(O=C[A])===null||O===void 0?void 0:O.bind(C)}else{if(C)return(I=C[A])===null||I===void 0?void 0:I.bind(C);throw new Ny(`"${f}" plugin is not implemented on ${b}`,Ic.Unimplemented)}},j=C=>{let A;const O=(...I)=>{const P=v().then(R=>{const $=m(R,C);if($){const E=$(...I);return A=E==null?void 0:E.remove,E}else throw new Ny(`"${f}.${C}()" is not implemented on ${b}`,Ic.Unimplemented)});return C==="addListener"&&(P.remove=async()=>A()),P};return O.toString=()=>`${C.toString()}() { [capacitor code] }`,Object.defineProperty(O,"name",{value:C,writable:!1,configurable:!1}),O},N=j("addListener"),w=j("removeListener"),S=(C,A)=>{const O=N({eventName:C},A),I=async()=>{const R=await O;w({eventName:C,callbackId:R},A)},P=new Promise(R=>O.then(()=>R({remove:I})));return P.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await I()},P},k=new Proxy({},{get(C,A){switch(A){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return g?S:N;case"removeListener":return w;default:return j(A)}}});return a[f]=k,d.set(f,{name:f,proxy:k,platforms:new Set([...Object.keys(h),...g?[b]:[]])}),k};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=i,r.handleError=c,r.isNativePlatform=s,r.isPluginAvailable=o,r.registerPlugin=u,r.Exception=Ny,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},TV=e=>e.Capacitor=EV(e),Rc=TV(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),wd=Rc.registerPlugin;class U1{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let a=!1;this.listeners[t]||(this.listeners[t]=[],a=!0),this.listeners[t].push(r);const s=this.windowListeners[t];s&&!s.registered&&this.addWindowListener(s),a&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,a){const i=this.listeners[t];if(!i){if(a){let s=this.retainedEventArguments[t];s||(s=[]),s.push(r),this.retainedEventArguments[t]=s}return}i.forEach(s=>s(r))}hasListeners(t){var r;return!!(!((r=this.listeners[t])===null||r===void 0)&&r.length)}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:a=>{this.notifyListeners(r,a)}}}unimplemented(t="not implemented"){return new Rc.Exception(t,Ic.Unimplemented)}unavailable(t="not available"){return new Rc.Exception(t,Ic.Unavailable)}async removeListener(t,r){const a=this.listeners[t];if(!a)return;const i=a.indexOf(r);this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(a=>{this.notifyListeners(t,a)}))}}const kk=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ck=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class OV extends U1{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(a=>{if(a.length<=0)return;let[i,s]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=Ck(i).trim(),s=Ck(s).trim(),r[i]=s}),r}async setCookie(t){try{const r=kk(t.key),a=kk(t.value),i=`; expires=${(t.expires||"").replace("expires=","")}`,s=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${a||""}${i}; path=${s}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}wd("CapacitorCookies",{web:()=>new OV});const _V=async e=>new Promise((t,r)=>{const a=new FileReader;a.onload=()=>{const i=a.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},a.onerror=i=>r(i),a.readAsDataURL(e)}),IV=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(i=>i.toLocaleLowerCase()).reduce((i,s,o)=>(i[s]=e[t[o]],i),{})},RV=(e,t=!0)=>e?Object.entries(e).reduce((a,i)=>{const[s,o]=i;let l,c;return Array.isArray(o)?(c="",o.forEach(d=>{l=t?encodeURIComponent(d):d,c+=`${s}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${s}=${l}`),`${a}&${c}`},"").substr(1):null,MV=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),i=IV(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))s.set(o,l);r.body=s.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const s=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{s.append(c,l)});else for(const l of Object.keys(e.data))s.append(l,e.data[l]);r.body=s;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(i.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class $V extends U1{async request(t){const r=MV(t,t.webFetchExtra),a=RV(t.params,t.shouldEncodeUrlParams),i=a?`${t.url}?${a}`:t.url,s=await fetch(i,r),o=s.headers.get("content-type")||"";let{responseType:l="text"}=s.ok?t:{};o.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await s.blob(),c=await _V(d);break;case"json":c=await s.json();break;case"document":case"text":default:c=await s.text()}const u={};return s.headers.forEach((f,h)=>{u[h]=f}),{data:c,headers:u,status:s.status,url:s.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}wd("CapacitorHttp",{web:()=>new $V});var Ak;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(Ak||(Ak={}));var Pk;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(Pk||(Pk={}));class DV extends U1{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}wd("SystemBars",{web:()=>new DV});const LV="modulepreload",FV=function(e){return"/"+e},Ek={},xh=function(t,r,a){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=FV(c),c in Ek)return;Ek[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":LV,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},Kn=wd("Preferences",{web:()=>xh(()=>import("./web-D3pl0SbX.js"),[]).then(e=>new e.PreferencesWeb)}),V1="authToken",q1="userData",R0="mobileUserId";function ir(){return Rc.isNativePlatform()}async function Zl(e){ir()&&await Kn.set({key:V1,value:e}),localStorage.setItem("sessionToken",e),localStorage.setItem("token",e)}async function ec(e){const t=JSON.stringify(e);ir()&&await Kn.set({key:q1,value:t}),localStorage.setItem("user",t)}async function Lx(){ir()&&(await Kn.remove({key:V1}),await Kn.remove({key:q1}),await Kn.remove({key:R0})),localStorage.removeItem("sessionToken"),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("mobileUserId")}async function tR(){var e;if(!ir())return!1;try{const{value:t}=await Kn.get({key:V1}),{value:r}=await Kn.get({key:q1}),{value:a}=await Kn.get({key:R0});if(t){if(localStorage.setItem("sessionToken",t),localStorage.setItem("token",t),r){localStorage.setItem("user",r);try{const i=JSON.parse(r),s=a||((e=i==null?void 0:i.id)==null?void 0:e.toString())||"1";localStorage.setItem("mobileUserId",s),!a&&(i!=null&&i.id)&&await Kn.set({key:R0,value:s})}catch{a&&localStorage.setItem("mobileUserId",a)}}else a&&localStorage.setItem("mobileUserId",a);return!0}}catch(t){console.error("Error restoring auth from native storage:",t)}return!1}const rR=Object.freeze(Object.defineProperty({__proto__:null,clearAuth:Lx,isNativeApp:ir,restoreAuthFromNative:tR,saveAuthToken:Zl,saveUserData:ec},Symbol.toStringTag,{value:"Module"}));class BV{constructor(){this.visitorId=this.getOrCreateVisitorId(),this.sessionId=this.getOrCreateSessionId(),this.pageLoadTime=Date.now()}getOrCreateVisitorId(){let t=localStorage.getItem("bjj_visitor_id");return t||(t="v_"+Math.random().toString(36).substr(2,9)+Date.now().toString(36),localStorage.setItem("bjj_visitor_id",t)),t}getOrCreateSessionId(){let t=sessionStorage.getItem("bjj_session_id");return t||(t="s_"+Math.random().toString(36).substr(2,9)+Date.now().toString(36),sessionStorage.setItem("bjj_session_id",t)),t}getTrafficSource(){const t=document.referrer,r=new URLSearchParams(window.location.search),a=r.get("utm_source");return a?{source:a,utmMedium:r.get("utm_medium"),utmCampaign:r.get("utm_campaign"),referrer:t}:t?t.includes("instagram.com")?{source:"instagram",referrer:t}:t.includes("google.com")?{source:"google",referrer:t}:t.includes("facebook.com")?{source:"facebook",referrer:t}:t.includes("twitter.com")||t.includes("t.co")?{source:"twitter",referrer:t}:t.includes("youtube.com")?{source:"youtube",referrer:t}:t.includes("reddit.com")?{source:"reddit",referrer:t}:t.includes("tiktok.com")?{source:"tiktok",referrer:t}:{source:"referral",referrer:t}:{source:"direct",referrer:""}}getDeviceInfo(){const t=navigator.userAgent;let r="desktop";/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(t)?r="tablet":/Mobile|Android|iP(hone|od)|IEMobile|BlackBerry|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(t)&&(r="mobile");let a="unknown";t.includes("Chrome")?a="Chrome":t.includes("Safari")?a="Safari":t.includes("Firefox")?a="Firefox":t.includes("Edge")&&(a="Edge");let i="unknown";return t.includes("Windows")?i="Windows":t.includes("Mac")?i="macOS":t.includes("iPhone")||t.includes("iPad")?i="iOS":t.includes("Android")?i="Android":t.includes("Linux")&&(i="Linux"),{deviceType:r,browser:a,os:i}}async trackPageView(){try{const t=this.getTrafficSource(),r=this.getDeviceInfo(),a={pagePath:window.location.pathname,pageTitle:document.title,visitorId:this.visitorId,sessionId:this.sessionId,referrer:t.referrer,source:t.source,utmSource:"utmMedium"in t?t.source:null,utmMedium:"utmMedium"in t?t.utmMedium:null,utmCampaign:"utmCampaign"in t?t.utmCampaign:null,deviceType:r.deviceType,browser:r.browser,os:r.os};await fetch("/api/analytics/pageview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),this.trackTimeOnPage()}catch(t){console.error("Analytics error:",t)}}trackTimeOnPage(){window.addEventListener("beforeunload",()=>{const t=Math.round((Date.now()-this.pageLoadTime)/1e3);navigator.sendBeacon("/api/analytics/time-on-page",JSON.stringify({visitorId:this.visitorId,sessionId:this.sessionId,pagePath:window.location.pathname,timeOnPage:t}))})}}if(window.location.pathname==="/"||window.location.pathname.startsWith("/pricing")){const e=new BV;e.trackPageView(),window.bjjAnalytics=e}var nR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tk=F.createContext&&F.createContext(nR),zV=["attr","size","title"];function UV(e,t){if(e==null)return{};var r=VV(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function VV(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function $p(){return $p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$p.apply(this,arguments)}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(a){qV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qV(e,t,r){return t=WV(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WV(e){var t=HV(e,"string");return typeof t=="symbol"?t:t+""}function HV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aR(e){return e&&e.map((t,r)=>F.createElement(t.tag,Dp({key:r},t.attr),aR(t.child)))}function KV(e){return t=>F.createElement(GV,$p({attr:Dp({},e.attr)},t),aR(e.child))}function GV(e){var t=r=>{var{attr:a,size:i,title:s}=e,o=UV(e,zV),l=i||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),F.createElement("svg",$p({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,o,{className:c,style:Dp(Dp({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&F.createElement("title",null,s),e.children)};return Tk!==void 0?F.createElement(Tk.Consumer,null,r=>t(r)):t(nR)}function YV(e){return KV({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(e)}function QV(){const[,e]=at();return x.useEffect(()=>{const t=document.querySelectorAll("section:not(.landing-hero)"),r={root:null,rootMargin:"0px",threshold:.1},a=o=>{o.forEach(l=>{l.isIntersecting&&l.target.classList.add("visible")})},i=new IntersectionObserver(a,r);t.forEach(o=>{i.observe(o)});const s=document.querySelector(".landing-comparison");if(s){const o=c=>{const d=c,u=s.getBoundingClientRect(),f=(d.clientX-u.left)/u.width*100,h=(d.clientY-u.top)/u.height*100;s.style.setProperty("--mouse-x",`${f}%`),s.style.setProperty("--mouse-y",`${h}%`)},l=()=>{s.style.setProperty("--mouse-x","50%"),s.style.setProperty("--mouse-y","50%")};return s.addEventListener("mousemove",o),s.addEventListener("mouseleave",l),()=>{i.disconnect(),s.removeEventListener("mousemove",o),s.removeEventListener("mouseleave",l)}}return()=>{i.disconnect()}},[]),n.jsxs("div",{className:"landing-page page-container",children:[n.jsx("nav",{className:"landing-nav",children:n.jsxs("div",{className:"landing-nav-content",children:[n.jsx("div",{className:"landing-nav-left",children:n.jsx("a",{href:"/",className:"landing-logo-link","data-testid":"link-home",children:n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"landing-logo-img"})})}),n.jsxs("div",{className:"landing-nav-right",children:[n.jsx("button",{className:"landing-nav-login",onClick:()=>e("/login"),"data-testid":"button-login",children:"Login"}),n.jsx("button",{className:"landing-nav-signup",onClick:()=>e("/pricing"),"data-testid":"button-signup",children:"Sign Up"})]})]})}),n.jsx("section",{className:"landing-hero hero-section",children:n.jsxs("div",{className:"landing-hero-content",children:[n.jsxs("h1",{className:"landing-hero-headline",children:["Stop training blindly.",n.jsx("br",{}),"Start training with intelligence."]}),n.jsx("p",{className:"landing-hero-paragraph",children:"Prof. OS autonomously searches and analyzes BJJ instructional content every dayfinding videos buried deep in YouTube you'd never discover, rating quality, verifying instructor credentials, timestamping the exact moments that matter. The database grows continuously, learning which instruction actually works. No more 20-minute tutorials. No more sifting through beginners teaching beginners. Just the best instruction, curated and ready."}),n.jsx("p",{className:"landing-hero-paragraph",children:"It learns your game at every level. Beginners discover why they keep getting caught in the same submissions. Intermediates identify which techniques work for their body type and which don't. Advanced players track success rates across hundreds of positions, spot subtle patterns in their competition footage, and compare their game against population data from thousands of grapplersinsights no single coach could provide. The intelligence scales with you."}),n.jsx("button",{className:"landing-cta-button cta-button",onClick:()=>e("/pricing"),"data-testid":"button-start-trial",children:"Start 7-Day Trial"}),n.jsx("p",{className:"landing-trust-line",children:"Used by white belts learning fundamentals to black belts preparing for Worlds"})]})}),n.jsx("section",{className:"landing-comparison comparison-section",children:n.jsx("div",{className:"landing-comparison-content",children:n.jsxs("div",{className:"landing-comparison-grid",children:[n.jsxs("div",{className:"landing-comparison-column landing-without-column",children:[n.jsx("h3",{className:"landing-comparison-header",children:"WITHOUT PROF. OS"}),n.jsxs("div",{className:"landing-comparison-items",children:[n.jsxs("p",{className:"landing-without-item",children:[n.jsx("span",{className:"landing-without-indicator",children:""})," Forget techniques from class by next session"]}),n.jsxs("p",{className:"landing-without-item",children:[n.jsx("span",{className:"landing-without-indicator",children:""})," Watch random YouTube for hours hoping something sticks"]}),n.jsxs("p",{className:"landing-without-item",children:[n.jsx("span",{className:"landing-without-indicator",children:""})," Wonder if you're actually improving"]}),n.jsxs("p",{className:"landing-without-item",children:[n.jsx("span",{className:"landing-without-indicator",children:""})," Repeat the same mistakes for months"]})]})]}),n.jsxs("div",{className:"landing-comparison-column landing-with-column",children:[n.jsx("h3",{className:"landing-comparison-header landing-with-header",children:"WITH PROF. OS"}),n.jsxs("div",{className:"landing-comparison-items",children:[n.jsxs("p",{className:"landing-with-item",children:[n.jsx("span",{className:"landing-with-indicator",children:""})," Remember every technique, tracked with full context"]}),n.jsxs("p",{className:"landing-with-item",children:[n.jsx("span",{className:"landing-with-indicator",children:""})," Get the exact video you needsaved and organized by technique and instructor"]}),n.jsxs("p",{className:"landing-with-item",children:[n.jsx("span",{className:"landing-with-indicator",children:""})," Know exactly what to drill next session"]}),n.jsxs("p",{className:"landing-with-item",children:[n.jsx("span",{className:"landing-with-indicator",children:""})," Build a complete model of your game over time"]})]})]})]})})}),n.jsx("section",{className:"landing-how-it-works how-it-works-section",children:n.jsxs("div",{className:"landing-how-content",children:[n.jsx("h2",{className:"landing-section-header",children:"THREE STEPS TO SMARTER TRAINING"}),n.jsxs("div",{className:"landing-steps-grid",children:[n.jsxs("div",{className:"landing-step step-card",children:[n.jsx("div",{className:"landing-step-number",children:"1."}),n.jsx("h3",{className:"landing-step-title",children:"LOG YOUR SESSIONS"}),n.jsx("p",{className:"landing-step-subtitle",children:"(30 seconds)"}),n.jsx("p",{className:"landing-step-description",children:'Voice or text. "Drilled triangles, got swept from half guard twice."'})]}),n.jsxs("div",{className:"landing-step step-card",children:[n.jsx("div",{className:"landing-step-number",children:"2."}),n.jsx("h3",{className:"landing-step-title",children:"GET PERSONALIZED COACHING"}),n.jsx("p",{className:"landing-step-description",children:"Prof. OS analyzes your patterns, recommends what to work on, suggests specific videos."})]}),n.jsxs("div",{className:"landing-step step-card",children:[n.jsx("div",{className:"landing-step-number",children:"3."}),n.jsx("h3",{className:"landing-step-title",children:"WATCH IT GET SMARTER"}),n.jsx("p",{className:"landing-step-description",children:"The more you use it, the better it understands your game. Intelligence that compounds."})]})]})]})}),n.jsx("section",{className:"landing-video-library video-library-section",children:n.jsxs("div",{className:"landing-video-content",children:[n.jsx("h2",{className:"landing-video-library-header",children:"YOUR PERSONAL VIDEO LIBRARY"}),n.jsx("p",{className:"landing-video-description",children:"Save any video Prof. OS recommends. They're automatically organized by technique and instructornot a messy pile of bookmarks. Curated, timestamped, ready when you need them."})]})}),n.jsx("section",{className:"landing-final-cta final-cta-section",children:n.jsxs("div",{className:"landing-final-content",children:[n.jsx("h2",{className:"landing-final-headline",children:"Start your 7-day trial."}),n.jsx("p",{className:"landing-final-subheadline",children:"No commitment. Cancel anytime."}),n.jsx("button",{className:"landing-cta-button cta-button",onClick:()=>e("/pricing"),"data-testid":"button-start-trial-footer",children:"Start 7-Day Trial"}),n.jsx("p",{className:"landing-final-footer",children:"You'll log your first session in under 60 seconds."})]})}),n.jsx("footer",{className:"landing-footer",children:n.jsxs("div",{className:"landing-footer-content",children:[n.jsxs("div",{className:"landing-footer-links",children:[n.jsxs("span",{className:"landing-footer-coming-soon",children:["Mobile App ",n.jsx("span",{className:"landing-coming-soon-label",children:"(Coming Soon)"})]}),n.jsx("a",{href:"mailto:support@bjjos.app",className:"landing-footer-link footer-link","data-testid":"link-support",children:"support@bjjos.app"}),n.jsx("a",{href:"/privacy",className:"landing-footer-link footer-link","data-testid":"link-privacy",children:"Privacy Policy"}),n.jsx("a",{href:"/terms",className:"landing-footer-link footer-link","data-testid":"link-terms",children:"Terms of Service"})]}),n.jsx("a",{href:"https://instagram.com/bjjosapp",target:"_blank",rel:"noopener noreferrer",className:"landing-footer-instagram","data-testid":"link-instagram","aria-label":"Follow us on Instagram",children:n.jsx(YV,{})}),n.jsx("p",{className:"landing-footer-copyright footer-copyright",children:" 2025 BJJ OS"})]})}),n.jsx("style",{children:`
        /* ==================== GLOBAL VARIABLES ==================== */
        :root {
          --black: #000000;
          --black-elevated: #0A0A0A;
          --white: #FFFFFF;
          --gray-light: #B0B0B0;
          --gray-medium: #71717A;
          --gray-dim: #52525B;
          --gray-dark: #1A1A1A;
          --blue: #2563EB;
          --purple: #7C3AED;
          --blue-hover-1: #1D4ED8;
          --purple-hover-1: #6D28D9;
          --blue-hover-2: #1E40AF;
          --purple-hover-2: #5B21B6;
          --green: #22C55E;
          --green-dim: rgba(34, 197, 94, 0.1);
          --green-glow: rgba(34, 197, 94, 0.3);
          --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;
          --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          
          /* Typography Scale - 5 Levels */
          --text-hero: clamp(48px, 8vw, 72px);
          --text-section: clamp(24px, 4vw, 36px);
          --text-subhead: clamp(16px, 2.5vw, 20px);
          --text-body: clamp(16px, 2vw, 18px);
          --text-small: clamp(12px, 1.5vw, 14px);
        }

        /* ==================== MOTION SYSTEM ==================== */
        
        /* Respect reduced motion preference */
        @media (prefers-reduced-motion: reduce) {
          *,
          *::before,
          *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
          }
        }

        /* Smooth scroll */
        html {
          scroll-behavior: smooth;
          overflow-x: hidden;
          -webkit-overflow-scrolling: touch;
        }

        /* Sections start invisible and below */
        section {
          opacity: 0;
          transform: translateY(20px);
          transition: opacity 0.6s ease, transform 0.6s ease;
        }

        /* Hero is immediately visible */
        .hero-section {
          opacity: 1 !important;
          transform: translateY(0) !important;
          transition: none !important;
        }

        /* Visible state (triggered by Intersection Observer) */
        section.visible {
          opacity: 1;
          transform: translateY(0);
          will-change: auto;
        }

        /* Gradient animation on buttons */
        .cta-button {
          background-size: 200% 200%;
          animation: gradient-shift 8s ease infinite;
        }

        @keyframes gradient-shift {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }

        /* ==================== BASE STYLES ==================== */
        .landing-page {
          font-family: var(--font-sans);
          background: var(--black);
          color: var(--white);
          min-height: 100vh;
          overflow-x: hidden;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          text-rendering: optimizeLegibility;
          font-feature-settings: "liga" 1, "kern" 1;
          position: relative;
        }

        /* Subtle grain texture overlay */
        .landing-page::before {
          content: '';
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-image: 
            url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
          pointer-events: none;
          z-index: 9999;
          mix-blend-mode: overlay;
          opacity: 1;
        }

        .landing-page * {
          box-sizing: border-box;
        }

        /* ==================== NAVIGATION ==================== */
        .landing-nav {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          background: var(--black);
          height: 72px;
          z-index: 1000;
          border-bottom: 1px solid var(--gray-dark);
        }

        .landing-nav-content {
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 40px;
          height: 100%;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .landing-nav-left {
          display: flex;
          align-items: center;
        }

        .landing-logo-link {
          display: flex;
          align-items: center;
        }

        .landing-logo-img {
          height: 36px;
          width: auto;
        }

        .landing-nav-right {
          display: flex;
          align-items: center;
          gap: 24px;
        }

        .landing-nav-login {
          background: none;
          border: none;
          font-family: var(--font-sans);
          font-size: 15px;
          font-weight: 500;
          color: var(--gray-light);
          cursor: pointer;
          transition: color 150ms ease;
          padding: 16px;
          user-select: none;
        }

        .landing-nav-login:hover {
          color: var(--white);
        }

        .landing-nav-signup {
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          border: none;
          border-radius: 0;
          font-family: var(--font-sans);
          font-weight: 600;
          font-size: 15px;
          color: var(--white);
          padding: 12px 24px;
          cursor: pointer;
          transition: background 150ms ease;
          user-select: none;
          background-size: 200% 200%;
          animation: gradient-shift 8s ease infinite;
        }

        .landing-nav-signup:hover {
          background: linear-gradient(135deg, var(--blue-hover-1) 0%, var(--purple-hover-1) 100%);
        }

        .landing-nav-signup:active {
          background: linear-gradient(135deg, var(--blue-hover-2) 0%, var(--purple-hover-2) 100%);
          transform: translateY(1px);
        }

        /* ==================== HERO SECTION (ELEVATED) ==================== */
        .landing-hero {
          background: var(--black-elevated);
          padding: calc(140px + 72px) 40px 140px;
          position: relative;
        }

        .landing-hero-content {
          max-width: 1200px;
          margin: 0 auto;
        }

        /* LEVEL 1: Hero - Largest */
        .landing-hero-headline {
          font-family: var(--font-mono);
          font-size: var(--text-hero);
          font-weight: 700;
          line-height: 1.05;
          letter-spacing: -0.03em;
          color: var(--white);
          max-width: 900px;
          margin: 0 auto 48px;
          user-select: text;
        }

        /* LEVEL 4: Body - Comfortable reading */
        .landing-hero-paragraph {
          font-family: var(--font-sans);
          font-size: var(--text-body);
          font-weight: 400;
          line-height: 1.75;
          color: var(--gray-light);
          max-width: 720px;
          margin: 0 auto 28px;
          user-select: text;
        }

        .landing-hero-paragraph:last-of-type {
          margin-bottom: 72px;
        }

        .landing-cta-button {
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          border: none;
          border-radius: 0;
          box-shadow: none;
          font-family: var(--font-sans);
          font-weight: 600;
          font-size: 16px;
          color: var(--white);
          padding: 18px 48px;
          cursor: pointer;
          transition: background 150ms ease;
          margin: 0 auto 20px;
          display: block;
          user-select: none;
          will-change: transform;
          transform: translateZ(0);
          backface-visibility: hidden;
        }

        .landing-cta-button:hover {
          background: linear-gradient(135deg, var(--blue-hover-1) 0%, var(--purple-hover-1) 100%);
        }

        .landing-cta-button:active {
          background: linear-gradient(135deg, var(--blue-hover-2) 0%, var(--purple-hover-2) 100%);
          transform: translateY(1px);
        }

        .landing-cta-button:focus-visible {
          box-shadow: 
            0 0 0 2px var(--black),
            0 0 0 4px var(--blue),
            0 0 0 6px var(--purple);
          outline: none;
        }

        /* LEVEL 5: Small - Captions */
        .landing-trust-line {
          font-family: var(--font-sans);
          font-size: var(--text-small);
          font-weight: 400;
          color: var(--gray-medium);
          line-height: 1.5;
          text-align: center;
          max-width: 600px;
          margin: 0 auto;
          user-select: text;
        }

        /* ==================== COMPARISON SECTION ==================== */
        .landing-comparison {
          background: var(--black);
          padding: 120px 40px;
          margin-top: 0;
          position: relative;
          overflow: hidden;
        }

        /* Cursor glow effect */
        .landing-comparison::before {
          content: '';
          position: absolute;
          width: 100%;
          height: 100%;
          top: 0;
          left: 0;
          background: radial-gradient(
            circle 200px at var(--mouse-x, 50%) var(--mouse-y, 50%),
            rgba(37, 99, 235, 0.03),
            transparent 80%
          );
          pointer-events: none;
          transition: opacity 0.3s ease;
          opacity: 0;
          z-index: 0;
        }

        .landing-comparison:hover::before {
          opacity: 1;
        }

        .landing-comparison-content {
          max-width: 1000px;
          margin: 0 auto;
          position: relative;
          z-index: 1;
        }

        .landing-comparison-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 100px;
          position: relative;
        }

        /* Vertical divider line (desktop only) */
        .landing-comparison-grid::before {
          content: '';
          position: absolute;
          left: 50%;
          top: 60px;
          bottom: 0;
          width: 1px;
          background: var(--gray-dark);
          transform: translateX(-50%);
        }

        /* LEVEL 3: Sub-headlines */
        .landing-comparison-header {
          font-family: var(--font-mono);
          font-size: var(--text-subhead);
          font-weight: 700;
          color: var(--gray-dim);
          text-transform: uppercase;
          letter-spacing: 0.08em;
          margin: 0 0 40px;
        }

        .landing-with-header {
          color: var(--white);
        }

        .landing-comparison-items {
          display: flex;
          flex-direction: column;
          gap: 28px;
        }

        .landing-comparison-items p {
          font-family: var(--font-sans);
          font-size: var(--text-body);
          line-height: 1.6;
          margin: 0;
          user-select: text;
          display: flex;
          align-items: flex-start;
          gap: 14px;
        }

        /* WITHOUT items - Dimmed but readable */
        .landing-without-item {
          color: var(--gray-medium);
        }

        .landing-without-indicator {
          color: var(--gray-medium);
          font-size: 16px;
          font-weight: 400;
          flex-shrink: 0;
          margin-top: 2px;
        }

        /* WITH items - Bright */
        .landing-with-item {
          color: var(--white);
        }

        .landing-with-indicator {
          color: var(--purple);
          font-size: 16px;
          font-weight: 700;
          flex-shrink: 0;
          margin-top: 1px;
        }

        /* ==================== HOW IT WORKS ==================== */
        .landing-how-it-works {
          background: var(--black);
          padding: 120px 40px;
          margin-top: 0;
        }

        .landing-how-content {
          max-width: 1100px;
          margin: 0 auto;
        }

        /* LEVEL 2: Section Titles */
        .landing-section-header {
          font-family: var(--font-mono);
          font-size: var(--text-section);
          font-weight: 700;
          color: var(--white);
          text-align: center;
          letter-spacing: 0.04em;
          margin: 0 0 72px;
          user-select: text;
        }

        .landing-steps-grid {
          display: grid;
          grid-template-columns: repeat(3, 1fr);
          gap: 48px;
        }

        .landing-step {
          background: transparent;
          padding: 32px 24px;
          text-align: center;
        }

        .landing-step-number {
          font-family: var(--font-mono);
          font-size: 56px;
          font-weight: 700;
          color: var(--white);
          line-height: 1;
          margin-bottom: 20px;
        }

        /* LEVEL 3: Sub-headlines */
        .landing-step-title {
          font-family: var(--font-mono);
          font-size: var(--text-subhead);
          font-weight: 700;
          color: var(--white);
          text-transform: uppercase;
          letter-spacing: 0.04em;
          line-height: 1.3;
          margin-bottom: 8px;
          user-select: text;
        }

        /* LEVEL 5: Small */
        .landing-step-subtitle {
          font-family: var(--font-sans);
          font-size: var(--text-small);
          font-weight: 400;
          color: var(--gray-medium);
          margin-bottom: 20px;
        }

        /* LEVEL 4: Body */
        .landing-step-description {
          font-family: var(--font-sans);
          font-size: var(--text-body);
          font-weight: 400;
          color: var(--gray-light);
          line-height: 1.7;
          max-width: 280px;
          margin: 0 auto;
          user-select: text;
        }

        /* ==================== VIDEO LIBRARY ==================== */
        .landing-video-library {
          background: var(--black);
          padding: 100px 40px;
          margin-top: 0;
        }

        .landing-video-content {
          max-width: 680px;
          margin: 0 auto;
          text-align: center;
        }

        /* LEVEL 2: Section Titles */
        .landing-video-library-header {
          font-family: var(--font-mono);
          font-size: var(--text-section);
          font-weight: 700;
          color: var(--white);
          letter-spacing: 0.02em;
          margin-bottom: 28px;
          user-select: text;
        }

        /* LEVEL 4: Body */
        .landing-video-description {
          font-family: var(--font-sans);
          font-size: var(--text-body);
          font-weight: 400;
          color: var(--gray-light);
          line-height: 1.75;
          user-select: text;
        }

        /* ==================== FINAL CTA (ELEVATED) ==================== */
        .landing-final-cta {
          background: var(--black-elevated);
          padding: 120px 40px;
          margin-top: 0;
          position: relative;
        }

        .landing-final-content {
          max-width: 600px;
          margin: 0 auto;
          text-align: center;
        }

        .landing-final-headline {
          font-family: var(--font-mono);
          font-size: clamp(36px, 6vw, 52px);
          font-weight: 700;
          color: var(--white);
          line-height: 1.15;
          margin-bottom: 12px;
          user-select: text;
        }

        /* LEVEL 5: Small */
        .landing-final-subheadline {
          font-family: var(--font-sans);
          font-size: var(--text-small);
          font-weight: 400;
          color: var(--gray-medium);
          line-height: 1.6;
          margin-bottom: 56px;
          user-select: text;
        }

        /* LEVEL 5: Small - Visible subtext */
        .landing-final-footer {
          font-family: var(--font-sans);
          font-size: var(--text-small);
          font-weight: 400;
          color: var(--gray-light);
          margin-top: 36px;
          user-select: text;
        }

        /* ==================== FOOTER ==================== */
        .landing-footer {
          background: var(--black);
          padding: 56px 24px;
        }

        .landing-footer-content {
          max-width: 1200px;
          margin: 0 auto;
          text-align: center;
        }

        .landing-footer-links {
          display: flex;
          flex-direction: column;
          gap: 24px;
          margin-bottom: 32px;
        }

        .landing-footer-link,
        .landing-footer-coming-soon {
          font-family: var(--font-sans);
          font-size: 15px;
          font-weight: 400;
          color: var(--gray-light);
          text-decoration: none;
          padding: 12px 0;
          transition: color 150ms ease;
        }

        .landing-footer-link:hover {
          color: var(--white);
        }

        .landing-footer-link:focus-visible {
          box-shadow: 0 0 0 2px var(--black), 0 0 0 4px var(--blue);
          outline: none;
        }

        .landing-coming-soon-label {
          font-size: 12px;
          color: var(--gray-medium);
          font-weight: 400;
          letter-spacing: 0.05em;
        }

        .landing-footer-copyright {
          font-family: var(--font-sans);
          font-size: var(--text-small);
          color: var(--gray-medium);
          border-top: 1px solid var(--gray-dark);
          padding-top: 32px;
          margin-top: 32px;
        }

        .landing-footer-instagram {
          display: inline-flex;
          align-items: center;
          justify-content: center;
          margin-top: 24px;
          color: var(--gray-medium);
          font-size: 20px;
          transition: all 200ms ease;
        }

        .landing-footer-instagram:hover {
          color: var(--white);
          transform: scale(1.1);
        }

        .landing-footer-instagram:focus-visible {
          box-shadow: 0 0 0 2px var(--black), 0 0 0 4px var(--purple);
          outline: none;
          border-radius: 4px;
        }

        /* ==================== MOBILE RESPONSIVE ==================== */
        @media (max-width: 768px) {
          .landing-nav {
            height: 64px;
          }

          .landing-nav-content {
            padding: 0 24px;
          }

          .landing-hero {
            padding: calc(100px + 64px) 24px 100px;
          }

          .landing-hero-headline {
            margin-bottom: 36px;
          }

          .landing-hero-paragraph {
            margin-bottom: 24px;
          }

          .landing-hero-paragraph:last-of-type {
            margin-bottom: 56px;
          }

          .landing-comparison {
            padding: 80px 24px;
          }

          /* Hide cursor glow on mobile */
          .landing-comparison::before {
            display: none;
          }

          .landing-comparison-grid {
            grid-template-columns: 1fr;
            gap: 56px;
          }

          .landing-comparison-grid::before {
            display: none;
          }

          .landing-without-column::after {
            content: '';
            display: block;
            width: 100%;
            height: 1px;
            background: var(--gray-dark);
            margin-top: 48px;
          }

          .landing-how-it-works {
            padding: 80px 24px;
          }

          .landing-section-header {
            margin-bottom: 56px;
          }

          .landing-steps-grid {
            grid-template-columns: 1fr;
            gap: 56px;
          }

          .landing-video-library {
            padding: 80px 24px;
          }

          .landing-final-cta {
            padding: 80px 24px;
          }

          .landing-footer {
            padding: 48px 24px;
          }

          .landing-footer-links {
            flex-direction: column;
            gap: 24px;
          }

          .landing-footer-copyright {
            border-top: 1px solid var(--gray-dark);
            padding-top: 32px;
            margin-top: 32px;
          }
        }

        /* Desktop footer with bullets */
        @media (min-width: 769px) {
          .landing-footer-links {
            flex-direction: row;
            justify-content: center;
            gap: 32px;
            margin-bottom: 16px;
          }

          .landing-footer-link:not(:last-child)::after,
          .landing-footer-coming-soon::after {
            content: '';
            margin-left: 32px;
            color: var(--gray-dark);
          }

          .landing-footer-copyright {
            border-top: none;
            padding-top: 0;
            margin-top: 0;
          }
        }

        /* Touch Targets (Mobile) */
        @media (max-width: 768px) {
          .landing-nav-login,
          .landing-nav-signup,
          .landing-cta-button {
            min-height: 44px;
            min-width: 44px;
          }
        }

        /* GPU Acceleration for performance */
        section,
        .landing-cta-button,
        .landing-comparison::before {
          will-change: transform, opacity;
          transform: translateZ(0);
          backface-visibility: hidden;
          perspective: 1000px;
        }
      `})]})}function XV(){const[,e]=at(),[t,r]=x.useState(""),[a,i]=x.useState(""),[s,o]=x.useState(!1);x.useEffect(()=>{window.scrollTo(0,0)},[]);const l=u=>{const f=u.toUpperCase();r(f),i(""),o(!1)},c=()=>{if(!t){i("Please enter a referral code"),o(!1);return}if(!/^[A-Z0-9]{4,12}$/.test(t)){i("Invalid code format"),o(!1);return}i(`Code ${t} applied - Extra 30 days free trial!`),o(!0)},d=()=>{const u=new URLSearchParams;u.set("plan","monthly"),s&&t&&u.set("ref",t),e(`/signup?${u.toString()}`)};return n.jsxs("div",{className:"pricing-page page-container",children:[n.jsx("nav",{className:"pricing-nav",children:n.jsxs("div",{className:"pricing-nav-content",children:[n.jsx("div",{className:"pricing-nav-left",children:n.jsx("a",{href:"/",className:"pricing-logo-link","data-testid":"link-home",children:n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"pricing-logo-img"})})}),n.jsxs("div",{className:"pricing-nav-right",children:[n.jsx("button",{className:"pricing-nav-login",onClick:()=>e("/login"),"data-testid":"button-login",children:"Login"}),n.jsx("button",{className:"pricing-nav-signup",onClick:()=>e("/pricing"),"data-testid":"button-signup",children:"Sign Up"})]})]})}),n.jsxs("div",{className:"pricing-container",children:[n.jsxs("div",{className:"pricing-header",children:[n.jsx("h1",{className:"pricing-headline",children:"BJJ OS"}),n.jsx("p",{className:"pricing-subheadline",children:"Your AI-powered BJJ training partner"})]}),n.jsxs("div",{className:"pricing-single-card","data-testid":"card-plan",children:[n.jsxs("div",{className:"plan-price-section",children:[n.jsx("div",{className:"plan-price",children:"$14.99"}),n.jsx("div",{className:"plan-period",children:"/month"})]}),n.jsx("div",{className:"trial-badge",children:"7-day free trial"}),n.jsx("p",{className:"trial-note",children:"Credit card required. Auto-charges after 7 days. Cancel anytime."}),n.jsxs("div",{className:"features-list",children:[n.jsxs("div",{className:"feature-item","data-testid":"feature-coaching",children:[n.jsx("span",{className:"feature-check",children:""}),n.jsx("span",{children:"Unlimited Professor OS coaching"})]}),n.jsxs("div",{className:"feature-item","data-testid":"feature-videos",children:[n.jsx("span",{className:"feature-check",children:""}),n.jsx("span",{children:"Full video library (thousands of curated techniques, adding more daily)"})]}),n.jsxs("div",{className:"feature-item","data-testid":"feature-recommendations",children:[n.jsx("span",{className:"feature-check",children:""}),n.jsx("span",{children:"Personalized recommendations"})]}),n.jsxs("div",{className:"feature-item","data-testid":"feature-memory",children:[n.jsx("span",{className:"feature-check",children:""}),n.jsx("span",{children:"Training memory that learns your game"})]}),n.jsxs("div",{className:"feature-item","data-testid":"feature-support",children:[n.jsx("span",{className:"feature-check",children:""}),n.jsx("span",{children:"Priority support"})]})]}),n.jsx("button",{className:"start-trial-button",onClick:d,"data-testid":"button-start-trial",children:"Start 7-Day Free Trial"})]}),n.jsxs("div",{className:"referral-section",children:[n.jsx("div",{className:"referral-header",children:"Have a referral code?"}),n.jsxs("div",{className:"referral-input-group",children:[n.jsx("input",{type:"text",className:`referral-input ${s?"valid":""} ${a&&!s?"invalid":""}`,placeholder:"Enter code",value:t,onChange:u=>l(u.target.value),maxLength:12,readOnly:s,"data-testid":"input-referral"}),n.jsx("button",{className:"apply-button",onClick:c,disabled:s,"data-testid":"button-apply-referral",children:"Apply"})]}),a&&n.jsxs("div",{className:s?"referral-success":"referral-error","data-testid":"text-referral-message",children:[s&&n.jsx("span",{className:"success-indicator",children:""}),a]})]})]}),n.jsx("style",{children:`
        /* ==================== GLOBAL VARIABLES ==================== */
        :root {
          --black: #000000;
          --black-elevated: #0F0F0F;
          --white: #FFFFFF;
          --gray-light: #A0A0A0;
          --gray-medium: #71717A;
          --gray-dark: #1A1A1A;
          --blue: #2563EB;
          --purple: #7C3AED;
          --blue-hover-1: #1D4ED8;
          --purple-hover-1: #6D28D9;
          --blue-hover-2: #1E40AF;
          --purple-hover-2: #5B21B6;
          --green: #22C55E;
          --green-dim: rgba(34, 197, 94, 0.1);
          --green-glow: rgba(34, 197, 94, 0.3);
          --red: #EF4444;
          --font-mono: 'JetBrains Mono', monospace;
        }

        /* ==================== MOTION SYSTEM ==================== */
        
        /* Respect reduced motion preference */
        @media (prefers-reduced-motion: reduce) {
          *,
          *::before,
          *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
          }
        }

        /* Smooth scroll */
        html {
          scroll-behavior: smooth;
          overflow-x: hidden;
          -webkit-overflow-scrolling: touch;
        }

        /* Gradient animation on buttons */
        .continue-button,
        .select-button.selected,
        .pricing-nav-signup {
          background-size: 200% 200%;
          animation: gradient-shift 8s ease infinite;
        }

        @keyframes gradient-shift {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }

        /* ==================== BASE STYLES ==================== */
        .pricing-page {
          font-family: var(--font-mono);
          background: var(--black);
          color: var(--white);
          min-height: 100vh;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          text-rendering: optimizeLegibility;
          font-feature-settings: "liga" 1, "kern" 1;
          position: relative;
        }

        /* Subtle grain texture overlay */
        .pricing-page::before {
          content: '';
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-image: 
            url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
          pointer-events: none;
          z-index: 9999;
          mix-blend-mode: overlay;
          opacity: 1;
        }

        .pricing-page * {
          box-sizing: border-box;
        }

        /* ==================== NAVIGATION ==================== */
        .pricing-nav {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          background: var(--black);
          height: 72px;
          z-index: 1000;
          border-bottom: 1px solid var(--gray-dark);
        }

        .pricing-nav-content {
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 40px;
          height: 100%;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .pricing-nav-left {
          display: flex;
          align-items: center;
        }

        .pricing-logo-link {
          display: flex;
          align-items: center;
        }

        .pricing-logo-img {
          height: 36px;
          width: auto;
        }

        .pricing-nav-right {
          display: flex;
          align-items: center;
          gap: 24px;
        }

        .pricing-nav-login {
          background: none;
          border: none;
          font-family: var(--font-mono);
          font-size: 16px;
          color: var(--gray-light);
          cursor: pointer;
          transition: color 150ms ease;
          padding: 16px;
          user-select: none;
        }

        .pricing-nav-login:hover {
          color: var(--white);
        }

        .pricing-nav-signup {
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          border: none;
          border-radius: 0;
          font-family: var(--font-mono);
          font-weight: 700;
          font-size: 16px;
          color: var(--white);
          padding: 12px 24px;
          cursor: pointer;
          transition: background 150ms ease;
          user-select: none;
        }

        .pricing-nav-signup:hover {
          background: linear-gradient(135deg, var(--blue-hover-1) 0%, var(--purple-hover-1) 100%);
        }

        /* ==================== CONTAINER ==================== */
        .pricing-container {
          padding: calc(80px + 72px) 40px 80px; /* Top padding + nav height */
          max-width: 900px;
          margin: 0 auto;
        }

        /* ==================== HEADER ==================== */
        .pricing-header {
          text-align: center;
          margin-bottom: 48px;
        }

        .pricing-headline {
          font-size: 48px;
          font-weight: 700;
          color: var(--white);
          line-height: 1.1;
          letter-spacing: -0.01em;
          margin-bottom: 16px;
        }

        .pricing-subheadline {
          font-size: 16px;
          font-weight: 400;
          color: var(--gray-light);
          line-height: 1.6;
          max-width: 600px;
          margin: 0 auto;
        }

        /* ==================== SINGLE PRICING CARD ==================== */
        .pricing-single-card {
          background: var(--black-elevated);
          padding: 48px;
          max-width: 480px;
          margin: 48px auto;
          text-align: center;
          border: 1px solid var(--gray-dark);
        }

        .plan-price-section {
          display: flex;
          align-items: baseline;
          justify-content: center;
          gap: 4px;
          margin-bottom: 16px;
        }

        .plan-price {
          font-family: var(--font-mono);
          font-weight: 700;
          font-size: 56px;
          color: var(--white);
          line-height: 1;
        }

        .plan-period {
          font-family: var(--font-mono);
          font-weight: 400;
          font-size: 18px;
          color: var(--gray-medium);
        }

        .trial-badge {
          display: inline-block;
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          color: var(--white);
          font-family: var(--font-mono);
          font-weight: 700;
          font-size: 14px;
          padding: 8px 24px;
          letter-spacing: 0.02em;
          text-transform: uppercase;
          margin-bottom: 12px;
        }

        .trial-note {
          font-family: var(--font-mono);
          font-size: 13px;
          color: var(--gray-medium);
          margin: 0 0 32px;
        }

        .features-list {
          text-align: left;
          margin-bottom: 32px;
        }

        .feature-item {
          display: flex;
          align-items: center;
          gap: 12px;
          font-family: var(--font-mono);
          font-size: 15px;
          color: var(--gray-light);
          padding: 12px 0;
          border-bottom: 1px solid var(--gray-dark);
        }

        .feature-item:last-child {
          border-bottom: none;
        }

        .feature-check {
          color: var(--green);
          font-size: 16px;
          font-weight: 700;
        }

        .start-trial-button {
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          border: none;
          font-family: var(--font-mono);
          font-weight: 700;
          font-size: 16px;
          color: var(--white);
          padding: 18px 48px;
          width: 100%;
          cursor: pointer;
          transition: all 150ms ease;
          background-size: 200% 200%;
          animation: gradient-shift 8s ease infinite;
        }

        .start-trial-button:hover {
          background: linear-gradient(135deg, var(--blue-hover-1) 0%, var(--purple-hover-1) 100%);
        }

        .start-trial-button:active {
          transform: translateY(1px);
        }

        /* ==================== REFERRAL SECTION ==================== */
        .referral-section {
          margin: 48px auto 0;
          max-width: 500px;
        }

        .referral-header {
          font-family: var(--font-mono);
          font-weight: 400;
          font-size: 16px;
          color: var(--white);
          margin-bottom: 16px;
          text-align: center;
        }

        .referral-input-group {
          display: flex;
          gap: 16px;
          margin-bottom: 8px;
        }

        /* Referral Input */
        .referral-input {
          background: var(--black-elevated);
          border: 1px solid var(--gray-dark);
          color: var(--white);
          font-family: var(--font-mono);
          font-weight: 400;
          font-size: 16px;
          padding: 12px 16px;
          border-radius: 0;
          flex: 1;
          transition: all 150ms ease;
        }

        .referral-input::placeholder {
          color: var(--gray-medium);
        }

        .referral-input:focus {
          outline: none;
          border: 1px solid var(--blue);
        }

        .referral-input.valid {
          border: 1px solid var(--green);
        }

        .referral-input.invalid {
          border: 1px solid var(--red);
          animation: shake 0.3s ease;
        }

        .referral-input:read-only {
          opacity: 0.7;
          cursor: not-allowed;
          border: 1px solid var(--green);
        }

        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-4px); }
          75% { transform: translateX(4px); }
        }

        /* Apply Button */
        .apply-button {
          background: transparent;
          border: 1px solid var(--blue);
          color: var(--blue);
          font-family: var(--font-mono);
          font-weight: 700;
          font-size: 14px;
          padding: 12px 32px;
          border-radius: 0;
          cursor: pointer;
          transition: all 150ms ease;
        }

        .apply-button:hover:not(:disabled) {
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          border: none;
          color: var(--white);
        }

        .apply-button:active {
          transform: translateY(1px);
        }

        .apply-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        /* Success/Error Messages */
        .referral-success {
          font-family: var(--font-mono);
          font-weight: 400;
          font-size: 14px;
          color: var(--green);
          text-shadow: 0 0 20px var(--green-glow);
          margin-top: 8px;
          text-align: center;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 8px;
          animation: success-fade-in 0.3s ease;
        }

        @keyframes success-fade-in {
          from { 
            opacity: 0; 
            transform: translateY(-4px); 
          }
          to { 
            opacity: 1; 
            transform: translateY(0); 
          }
        }

        /* Success checkmark animation */
        .success-indicator {
          color: var(--green);
          font-size: 16px;
          animation: checkmark-pop 0.4s ease;
        }

        @keyframes checkmark-pop {
          0% { 
            transform: scale(0); 
            opacity: 0; 
          }
          50% { 
            transform: scale(1.2); 
          }
          100% { 
            transform: scale(1); 
            opacity: 1; 
          }
        }

        .referral-error {
          font-family: var(--font-mono);
          font-weight: 400;
          font-size: 14px;
          color: var(--red);
          margin-top: 8px;
          text-align: center;
        }

        /* ==================== CONTINUE SECTION ==================== */
        .continue-section {
          margin: 64px auto 0;
          max-width: 400px;
          text-align: center;
        }

        .continue-button {
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          border: none;
          border-radius: 0;
          box-shadow: none;
          font-family: var(--font-mono);
          font-weight: 700;
          font-size: 16px;
          color: var(--white);
          padding: 18px 48px;
          cursor: pointer;
          transition: all 150ms ease;
          width: 100%;
          max-width: 400px;
          display: block;
          margin: 0 auto 24px;
        }

        .continue-button:hover {
          background: linear-gradient(135deg, var(--blue-hover-1) 0%, var(--purple-hover-1) 100%);
        }

        .continue-button:active {
          background: linear-gradient(135deg, var(--blue-hover-2) 0%, var(--purple-hover-2) 100%);
          transform: translateY(1px);
        }

        .continue-button:disabled {
          background: var(--gray-dark);
          color: var(--gray-medium);
          cursor: not-allowed;
          opacity: 0.5;
        }

        .continue-button:focus {
          outline: 2px solid var(--blue);
          outline-offset: 2px;
        }

        .continue-footer-text {
          font-family: var(--font-mono);
          font-weight: 400;
          font-size: 14px;
          color: var(--gray-medium);
          line-height: 1.5;
        }

        /* ==================== MOBILE RESPONSIVE ==================== */
        @media (max-width: 768px) {
          .pricing-nav {
            height: 64px;
          }

          .pricing-nav-content {
            padding: 0 24px;
          }

          .pricing-container {
            padding: calc(60px + 64px) 24px 60px;
          }

          .pricing-headline {
            font-size: 36px;
          }

          .pricing-cards-grid {
            grid-template-columns: 1fr;
            gap: 24px;
          }

          .pricing-card {
            padding: 32px;
          }

          .referral-input-group {
            flex-direction: column;
            gap: 16px;
          }

          .referral-input,
          .apply-button {
            width: 100%;
          }

          .continue-button {
            width: 100%;
          }
        }

        /* Touch Targets (Mobile) */
        @media (max-width: 768px) {
          .pricing-nav-login,
          .pricing-nav-signup,
          .select-button,
          .apply-button,
          .continue-button {
            min-height: 44px;
            min-width: 44px;
          }
        }
      `})]})}const W1=gd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Y=x.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...i},s)=>{const o=a?jx:"button";return n.jsx(o,{className:je(W1({variant:t,size:r,className:e})),ref:s,...i})});Y.displayName="Button";function _k(){const[,e]=at(),[t,r]=x.useState(""),[a,i]=x.useState(!1);x.useEffect(()=>{const l=new URLSearchParams(window.location.search).get("email");l&&(i(!0),r(`Your account for ${l} is being created. You can now log in!`))},[]);const s=()=>{e(a?"/login":"/chat")};return a?n.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-6",children:n.jsxs("div",{className:"text-center max-w-md",children:[n.jsx("div",{className:"mb-8 flex justify-center",children:n.jsx(In,{className:"w-20 h-20 text-green-500"})}),n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Payment Successful!"}),n.jsx("p",{className:"text-white/70 text-lg mb-8",children:t}),n.jsx(Y,{onClick:s,className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 text-lg","data-testid":"button-continue-login",children:"Continue to Login"})]})}):n.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center px-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-8xl mb-8",children:""}),n.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white",children:"Check your phone."})]})})}function JV(){const[,e]=at();return n.jsxs("div",{className:"legal-page",children:[n.jsx("nav",{className:"legal-nav",children:n.jsxs("div",{className:"legal-nav-content",children:[n.jsx("div",{className:"legal-nav-left",children:n.jsx("a",{href:"/",className:"legal-logo-link","data-testid":"link-home",children:n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"legal-logo-img"})})}),n.jsx("div",{className:"legal-nav-right",children:n.jsx("button",{className:"legal-nav-button",onClick:()=>e("/pricing"),"data-testid":"button-signup",children:"Sign Up"})})]})}),n.jsxs("main",{className:"legal-content",children:[n.jsx("h1",{className:"legal-title",children:"Terms of Service"}),n.jsx("p",{className:"legal-updated",children:"Last Updated: December 9, 2025"}),n.jsx("p",{className:"legal-intro",children:"Welcome to BJJ OS. By using our platform, you agree to these Terms."}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"1. Acceptance of Terms"}),n.jsx("p",{className:"legal-text",children:"By creating an account or using BJJ OS (bjjos.app), you agree to these Terms and our Privacy Policy."})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"2. Description of Service"}),n.jsx("p",{className:"legal-text",children:"BJJ OS provides:"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"AI-powered BJJ coaching via Professor OS"}),n.jsx("li",{children:"Curated instructional video recommendations"}),n.jsx("li",{children:"Training session logging"}),n.jsx("li",{children:"Personalized technique suggestions"})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"3. Account Registration"}),n.jsx("p",{className:"legal-text",children:"You must:"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"Be at least 13 years old"}),n.jsx("li",{children:"Provide accurate information"}),n.jsx("li",{children:"Maintain account security"}),n.jsx("li",{children:"Notify us of unauthorized access"})]}),n.jsx("p",{className:"legal-text",children:"You are responsible for all activity under your account."})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"4. Subscription and Payment"}),n.jsxs("div",{className:"legal-subsection",children:[n.jsx("h3",{className:"legal-subsection-title",children:"Pricing"}),n.jsx("p",{className:"legal-text",children:"$14.99/month with 7-day free trial"})]}),n.jsxs("div",{className:"legal-subsection",children:[n.jsx("h3",{className:"legal-subsection-title",children:"Billing"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"Payments via Stripe"}),n.jsx("li",{children:"Subscriptions auto-renew"}),n.jsx("li",{children:"Cancel anytime in settings"})]})]}),n.jsxs("div",{className:"legal-subsection",children:[n.jsx("h3",{className:"legal-subsection-title",children:"Refunds"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"No charge if cancelled within trial"}),n.jsx("li",{children:"No refunds for partial months"}),n.jsx("li",{children:"Billing errors refunded upon verification"})]})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"5. Acceptable Use"}),n.jsx("p",{className:"legal-text",children:"You agree NOT to:"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"Share your account"}),n.jsx("li",{children:"Reverse engineer the platform"}),n.jsx("li",{children:"Scrape data"}),n.jsx("li",{children:"Use for illegal purposes"}),n.jsx("li",{children:"Harass others"}),n.jsx("li",{children:"Upload harmful content"}),n.jsx("li",{children:"Misrepresent identity"})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"6. Intellectual Property"}),n.jsxs("div",{className:"legal-subsection",children:[n.jsx("h3",{className:"legal-subsection-title",children:"Our Content"}),n.jsx("p",{className:"legal-text",children:"All BJJ OS content is owned by us and protected by intellectual property laws."})]}),n.jsxs("div",{className:"legal-subsection",children:[n.jsx("h3",{className:"legal-subsection-title",children:"Third-Party Content"}),n.jsx("p",{className:"legal-text",children:"Instructional videos curated from public sources. Instructors retain their rights."})]}),n.jsxs("div",{className:"legal-subsection",children:[n.jsx("h3",{className:"legal-subsection-title",children:"Your Content"}),n.jsx("p",{className:"legal-text",children:"You retain ownership of training logs and notes. You grant us license to use your data to improve services."})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"7. Disclaimer"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"BJJ OS is a training companion, not a substitute for in-person instruction"}),n.jsx("li",{children:"We are not responsible for training injuries"}),n.jsx("li",{children:"Professor OS may contain errors - verify with qualified instructors"}),n.jsx("li",{children:"We do not provide medical advice"})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"8. Limitation of Liability"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:'BJJ OS is provided "as is" without warranties'}),n.jsx("li",{children:"We are not liable for indirect or consequential damages"}),n.jsx("li",{children:"Total liability limited to amount paid in past 12 months"})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"9. Indemnification"}),n.jsx("p",{className:"legal-text",children:"You agree to indemnify BJJ OS from claims arising from your use, violation of Terms, or violation of third-party rights."})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"10. Termination"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"You may cancel and delete your account anytime"}),n.jsx("li",{children:"We may suspend accounts that violate Terms"})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"11. Changes to Terms"}),n.jsx("p",{className:"legal-text",children:"We may modify Terms anytime. Continued use constitutes acceptance."})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"12. Governing Law"}),n.jsx("p",{className:"legal-text",children:"Terms governed by Delaware law."})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"13. Dispute Resolution"}),n.jsx("p",{className:"legal-text",children:"Disputes resolved through binding arbitration per AAA rules."})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"14. Contact"}),n.jsx("p",{className:"legal-text",children:n.jsx("a",{href:"mailto:support@bjjos.app",className:"legal-link","data-testid":"link-support-contact",children:"support@bjjos.app"})})]}),n.jsx("p",{className:"legal-agreement",children:"By using BJJ OS, you agree to these Terms of Service."})]}),n.jsx("footer",{className:"legal-footer",children:n.jsxs("div",{className:"legal-footer-content",children:[n.jsxs("div",{className:"legal-footer-links",children:[n.jsx("a",{href:"mailto:support@bjjos.app",className:"legal-footer-link","data-testid":"link-footer-support",children:"support@bjjos.app"}),n.jsx("a",{href:"/privacy",className:"legal-footer-link","data-testid":"link-footer-privacy",children:"Privacy Policy"}),n.jsx("a",{href:"/terms",className:"legal-footer-link legal-footer-link-active","data-testid":"link-footer-terms",children:"Terms of Service"})]}),n.jsx("p",{className:"legal-footer-copyright",children:" 2025 BJJ OS"})]})}),n.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap');
        
        :root {
          --black: #000000;
          --white: #FFFFFF;
          --gray-light: #A0A0A0;
          --gray-medium: #71717A;
          --gray-dark: #1A1A1A;
          --blue: #2563EB;
          --purple: #7C3AED;
          --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;
        }

        .legal-page {
          font-family: var(--font-mono);
          background: var(--black);
          color: var(--white);
          min-height: 100vh;
          width: 100%;
          overflow-y: auto;
          overflow-x: hidden;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }

        .legal-nav {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          background: var(--black);
          height: 72px;
          z-index: 1000;
          border-bottom: 1px solid var(--gray-dark);
        }

        .legal-nav-content {
          max-width: 800px;
          margin: 0 auto;
          padding: 0 24px;
          height: 100%;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .legal-nav-left {
          display: flex;
          align-items: center;
        }

        .legal-logo-link {
          display: flex;
          align-items: center;
        }

        .legal-logo-img {
          height: 36px;
          width: auto;
        }

        .legal-nav-right {
          display: flex;
          align-items: center;
        }

        .legal-nav-button {
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          border: none;
          border-radius: 4px;
          font-family: var(--font-mono);
          font-weight: 600;
          font-size: 14px;
          color: var(--white);
          padding: 10px 20px;
          cursor: pointer;
          transition: opacity 150ms ease;
        }

        .legal-nav-button:hover {
          opacity: 0.9;
        }

        .legal-content {
          max-width: 800px;
          width: 100%;
          margin: 0 auto;
          padding: calc(72px + 60px) 24px 80px;
        }

        .legal-title {
          font-family: var(--font-mono);
          font-size: 32px;
          font-weight: 700;
          color: var(--white);
          margin: 0 0 8px;
          letter-spacing: -0.02em;
        }

        .legal-updated {
          font-family: var(--font-mono);
          font-size: 14px;
          color: var(--gray-medium);
          margin: 0 0 32px;
        }

        .legal-intro {
          font-family: var(--font-mono);
          font-size: 16px;
          color: var(--gray-light);
          line-height: 1.7;
          margin: 0 0 40px;
        }

        .legal-section {
          margin-bottom: 40px;
          opacity: 1 !important;
          transform: none !important;
          transition: none !important;
        }

        .legal-page section {
          opacity: 1 !important;
          transform: none !important;
          transition: none !important;
        }

        .legal-section-title {
          font-family: var(--font-mono);
          font-size: 18px;
          font-weight: 700;
          color: var(--white);
          margin: 0 0 16px;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .legal-subsection {
          margin-bottom: 16px;
        }

        .legal-subsection-title {
          font-family: var(--font-mono);
          font-size: 14px;
          font-weight: 600;
          color: var(--white);
          margin: 0 0 4px;
        }

        .legal-text {
          font-family: var(--font-mono);
          font-size: 14px;
          color: var(--gray-light);
          line-height: 1.7;
          margin: 0 0 12px;
        }

        .legal-text strong {
          color: var(--white);
          font-weight: 600;
        }

        .legal-list {
          list-style: none;
          padding: 0;
          margin: 0 0 12px;
        }

        .legal-list li {
          font-family: var(--font-mono);
          font-size: 14px;
          color: var(--gray-light);
          line-height: 1.7;
          padding-left: 20px;
          position: relative;
          margin-bottom: 8px;
        }

        .legal-list li::before {
          content: '';
          position: absolute;
          left: 0;
          color: var(--gray-medium);
        }

        .legal-list li strong {
          color: var(--white);
          font-weight: 600;
        }

        .legal-link {
          color: var(--white);
          text-decoration: none;
          border-bottom: 1px solid var(--gray-medium);
          transition: border-color 150ms ease;
        }

        .legal-link:hover {
          border-color: var(--white);
        }

        .legal-agreement {
          font-family: var(--font-mono);
          font-size: 14px;
          color: var(--gray-medium);
          font-style: italic;
          margin-top: 48px;
          padding-top: 24px;
          border-top: 1px solid var(--gray-dark);
        }

        .legal-footer {
          background: var(--black);
          padding: 40px 24px;
          border-top: 1px solid var(--gray-dark);
        }

        .legal-footer-content {
          max-width: 800px;
          margin: 0 auto;
          text-align: center;
        }

        .legal-footer-links {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 24px;
          margin-bottom: 16px;
        }

        .legal-footer-link {
          font-family: var(--font-mono);
          font-size: 14px;
          color: var(--gray-light);
          text-decoration: none;
          transition: color 150ms ease;
        }

        .legal-footer-link:hover {
          color: var(--white);
        }

        .legal-footer-link-active {
          color: var(--white);
        }

        .legal-footer-copyright {
          font-family: var(--font-mono);
          font-size: 12px;
          color: var(--gray-medium);
          margin: 0;
        }

        @media (max-width: 768px) {
          .legal-nav {
            height: 64px;
          }

          .legal-content {
            padding: calc(64px + 40px) 20px 40px;
          }

          .legal-title {
            font-size: 28px;
          }

          .legal-section-title {
            font-size: 16px;
          }
        }
      `})]})}function ZV(){const[,e]=at();return n.jsxs("div",{className:"legal-page",children:[n.jsx("nav",{className:"legal-nav",children:n.jsxs("div",{className:"legal-nav-content",children:[n.jsx("div",{className:"legal-nav-left",children:n.jsx("a",{href:"/",className:"legal-logo-link","data-testid":"link-home",children:n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"legal-logo-img"})})}),n.jsx("div",{className:"legal-nav-right",children:n.jsx("button",{className:"legal-nav-button",onClick:()=>e("/pricing"),"data-testid":"button-signup",children:"Sign Up"})})]})}),n.jsxs("main",{className:"legal-content",children:[n.jsx("h1",{className:"legal-title",children:"Privacy Policy"}),n.jsx("p",{className:"legal-updated",children:"Last Updated: December 9, 2025"}),n.jsx("p",{className:"legal-intro",children:'BJJ OS ("we," "our," or "us") operates bjjos.app. This Privacy Policy explains how we collect, use, and safeguard your information.'}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"Information We Collect"}),n.jsxs("div",{className:"legal-subsection",children:[n.jsx("h3",{className:"legal-subsection-title",children:"Account Information"}),n.jsx("p",{className:"legal-text",children:"Email address, name, belt rank, training preferences, password (encrypted)"})]}),n.jsxs("div",{className:"legal-subsection",children:[n.jsx("h3",{className:"legal-subsection-title",children:"Training Data"}),n.jsx("p",{className:"legal-text",children:"Session logs, technique preferences, training goals, conversations with Professor OS"})]}),n.jsxs("div",{className:"legal-subsection",children:[n.jsx("h3",{className:"legal-subsection-title",children:"Payment Information"}),n.jsx("p",{className:"legal-text",children:"Billing details processed securely by Stripe. We do not store full credit card numbers."})]}),n.jsxs("div",{className:"legal-subsection",children:[n.jsx("h3",{className:"legal-subsection-title",children:"Usage Data"}),n.jsx("p",{className:"legal-text",children:"Device type, browser, pages visited, time on platform, feature usage patterns"})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"How We Use Your Information"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"Provide and personalize Professor OS coaching"}),n.jsx("li",{children:"Process subscription payments"}),n.jsx("li",{children:"Improve platform and features"}),n.jsx("li",{children:"Send service-related communications"}),n.jsx("li",{children:"Respond to support requests"})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"Data Sharing"}),n.jsx("p",{className:"legal-text",children:"We do not sell your personal information. We share data only with:"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"Stripe (payment processing)"}),n.jsx("li",{children:"Anthropic (AI coaching services - anonymized)"}),n.jsx("li",{children:"Service providers (hosting and infrastructure)"})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"Data Security"}),n.jsx("p",{className:"legal-text",children:"We implement industry-standard security:"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"Encrypted transmission (HTTPS)"}),n.jsx("li",{children:"Secure password hashing"}),n.jsx("li",{children:"Regular security audits"}),n.jsx("li",{children:"Access controls and monitoring"})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"Your Rights"}),n.jsx("p",{className:"legal-text",children:"You may:"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"Access your personal data"}),n.jsx("li",{children:"Request data correction"}),n.jsx("li",{children:"Request data deletion"}),n.jsx("li",{children:"Export your training data"}),n.jsx("li",{children:"Opt out of marketing emails"})]}),n.jsxs("p",{className:"legal-text",children:["To exercise these rights: ",n.jsx("a",{href:"mailto:support@bjjos.app",className:"legal-link","data-testid":"link-support-rights",children:"support@bjjos.app"})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"Data Retention"}),n.jsxs("ul",{className:"legal-list",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Active accounts:"})," Data retained while subscription active"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Cancelled accounts:"})," Data deleted within 90 days upon request"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Training logs:"})," Retained to improve coaching until deletion requested"]})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"Children's Privacy"}),n.jsx("p",{className:"legal-text",children:"BJJ OS is not intended for users under 13. We do not knowingly collect information from children."})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"California Privacy Rights (CCPA)"}),n.jsx("p",{className:"legal-text",children:"California residents may:"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"Know what personal information is collected"}),n.jsx("li",{children:"Request deletion"}),n.jsx("li",{children:"Opt-out of sale (we do not sell data)"})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"International Users (GDPR)"}),n.jsx("p",{className:"legal-text",children:"For EU/UK users:"}),n.jsxs("ul",{className:"legal-list",children:[n.jsx("li",{children:"Legal basis is contract performance and legitimate interests"}),n.jsx("li",{children:"Data transfers secured through standard contractual clauses"}),n.jsx("li",{children:"Right to lodge complaints with supervisory authorities"})]})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"Changes to This Policy"}),n.jsx("p",{className:"legal-text",children:"We may update this policy periodically. Material changes communicated via email or in-app notification."})]}),n.jsxs("section",{className:"legal-section",children:[n.jsx("h2",{className:"legal-section-title",children:"Contact"}),n.jsx("p",{className:"legal-text",children:n.jsx("a",{href:"mailto:support@bjjos.app",className:"legal-link","data-testid":"link-support-contact",children:"support@bjjos.app"})})]}),n.jsx("p",{className:"legal-agreement",children:"By using BJJ OS, you agree to this Privacy Policy."})]}),n.jsx("footer",{className:"legal-footer",children:n.jsxs("div",{className:"legal-footer-content",children:[n.jsxs("div",{className:"legal-footer-links",children:[n.jsx("a",{href:"mailto:support@bjjos.app",className:"legal-footer-link","data-testid":"link-footer-support",children:"support@bjjos.app"}),n.jsx("a",{href:"/privacy",className:"legal-footer-link legal-footer-link-active","data-testid":"link-footer-privacy",children:"Privacy Policy"}),n.jsx("a",{href:"/terms",className:"legal-footer-link","data-testid":"link-footer-terms",children:"Terms of Service"})]}),n.jsx("p",{className:"legal-footer-copyright",children:" 2025 BJJ OS"})]})}),n.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap');
        
        :root {
          --black: #000000;
          --white: #FFFFFF;
          --gray-light: #A0A0A0;
          --gray-medium: #71717A;
          --gray-dark: #1A1A1A;
          --blue: #2563EB;
          --purple: #7C3AED;
          --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;
        }

        .legal-page {
          font-family: var(--font-mono);
          background: var(--black);
          color: var(--white);
          min-height: 100vh;
          width: 100%;
          overflow-y: auto;
          overflow-x: hidden;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
        }

        .legal-nav {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          background: var(--black);
          height: 72px;
          z-index: 1000;
          border-bottom: 1px solid var(--gray-dark);
        }

        .legal-nav-content {
          max-width: 800px;
          margin: 0 auto;
          padding: 0 24px;
          height: 100%;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .legal-nav-left {
          display: flex;
          align-items: center;
        }

        .legal-logo-link {
          display: flex;
          align-items: center;
        }

        .legal-logo-img {
          height: 36px;
          width: auto;
        }

        .legal-nav-right {
          display: flex;
          align-items: center;
        }

        .legal-nav-button {
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          border: none;
          border-radius: 4px;
          font-family: var(--font-mono);
          font-weight: 600;
          font-size: 14px;
          color: var(--white);
          padding: 10px 20px;
          cursor: pointer;
          transition: opacity 150ms ease;
        }

        .legal-nav-button:hover {
          opacity: 0.9;
        }

        .legal-content {
          max-width: 800px;
          width: 100%;
          margin: 0 auto;
          padding: calc(72px + 60px) 24px 80px;
        }

        .legal-title {
          font-family: var(--font-mono);
          font-size: 32px;
          font-weight: 700;
          color: var(--white);
          margin: 0 0 8px;
          letter-spacing: -0.02em;
        }

        .legal-updated {
          font-family: var(--font-mono);
          font-size: 14px;
          color: var(--gray-medium);
          margin: 0 0 32px;
        }

        .legal-intro {
          font-family: var(--font-mono);
          font-size: 16px;
          color: var(--gray-light);
          line-height: 1.7;
          margin: 0 0 40px;
        }

        .legal-section {
          margin-bottom: 40px;
          opacity: 1 !important;
          transform: none !important;
          transition: none !important;
        }

        .legal-page section {
          opacity: 1 !important;
          transform: none !important;
          transition: none !important;
        }

        .legal-section-title {
          font-family: var(--font-mono);
          font-size: 18px;
          font-weight: 700;
          color: var(--white);
          margin: 0 0 16px;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .legal-subsection {
          margin-bottom: 16px;
        }

        .legal-subsection-title {
          font-family: var(--font-mono);
          font-size: 14px;
          font-weight: 600;
          color: var(--white);
          margin: 0 0 4px;
        }

        .legal-text {
          font-family: var(--font-mono);
          font-size: 14px;
          color: var(--gray-light);
          line-height: 1.7;
          margin: 0 0 12px;
        }

        .legal-text strong {
          color: var(--white);
          font-weight: 600;
        }

        .legal-list {
          list-style: none;
          padding: 0;
          margin: 0 0 12px;
        }

        .legal-list li {
          font-family: var(--font-mono);
          font-size: 14px;
          color: var(--gray-light);
          line-height: 1.7;
          padding-left: 20px;
          position: relative;
          margin-bottom: 8px;
        }

        .legal-list li::before {
          content: '';
          position: absolute;
          left: 0;
          color: var(--gray-medium);
        }

        .legal-list li strong {
          color: var(--white);
          font-weight: 600;
        }

        .legal-link {
          color: var(--white);
          text-decoration: none;
          border-bottom: 1px solid var(--gray-medium);
          transition: border-color 150ms ease;
        }

        .legal-link:hover {
          border-color: var(--white);
        }

        .legal-agreement {
          font-family: var(--font-mono);
          font-size: 14px;
          color: var(--gray-medium);
          font-style: italic;
          margin-top: 48px;
          padding-top: 24px;
          border-top: 1px solid var(--gray-dark);
        }

        .legal-footer {
          background: var(--black);
          padding: 40px 24px;
          border-top: 1px solid var(--gray-dark);
        }

        .legal-footer-content {
          max-width: 800px;
          margin: 0 auto;
          text-align: center;
        }

        .legal-footer-links {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 24px;
          margin-bottom: 16px;
        }

        .legal-footer-link {
          font-family: var(--font-mono);
          font-size: 14px;
          color: var(--gray-light);
          text-decoration: none;
          transition: color 150ms ease;
        }

        .legal-footer-link:hover {
          color: var(--white);
        }

        .legal-footer-link-active {
          color: var(--white);
        }

        .legal-footer-copyright {
          font-family: var(--font-mono);
          font-size: 12px;
          color: var(--gray-medium);
          margin: 0;
        }

        @media (max-width: 768px) {
          .legal-nav {
            height: 64px;
          }

          .legal-content {
            padding: calc(64px + 40px) 20px 40px;
          }

          .legal-title {
            font-size: 28px;
          }

          .legal-section-title {
            font-size: 16px;
          }
        }
      `})]})}function eq(){const e=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return x.useEffect(()=>{const t=document.body.style.fontFamily;return document.body.style.fontFamily="'JetBrains Mono', monospace",()=>{document.body.style.fontFamily=t}},[]),n.jsx("div",{className:"min-h-screen bg-black text-white font-['JetBrains_Mono']",children:n.jsxs("div",{className:"max-w-[800px] mx-auto py-[60px] px-6",children:[n.jsx(dr,{href:"/",className:"text-blue-500 hover:text-blue-400 mb-8 inline-block","data-testid":"link-back-home",children:" Back to BJJ OS"}),n.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Refund Policy"}),n.jsxs("p",{className:"text-gray-400 mb-12",children:["Last Updated: ",e]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Free Tier"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2 ml-4",children:[n.jsx("li",{children:"No payment required"}),n.jsx("li",{children:"No refunds needed (free forever)"}),n.jsx("li",{children:"Upgrade anytime to premium features"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Annual Subscription Refunds"}),n.jsx("h3",{className:"text-xl font-semibold mb-3 text-blue-400",children:"Within 7 Days of Purchase:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2 ml-4 mb-6",children:[n.jsx("li",{children:"Full refund available for annual subscription"}),n.jsx("li",{children:"Applies to both Founding Member ($89/year) and Pro ($179/year)"}),n.jsxs("li",{children:["Contact: ",n.jsx("a",{href:"mailto:support@bjjos.app",className:"text-blue-500 hover:text-blue-400",children:"support@bjjos.app"})]}),n.jsx("li",{children:"Refund processed within 5-7 business days"}),n.jsx("li",{children:"Access will be canceled upon refund"})]}),n.jsx("h3",{className:"text-xl font-semibold mb-3 text-blue-400",children:"After 7 Days:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2 ml-4 mb-6",children:[n.jsx("li",{children:"No refunds for partial years"}),n.jsx("li",{children:"You can cancel to stop future renewals"}),n.jsx("li",{children:"Access continues until end of current annual period"})]}),n.jsx("h3",{className:"text-xl font-semibold mb-3 text-blue-400",children:"Annual Renewal:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2 ml-4",children:[n.jsx("li",{children:"Subscription renews automatically each year"}),n.jsx("li",{children:"7-day refund window applies to renewal charges"}),n.jsx("li",{children:"Cancel before renewal to avoid being charged"})]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"How to Cancel"}),n.jsxs("ol",{className:"list-decimal list-inside text-gray-300 space-y-2 ml-4",children:[n.jsx("li",{children:"Open BJJ OS app"}),n.jsx("li",{children:"Go to Settings"}),n.jsx("li",{children:'Tap "Manage Subscription"'}),n.jsx("li",{children:'Tap "Cancel Subscription"'}),n.jsx("li",{children:"Confirm cancellation"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed mt-4",children:"Cancellation stops future charges immediately. Your access continues until the end of your current billing period."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Refund Process"}),n.jsx("p",{className:"text-gray-300 leading-relaxed mb-3",children:"To request a refund (within 7 days of charge):"}),n.jsxs("ol",{className:"list-decimal list-inside text-gray-300 space-y-2 ml-4 mb-4",children:[n.jsxs("li",{children:["Email: ",n.jsx("a",{href:"mailto:support@bjjos.app",className:"text-blue-500 hover:text-blue-400",children:"support@bjjos.app"})]}),n.jsx("li",{children:'Subject: "Refund Request"'}),n.jsx("li",{children:"Include: Phone number and reason (optional)"}),n.jsx("li",{children:"We'll process within 2 business days"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Refunds are issued to your original payment method."})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Special Circumstances"}),n.jsx("p",{className:"text-gray-300 leading-relaxed mb-3",children:"Refunds outside the 7-day window may be considered for:"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2 ml-4 mb-4",children:[n.jsx("li",{children:"Technical issues preventing use"}),n.jsx("li",{children:"Unauthorized charges"}),n.jsx("li",{children:"Duplicate charges"})]}),n.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["Contact ",n.jsx("a",{href:"mailto:support@bjjos.app",className:"text-blue-500 hover:text-blue-400",children:"support@bjjos.app"})," to discuss."]})]}),n.jsxs("section",{className:"mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Non-Refundable"}),n.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2 ml-4",children:[n.jsx("li",{children:"Partial month subscriptions (after 7 days)"}),n.jsx("li",{children:"Free months earned via referrals"}),n.jsx("li",{children:"Account deletions (data recovery not possible)"})]})]}),n.jsxs("section",{className:"mb-12",children:[n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Contact"}),n.jsxs("p",{className:"text-gray-300 leading-relaxed mb-2",children:["Refund questions? Email: ",n.jsx("a",{href:"mailto:support@bjjos.app",className:"text-blue-500 hover:text-blue-400",children:"support@bjjos.app"})]}),n.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Response time: Within 24 hours"})]}),n.jsxs("footer",{className:"border-t border-gray-800 pt-8 text-center",children:[n.jsxs("div",{className:"flex justify-center gap-4 mb-4 text-sm",children:[n.jsx(dr,{href:"/terms",className:"text-blue-500 hover:text-blue-400","data-testid":"link-terms",children:"Terms"}),n.jsx("span",{className:"text-gray-600",children:""}),n.jsx(dr,{href:"/privacy",className:"text-blue-500 hover:text-blue-400","data-testid":"link-privacy",children:"Privacy"}),n.jsx("span",{className:"text-gray-600",children:""}),n.jsx(dr,{href:"/refund",className:"text-blue-500 hover:text-blue-400","data-testid":"link-refund",children:"Refund"})]}),n.jsx("p",{className:"text-gray-600 text-sm",children:" 2025 BJJ OS"})]})]})})}var tq=Object.defineProperty,rq=Object.defineProperties,nq=Object.getOwnPropertyDescriptors,Lp=Object.getOwnPropertySymbols,iR=Object.prototype.hasOwnProperty,sR=Object.prototype.propertyIsEnumerable,Ik=(e,t,r)=>t in e?tq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,aq=(e,t)=>{for(var r in t||(t={}))iR.call(t,r)&&Ik(e,r,t[r]);if(Lp)for(var r of Lp(t))sR.call(t,r)&&Ik(e,r,t[r]);return e},iq=(e,t)=>rq(e,nq(t)),sq=(e,t)=>{var r={};for(var a in e)iR.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Lp)for(var a of Lp(e))t.indexOf(a)<0&&sR.call(e,a)&&(r[a]=e[a]);return r};function oq(e){let t=setTimeout(e,0),r=setTimeout(e,10),a=setTimeout(e,50);return[t,r,a]}function lq(e){let t=x.useRef();return x.useEffect(()=>{t.current=e}),t.current}var cq=18,oR=40,dq=`${oR}px`,uq=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function fq({containerRef:e,inputRef:t,pushPasswordManagerStrategy:r,isFocused:a}){let[i,s]=x.useState(!1),[o,l]=x.useState(!1),[c,d]=x.useState(!1),u=x.useMemo(()=>r==="none"?!1:(r==="increase-width"||r==="experimental-no-flickering")&&i&&o,[i,o,r]),f=x.useCallback(()=>{let h=e.current,p=t.current;if(!h||!p||c||r==="none")return;let b=h,g=b.getBoundingClientRect().left+b.offsetWidth,y=b.getBoundingClientRect().top+b.offsetHeight/2,v=g-cq,m=y;document.querySelectorAll(uq).length===0&&document.elementFromPoint(v,m)===h||(s(!0),d(!0))},[e,t,c,r]);return x.useEffect(()=>{let h=e.current;if(!h||r==="none")return;function p(){let g=window.innerWidth-h.getBoundingClientRect().right;l(g>=oR)}p();let b=setInterval(p,1e3);return()=>{clearInterval(b)}},[e,r]),x.useEffect(()=>{let h=a||document.activeElement===t.current;if(r==="none"||!h)return;let p=setTimeout(f,0),b=setTimeout(f,2e3),g=setTimeout(f,5e3),y=setTimeout(()=>{d(!0)},6e3);return()=>{clearTimeout(p),clearTimeout(b),clearTimeout(g),clearTimeout(y)}},[t,a,r,f]),{hasPWMBadge:i,willPushPWMBadge:u,PWM_BADGE_SPACE_WIDTH:dq}}var lR=x.createContext({}),cR=x.forwardRef((e,t)=>{var r=e,{value:a,onChange:i,maxLength:s,textAlign:o="left",pattern:l,placeholder:c,inputMode:d="numeric",onComplete:u,pushPasswordManagerStrategy:f="increase-width",pasteTransformer:h,containerClassName:p,noScriptCSSFallback:b=hq,render:g,children:y}=r,v=sq(r,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),m,j,N,w,S;let[k,C]=x.useState(typeof v.defaultValue=="string"?v.defaultValue:""),A=a??k,O=lq(A),I=x.useCallback(de=>{i==null||i(de),C(de)},[i]),P=x.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),R=x.useRef(null),$=x.useRef(null),E=x.useRef({value:A,onChange:I,isIOS:typeof window<"u"&&((j=(m=window==null?void 0:window.CSS)==null?void 0:m.supports)==null?void 0:j.call(m,"-webkit-touch-callout","none"))}),_=x.useRef({prev:[(N=R.current)==null?void 0:N.selectionStart,(w=R.current)==null?void 0:w.selectionEnd,(S=R.current)==null?void 0:S.selectionDirection]});x.useImperativeHandle(t,()=>R.current,[]),x.useEffect(()=>{let de=R.current,Ae=$.current;if(!de||!Ae)return;E.current.value!==de.value&&E.current.onChange(de.value),_.current.prev=[de.selectionStart,de.selectionEnd,de.selectionDirection];function Ge(){if(document.activeElement!==de){re(null),ve(null);return}let ne=de.selectionStart,We=de.selectionEnd,dt=de.selectionDirection,L=de.maxLength,Z=de.value,ie=_.current.prev,xe=-1,pe=-1,he;if(Z.length!==0&&ne!==null&&We!==null){let Nr=ne===We,Lv=ne===Z.length&&Z.length<L;if(Nr&&!Lv){let oa=ne;if(oa===0)xe=0,pe=1,he="forward";else if(oa===L)xe=oa-1,pe=oa,he="backward";else if(L>1&&Z.length>1){let io=0;if(ie[0]!==null&&ie[1]!==null){he=oa<ie[1]?"backward":"forward";let Fv=ie[0]===ie[1]&&ie[0]<L;he==="backward"&&!Fv&&(io=-1)}xe=io+oa,pe=io+oa+1}}xe!==-1&&pe!==-1&&xe!==pe&&R.current.setSelectionRange(xe,pe,he)}let $e=xe!==-1?xe:ne,ht=pe!==-1?pe:We,Gt=he??dt;re($e),ve(ht),_.current.prev=[$e,ht,Gt]}if(document.addEventListener("selectionchange",Ge,{capture:!0}),Ge(),document.activeElement===de&&B(!0),!document.getElementById("input-otp-style")){let ne=document.createElement("style");if(ne.id="input-otp-style",document.head.appendChild(ne),ne.sheet){let We="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Gd(ne.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Gd(ne.sheet,`[data-input-otp]:autofill { ${We} }`),Gd(ne.sheet,`[data-input-otp]:-webkit-autofill { ${We} }`),Gd(ne.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Gd(ne.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let st=()=>{Ae&&Ae.style.setProperty("--root-height",`${de.clientHeight}px`)};st();let Tt=new ResizeObserver(st);return Tt.observe(de),()=>{document.removeEventListener("selectionchange",Ge,{capture:!0}),Tt.disconnect()}},[]);let[M,T]=x.useState(!1),[D,B]=x.useState(!1),[ee,re]=x.useState(null),[oe,ve]=x.useState(null);x.useEffect(()=>{oq(()=>{var de,Ae,Ge,st;(de=R.current)==null||de.dispatchEvent(new Event("input"));let Tt=(Ae=R.current)==null?void 0:Ae.selectionStart,ne=(Ge=R.current)==null?void 0:Ge.selectionEnd,We=(st=R.current)==null?void 0:st.selectionDirection;Tt!==null&&ne!==null&&(re(Tt),ve(ne),_.current.prev=[Tt,ne,We])})},[A,D]),x.useEffect(()=>{O!==void 0&&A!==O&&O.length<s&&A.length===s&&(u==null||u(A))},[s,u,O,A]);let ce=fq({containerRef:$,inputRef:R,pushPasswordManagerStrategy:f,isFocused:D}),Oe=x.useCallback(de=>{let Ae=de.currentTarget.value.slice(0,s);if(Ae.length>0&&P&&!P.test(Ae)){de.preventDefault();return}typeof O=="string"&&Ae.length<O.length&&document.dispatchEvent(new Event("selectionchange")),I(Ae)},[s,I,O,P]),me=x.useCallback(()=>{var de;if(R.current){let Ae=Math.min(R.current.value.length,s-1),Ge=R.current.value.length;(de=R.current)==null||de.setSelectionRange(Ae,Ge),re(Ae),ve(Ge)}B(!0)},[s]),Ce=x.useCallback(de=>{var Ae,Ge;let st=R.current;if(!h&&(!E.current.isIOS||!de.clipboardData||!st))return;let Tt=de.clipboardData.getData("text/plain"),ne=h?h(Tt):Tt;de.preventDefault();let We=(Ae=R.current)==null?void 0:Ae.selectionStart,dt=(Ge=R.current)==null?void 0:Ge.selectionEnd,L=(We!==dt?A.slice(0,We)+ne+A.slice(dt):A.slice(0,We)+ne+A.slice(We)).slice(0,s);if(L.length>0&&P&&!P.test(L))return;st.value=L,I(L);let Z=Math.min(L.length,s-1),ie=L.length;st.setSelectionRange(Z,ie),re(Z),ve(ie)},[s,I,P,A]),te=x.useMemo(()=>({position:"relative",cursor:v.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[v.disabled]),W=x.useMemo(()=>({position:"absolute",inset:0,width:ce.willPushPWMBadge?`calc(100% + ${ce.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ce.willPushPWMBadge?`inset(0 ${ce.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ce.PWM_BADGE_SPACE_WIDTH,ce.willPushPWMBadge,o]),z=x.useMemo(()=>x.createElement("input",iq(aq({autoComplete:v.autoComplete||"one-time-code"},v),{"data-input-otp":!0,"data-input-otp-placeholder-shown":A.length===0||void 0,"data-input-otp-mss":ee,"data-input-otp-mse":oe,inputMode:d,pattern:P==null?void 0:P.source,"aria-placeholder":c,style:W,maxLength:s,value:A,ref:R,onPaste:de=>{var Ae;Ce(de),(Ae=v.onPaste)==null||Ae.call(v,de)},onChange:Oe,onMouseOver:de=>{var Ae;T(!0),(Ae=v.onMouseOver)==null||Ae.call(v,de)},onMouseLeave:de=>{var Ae;T(!1),(Ae=v.onMouseLeave)==null||Ae.call(v,de)},onFocus:de=>{var Ae;me(),(Ae=v.onFocus)==null||Ae.call(v,de)},onBlur:de=>{var Ae;B(!1),(Ae=v.onBlur)==null||Ae.call(v,de)}})),[Oe,me,Ce,d,W,s,oe,ee,v,P==null?void 0:P.source,A]),Q=x.useMemo(()=>({slots:Array.from({length:s}).map((de,Ae)=>{var Ge;let st=D&&ee!==null&&oe!==null&&(ee===oe&&Ae===ee||Ae>=ee&&Ae<oe),Tt=A[Ae]!==void 0?A[Ae]:null,ne=A[0]!==void 0?null:(Ge=c==null?void 0:c[Ae])!=null?Ge:null;return{char:Tt,placeholderChar:ne,isActive:st,hasFakeCaret:st&&Tt===null}}),isFocused:D,isHovering:!v.disabled&&M}),[D,M,s,oe,ee,v.disabled,A]),Ve=x.useMemo(()=>g?g(Q):x.createElement(lR.Provider,{value:Q},y),[y,Q,g]);return x.createElement(x.Fragment,null,b!==null&&x.createElement("noscript",null,x.createElement("style",null,b)),x.createElement("div",{ref:$,"data-input-otp-container":!0,style:te,className:p},Ve,x.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},z)))});cR.displayName="Input";function Gd(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var hq=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const dR=x.forwardRef(({className:e,containerClassName:t,...r},a)=>n.jsx(cR,{ref:a,containerClassName:je("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:je("disabled:cursor-not-allowed",e),...r}));dR.displayName="InputOTP";const uR=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:je("flex items-center",e),...t}));uR.displayName="InputOTPGroup";const uo=x.forwardRef(({index:e,className:t,...r},a)=>{const i=x.useContext(lR),{char:s,hasFakeCaret:o,isActive:l}=i.slots[e];return n.jsxs("div",{ref:a,className:je("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...r,children:[s,o&&n.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});uo.displayName="InputOTPSlot";const mq=x.forwardRef(({...e},t)=>n.jsx("div",{ref:t,role:"separator",...e,children:n.jsx(Qz,{})}));mq.displayName="InputOTPSeparator";function pq(){const[,e]=at(),{toast:t}=tt(),[r,a]=x.useState("password"),[i,s]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(!1),[u,f]=x.useState(""),[h,p]=x.useState(!1),[b,g]=x.useState(""),[y,v]=x.useState(!1),[m,j]=x.useState(!0),[N,w]=x.useState(!1);x.useEffect(()=>{window.scrollTo(0,0)},[]);const S=async A=>{var I;if(A.preventDefault(),g(""),!i){g("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)){g("Please enter a valid email address");return}if(!o){g("Password is required");return}p(!0);try{const P=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i.toLowerCase().trim(),password:o,rememberMe:m})}),R=await P.json();if(!P.ok){if(R.error==="NO_PASSWORD_SET"){w(!0);return}throw new Error(R.error||"Invalid email or password")}R.sessionToken&&await Zl(R.sessionToken),R.user&&await ec(R.user),t({title:"Welcome Back!",description:"Successfully logged in"}),R.redirect?e(R.redirect):(I=R.user)!=null&&I.onboardingCompleted?e("/chat"):e("/onboarding")}catch(P){g(P.message||"Invalid email or password. Please try again."),t({title:"Login Failed",description:P.message||"Invalid email or password",variant:"destructive"})}finally{p(!1)}},k=async()=>{g(""),p(!0);try{const A=await fetch("/api/auth/email/request-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i.toLowerCase().trim()})}),O=await A.json();if(!A.ok)throw new Error(O.error||"Failed to send verification code");O.isAdmin&&v(!0),t({title:"Code Sent!",description:"Check your email for the 6-digit verification code"}),a("code")}catch(A){g(A.message||"Failed to send code. Please try again."),t({title:"Error",description:A.message||"Failed to send verification code",variant:"destructive"})}finally{p(!1)}},C=async A=>{if(A.preventDefault(),g(""),!u||u.length!==6){g("Please enter the 6-digit code");return}p(!0);try{const O=await fetch("/api/auth/email/verify-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i.toLowerCase().trim(),code:u,rememberMe:m})}),I=await O.json();if(!O.ok){if(I.subscriptionExpired){t({title:"Subscription Expired",description:"Your subscription has expired. Please resubscribe to continue.",variant:"destructive"}),e("/pricing");return}throw new Error(I.error||"Invalid verification code")}if(I.requiresPayment){t({title:"Email Verified!",description:"Redirecting to checkout..."});try{const P=await fetch("/api/signup/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i.toLowerCase().trim(),priceId:"monthly"})}),R=await P.json();if(!P.ok)throw new Error(R.error||"Failed to create checkout session");if(R.devBypass&&R.token&&R.user){await Zl(R.token),await ec(R.user),e("/onboarding");return}if(R.url)window.location.href=R.url;else throw new Error("No checkout URL received")}catch(P){g(P.message||"Failed to start checkout")}return}if(!I.token||!I.user)throw new Error("Login failed - no session token received");await Zl(I.token),await ec(I.user),t({title:"Welcome Back!",description:"Successfully logged in"}),I.redirect?e(I.redirect):I.user.onboardingCompleted?e("/chat"):e("/onboarding")}catch(O){g(O.message||"Invalid code. Please try again."),t({title:"Verification Failed",description:O.message||"Invalid code",variant:"destructive"})}finally{p(!1)}};return N?n.jsxs("div",{className:"login-page page-container",children:[n.jsx("nav",{className:"login-nav",children:n.jsx("div",{className:"login-nav-content",children:n.jsx("div",{className:"login-nav-left",children:n.jsx("a",{href:"/",className:"login-logo-link","data-testid":"link-home",children:n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"login-logo-img"})})})})}),n.jsxs("div",{className:"login-container",style:{textAlign:"center"},children:[n.jsx("div",{style:{width:"64px",height:"64px",margin:"0 auto 24px",background:"rgba(234, 179, 8, 0.2)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Wo,{className:"w-8 h-8",style:{color:"#EAB308"}})}),n.jsx("h2",{style:{fontSize:"24px",fontWeight:700,color:"white",marginBottom:"16px"},children:"Password Not Set Up"}),n.jsx("p",{style:{color:"#A0A0A0",marginBottom:"24px",lineHeight:1.6},children:"Your account uses email verification codes. You can either use a verification code to log in, or visit Settings to set up a password."}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[n.jsx("button",{onClick:()=>{w(!1),k()},className:"login-button",disabled:h,"data-testid":"button-use-code",children:h?n.jsx(ze,{className:"w-4 h-4 animate-spin"}):"Sign in with verification code"}),n.jsx("button",{onClick:()=>w(!1),style:{background:"transparent",border:"1px solid rgba(255,255,255,0.1)",color:"white",padding:"14px 24px",cursor:"pointer",fontSize:"16px"},"data-testid":"button-cancel",children:"Cancel"})]})]}),n.jsx("style",{children:Rk})]}):n.jsxs("div",{className:"login-page page-container",children:[n.jsx("nav",{className:"login-nav",children:n.jsxs("div",{className:"login-nav-content",children:[n.jsx("div",{className:"login-nav-left",children:n.jsx("a",{href:"/",className:"login-logo-link","data-testid":"link-home",children:n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"login-logo-img"})})}),n.jsx("div",{className:"login-nav-right",children:n.jsx("button",{className:"login-nav-signup",onClick:()=>e("/pricing"),"data-testid":"button-signup",children:"Sign Up"})})]})}),n.jsxs("div",{className:"login-container",children:[r==="code"&&n.jsxs(Y,{variant:"ghost",onClick:()=>a("password"),className:"mb-8 text-white hover:text-white/80","data-testid":"button-back",children:[n.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"login-header",children:[n.jsx("h1",{className:"login-headline",children:r==="password"?"Welcome Back":"Enter Code"}),n.jsx("p",{className:"login-subheadline",children:r==="password"?"Sign in to continue training":y?"Use your admin bypass code":`We sent a 6-digit code to ${i}`})]}),r==="password"&&n.jsxs("form",{onSubmit:S,className:"login-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx($i,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx("input",{id:"email",type:"email",className:`form-input pl-11 ${b?"error":""}`,placeholder:"you@example.com",value:i,onChange:A=>s(A.target.value),disabled:h,"data-testid":"input-email"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Wo,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx("input",{id:"password",type:c?"text":"password",className:`form-input pl-11 pr-11 ${b?"error":""}`,placeholder:"Enter your password",value:o,onChange:A=>l(A.target.value),disabled:h,"data-testid":"input-password"}),n.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-3 text-gray-400 hover:text-white","data-testid":"button-toggle-password",children:c?n.jsx(Is,{className:"h-5 w-5"}):n.jsx(Rr,{className:"h-5 w-5"})})]})]}),b&&n.jsx("div",{className:"form-error","data-testid":"text-error",children:b}),n.jsx("div",{className:"remember-me-container",children:n.jsxs("label",{className:"remember-me-label",children:[n.jsx("input",{type:"checkbox",checked:m,onChange:A=>j(A.target.checked),className:"remember-me-checkbox","data-testid":"checkbox-remember-me"}),n.jsx("span",{className:"remember-me-text",children:"Keep me signed in"})]})}),n.jsx("button",{type:"submit",className:"login-button",disabled:h,"data-testid":"button-sign-in",children:h?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing In..."]}):"Sign In"}),n.jsx("div",{className:"signup-link",children:n.jsx("button",{type:"button",onClick:()=>e("/forgot-password"),className:"signup-link-button","data-testid":"link-forgot-password",children:"Forgot password?"})}),n.jsx("div",{className:"divider",children:n.jsx("span",{children:"OR"})}),n.jsx("button",{type:"button",onClick:()=>{if(!i||!i.includes("@")){g("Please enter your email first");return}k()},className:"secondary-button",disabled:h,"data-testid":"button-use-code",children:"Sign in with verification code"}),n.jsxs("div",{className:"signup-link",children:["Don't have an account?"," ",n.jsx("button",{type:"button",onClick:()=>e("/pricing"),className:"signup-link-button","data-testid":"link-signup",children:"Sign Up"})]})]}),r==="code"&&n.jsxs("form",{onSubmit:C,className:"login-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label text-center block mb-6",children:"Enter 6-Digit Code"}),n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx(dR,{value:u,onChange:f,maxLength:6,"data-testid":"input-code",children:n.jsxs(uR,{children:[n.jsx(uo,{index:0}),n.jsx(uo,{index:1}),n.jsx(uo,{index:2}),n.jsx(uo,{index:3}),n.jsx(uo,{index:4}),n.jsx(uo,{index:5})]})})}),b&&n.jsx("div",{className:"form-error text-center","data-testid":"text-code-error",children:b})]}),n.jsx("button",{type:"submit",className:"login-button",disabled:h||u.length!==6,"data-testid":"button-verify-code",children:h?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify Code"}),n.jsxs("div",{className:"signup-link",children:["Didn't receive the code?"," ",n.jsx("button",{type:"button",onClick:k,className:"signup-link-button",disabled:h,"data-testid":"button-resend",children:"Resend Code"})]})]})]}),n.jsx("style",{children:Rk})]})}const Rk=`
  :root {
    --black: #000000;
    --black-elevated: #0F0F0F;
    --white: #FFFFFF;
    --gray-light: #A0A0A0;
    --gray-medium: #71717A;
    --gray-dark: #1A1A1A;
    --blue: #2563EB;
    --purple: #7C3AED;
    --blue-hover-1: #1D4ED8;
    --purple-hover-1: #6D28D9;
    --red: #EF4444;
  }

  .login-page {
    background: radial-gradient(circle at 50% 0%, #0A0812 0%, #15111F 50%, #0A0812 100%);
    color: var(--white);
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
    position: relative;
  }

  .login-page::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
      url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 9999;
    mix-blend-mode: overlay;
  }

  .login-nav {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(10, 8, 18, 0.8);
    backdrop-filter: blur(12px);
    height: 72px;
    z-index: 1000;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
  }

  .login-nav-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 40px;
    height: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .login-nav-left {
    display: flex;
    align-items: center;
  }

  .login-logo-link {
    display: flex;
    align-items: center;
  }

  .login-logo-img {
    height: 36px;
    width: auto;
  }

  .login-nav-right {
    display: flex;
    align-items: center;
  }

  .login-nav-signup {
    background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
    border: none;
    font-weight: 700;
    font-size: 16px;
    color: var(--white);
    padding: 12px 24px;
    cursor: pointer;
    transition: background 150ms ease;
  }

  .login-nav-signup:hover {
    background: linear-gradient(135deg, var(--blue-hover-1) 0%, var(--purple-hover-1) 100%);
  }

  .login-container {
    padding: calc(80px + 72px) 40px 80px;
    max-width: 500px;
    margin: 0 auto;
  }

  .login-header {
    text-align: center;
    margin-bottom: 48px;
  }

  .login-headline {
    font-size: 48px;
    font-weight: 700;
    color: var(--white);
    line-height: 1.1;
    letter-spacing: -0.01em;
    margin-bottom: 16px;
  }

  .login-subheadline {
    font-size: 18px;
    color: var(--gray-light);
    line-height: 1.5;
  }

  .login-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .form-label {
    font-size: 14px;
    font-weight: 500;
    color: var(--gray-light);
  }

  .form-input {
    width: 100%;
    padding: 14px 16px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--white);
    font-size: 16px;
    transition: all 200ms ease;
  }

  .form-input:focus {
    outline: none;
    border-color: var(--purple);
    box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.15);
  }

  .form-input.error {
    border-color: var(--red);
  }

  .form-input::placeholder {
    color: var(--gray-medium);
  }

  .form-error {
    color: var(--red);
    font-size: 14px;
    margin-top: 4px;
  }

  .remember-me-container {
    display: flex;
    align-items: center;
  }

  .remember-me-label {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
  }

  .remember-me-checkbox {
    width: 18px;
    height: 18px;
    accent-color: var(--purple);
    cursor: pointer;
  }

  .remember-me-text {
    font-size: 14px;
    color: var(--gray-light);
  }

  .login-button {
    width: 100%;
    padding: 16px 24px;
    background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
    border: none;
    color: var(--white);
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 200ms ease;
  }

  .login-button:hover:not(:disabled) {
    background: linear-gradient(135deg, var(--blue-hover-1) 0%, var(--purple-hover-1) 100%);
  }

  .login-button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .secondary-button {
    width: 100%;
    padding: 16px 24px;
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--white);
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: all 200ms ease;
  }

  .secondary-button:hover:not(:disabled) {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.3);
  }

  .secondary-button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .divider {
    display: flex;
    align-items: center;
    gap: 16px;
    color: var(--gray-medium);
    font-size: 14px;
  }

  .divider::before,
  .divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: rgba(255, 255, 255, 0.1);
  }

  .signup-link {
    text-align: center;
    font-size: 14px;
    color: var(--gray-light);
  }

  .signup-link-button {
    background: none;
    border: none;
    color: var(--purple);
    font-weight: 600;
    cursor: pointer;
    text-decoration: none;
    transition: color 200ms ease;
  }

  .signup-link-button:hover {
    color: var(--white);
  }

  @media (max-width: 640px) {
    .login-nav-content {
      padding: 0 20px;
    }

    .login-container {
      padding: calc(60px + 72px) 20px 60px;
    }

    .login-headline {
      font-size: 32px;
    }

    .login-subheadline {
      font-size: 16px;
    }
  }
`;function gq(){const[,e]=at(),{toast:t}=tt(),r=new URLSearchParams(window.location.search),a=r.get("plan")||"monthly",i=r.get("ref")||"",s=r.get("invite")||"",[o,l]=x.useState(""),[c,d]=x.useState(""),[u,f]=x.useState(""),[h,p]=x.useState(""),[b,g]=x.useState(""),[y,v]=x.useState(!1),[m,j]=x.useState(!1),[N,w]=x.useState(!1),[S,k]=x.useState(!1),[C,A]=x.useState(""),[O,I]=x.useState(""),[P,R]=x.useState(""),[$,E]=x.useState(""),[_,M]=x.useState(null),[T,D]=x.useState([]),[B,ee]=x.useState(!1),[re,oe]=x.useState(!1);x.useEffect(()=>{window.scrollTo(0,0),s&&!S&&ve()},[]);const ve=async()=>{try{const W=await(await ut("GET",`/api/auth/validate-invite?token=${s}`)).json();W.valid?(w(!0),l(W.email||""),t({title:"Lifetime Access Invitation",description:"You've been invited to BJJ OS with lifetime access!"})):(t({variant:"destructive",title:"Invalid Invitation",description:W.error||"This invitation link is invalid or has expired."}),window.history.replaceState({},"","/signup"))}catch{t({variant:"destructive",title:"Error",description:"Failed to validate invitation link"})}finally{k(!0)}},ce=async()=>{if(!o){A("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){A("Please enter a valid email address");return}j(!0);try{const z=await(await ut("POST","/api/auth/email/request-code",{email:o})).json();z.success?(v(!0),t({title:"Code Sent!",description:"Check your email for the verification code"})):t({variant:"destructive",title:"Failed to Send Code",description:z.error||"Please try again"})}catch(W){t({variant:"destructive",title:"Error",description:W.message||"Failed to send verification code"})}finally{j(!1)}};x.useEffect(()=>{if(!h||h.length<3){M(null),D([]),E("");return}const W=setTimeout(async()=>{ee(!0),E("");try{const Q=await(await ut("POST","/api/validate-username",{username:h})).json();Q.available?(M(!0),D([])):(M(!1),D(Q.suggestions||[]),Q.error&&E(Q.error))}catch{E("Failed to check username availability")}finally{ee(!1)}},500);return()=>clearTimeout(W)},[h]);const Oe=()=>{let te=!0;return o?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)?A(""):(A("Please enter a valid email address"),te=!1):(A("Email is required"),te=!1),c?c.length<8?(I("Password must be at least 8 characters"),te=!1):I(""):(I("Password is required"),te=!1),u?c!==u?(R("Passwords do not match"),te=!1):R(""):(R("Please confirm your password"),te=!1),h?h.length<3?(E("Username must be at least 3 characters"),te=!1):B||_===null?(E("Checking username availability..."),te=!1):_===!1?(E("Username is not available"),te=!1):E(""):(E("Username is required"),te=!1),te},me=async te=>{if(te.preventDefault(),s&&N){if(!b){t({variant:"destructive",title:"Verification Code Required",description:"Please enter the verification code sent to your email"});return}oe(!0);try{const z=await(await ut("POST","/api/auth/signup-with-invite",{email:o,username:h||void 0,verificationCode:b,inviteToken:s})).json();z.success&&z.token?(localStorage.setItem("sessionToken",z.token),localStorage.setItem("user",JSON.stringify(z.user)),t({title:"Welcome to BJJ OS!",description:"Your lifetime access account has been created"}),Pe.invalidateQueries({queryKey:["/api/auth/me"]}),e("/onboarding")):t({variant:"destructive",title:"Signup Failed",description:z.error||"Failed to create account"})}catch(W){t({variant:"destructive",title:"Signup Failed",description:W.message||"An error occurred during signup"})}finally{oe(!1)}return}if(Oe()){oe(!0);try{const z=await(await ut("POST","/api/auth/signup",{email:o,password:c,referralCode:i||void 0})).json();if(z.requiresPayment){z.passwordHash&&sessionStorage.setItem("pendingPasswordHash",z.passwordHash),sessionStorage.setItem("pendingEmail",o),t({title:"Redirecting to Payment",description:"You'll be redirected to complete your subscription..."});const Ve=await(await ut("POST","/api/signup/checkout",{email:z.email||o,priceId:a||"monthly",referralCode:i||void 0})).json();if(Ve.url){window.location.href=Ve.url;return}else if(Ve.devBypass){t({title:"Account Created!",description:"Welcome to BJJ OS (Dev Mode)"}),Pe.invalidateQueries({queryKey:["/api/auth/me"]}),e("/onboarding");return}else throw new Error(Ve.error||"Failed to create checkout session")}if(z.error){t({variant:"destructive",title:"Signup Failed",description:z.error});return}z.sessionToken&&z.user&&(t({title:"Account Created!",description:"Welcome to BJJ OS"}),Pe.invalidateQueries({queryKey:["/api/auth/me"]}),e("/onboarding"))}catch(W){t({variant:"destructive",title:"Signup Failed",description:W.message||"An error occurred during signup"})}finally{oe(!1)}}},Ce=()=>a==="annual"?"Annual ($149.88/year)":a==="monthly"?"Monthly ($14.99/month)":"Free Preview";return n.jsxs("div",{className:"signup-page page-container",children:[n.jsx("nav",{className:"signup-nav",children:n.jsxs("div",{className:"signup-nav-content",children:[n.jsx("div",{className:"signup-nav-left",children:n.jsx("a",{href:"/",className:"signup-logo-link","data-testid":"link-home",children:n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"signup-logo-img"})})}),n.jsx("div",{className:"signup-nav-right",children:n.jsx("button",{className:"signup-nav-login",onClick:()=>e("/login"),"data-testid":"button-login",children:"Login"})})]})}),n.jsxs("div",{className:"signup-container",children:[n.jsxs("div",{className:"signup-header",children:[n.jsx("h1",{className:"signup-headline",children:N?"Accept Your Invitation":"Create Your Account"}),n.jsx("p",{className:"signup-subheadline",children:N?"You've been invited to BJJ OS with lifetime access":"Start your 7-day free trial today  $14.99/month after trial"}),N&&n.jsx("div",{className:"selected-plan-badge",style:{background:"linear-gradient(135deg, #2563EB 0%, #7C3AED 100%)",color:"white"},"data-testid":"badge-lifetime-access",children:" Lifetime Access Invitation"}),!N&&a&&n.jsxs("div",{className:"selected-plan-badge","data-testid":"badge-selected-plan",children:["Selected: ",Ce()]}),!N&&i&&n.jsxs("div",{className:"referral-applied","data-testid":"text-referral-applied",children:[' Referral code "',i,'" will be applied']})]}),n.jsxs("form",{onSubmit:me,className:"signup-form",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"email",children:"Email"}),n.jsx("input",{id:"email",type:"email",className:`form-input ${C?"error":""}`,placeholder:"your@email.com",value:o,onChange:te=>l(te.target.value),disabled:re||N,readOnly:N,"data-testid":"input-email"}),C&&n.jsx("div",{className:"form-error","data-testid":"text-email-error",children:C}),N&&!y&&n.jsx("p",{className:"form-hint",children:"Request a verification code to continue"})]}),N&&n.jsx(n.Fragment,{children:y?n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"verificationCode",children:"Verification Code"}),n.jsx("input",{id:"verificationCode",type:"text",className:"form-input",placeholder:"Enter 6-digit code",value:b,onChange:te=>g(te.target.value),maxLength:6,disabled:re,"data-testid":"input-verification-code"}),n.jsx("p",{className:"form-hint",children:"Check your email for the verification code"})]}):n.jsx("button",{type:"button",onClick:ce,disabled:m||!o,className:"signup-button",style:{marginBottom:"20px"},"data-testid":"button-request-code",children:m?"Sending Code...":"Request Verification Code"})}),!N&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"password",children:"Password"}),n.jsx("input",{id:"password",type:"password",className:`form-input ${O?"error":""}`,placeholder:"At least 8 characters",value:c,onChange:te=>d(te.target.value),disabled:re,"data-testid":"input-password"}),O&&n.jsx("div",{className:"form-error","data-testid":"text-password-error",children:O})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",htmlFor:"confirmPassword",children:"Confirm Password"}),n.jsx("input",{id:"confirmPassword",type:"password",className:`form-input ${P?"error":""}`,placeholder:"Re-enter your password",value:u,onChange:te=>f(te.target.value),disabled:re,"data-testid":"input-confirm-password"}),P&&n.jsx("div",{className:"form-error","data-testid":"text-confirm-password-error",children:P})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsxs("label",{className:"form-label",htmlFor:"username",children:["Username ",N&&n.jsx("span",{style:{opacity:.6},children:"(Optional)"})]}),n.jsxs("div",{className:"username-input-wrapper",children:[n.jsx("input",{id:"username",type:"text",className:`form-input ${$?"error":""} ${_?"success":""}`,placeholder:"username",value:h,onChange:te=>p(te.target.value.toLowerCase()),disabled:re,"data-testid":"input-username"}),!N&&n.jsxs("div",{className:"username-status",children:[B&&n.jsx(ze,{className:"w-4 h-4 animate-spin text-gray-400"}),!B&&_===!0&&n.jsx(Ta,{className:"w-4 h-4 text-green-500","data-testid":"icon-available"}),!B&&_===!1&&n.jsx(Tn,{className:"w-4 h-4 text-red-500","data-testid":"icon-unavailable"})]})]}),!N&&_===!0&&n.jsxs("div",{className:"form-success","data-testid":"text-username-available",children:["@",h," is available!"]}),!N&&$&&n.jsx("div",{className:"form-error","data-testid":"text-username-error",children:$}),!N&&_===!1&&T.length>0&&n.jsxs("div",{className:"username-suggestions","data-testid":"div-suggestions",children:[n.jsx("p",{className:"suggestions-label",children:"Username taken. Try these:"}),n.jsx("div",{className:"suggestions-list",children:T.map(te=>n.jsxs("button",{type:"button",className:"suggestion-badge",onClick:()=>p(te),"data-testid":`badge-suggestion-${te}`,children:["@",te]},te))})]}),n.jsx("p",{className:"form-hint",children:N?"Optional - you can add this later in settings":"3-20 characters, lowercase letters, numbers, and underscores only"})]}),n.jsx("button",{type:"submit",className:"signup-button",disabled:re||N&&(!y||!b),"data-testid":"button-signup",children:re?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):N?"Create Account with Lifetime Access":"Create Account"}),n.jsxs("div",{className:"login-link",children:["Already have an account?"," ",n.jsx("button",{type:"button",onClick:()=>e("/login"),className:"login-link-button","data-testid":"link-login",children:"Log In"})]})]})]}),n.jsx("style",{children:`
        /* ==================== GLOBAL VARIABLES ==================== */
        :root {
          --black: #000000;
          --black-elevated: #0F0F0F;
          --white: #FFFFFF;
          --gray-light: #A0A0A0;
          --gray-medium: #71717A;
          --gray-dark: #1A1A1A;
          --blue: #2563EB;
          --purple: #7C3AED;
          --blue-hover-1: #1D4ED8;
          --purple-hover-1: #6D28D9;
          --blue-hover-2: #1E40AF;
          --purple-hover-2: #5B21B6;
          --green: #22C55E;
          --green-glow: rgba(34, 197, 94, 0.3);
          --red: #EF4444;
          --font-mono: 'JetBrains Mono', monospace;
        }

        /* ==================== BASE STYLES ==================== */
        .signup-page {
          font-family: var(--font-mono);
          background: radial-gradient(circle at 50% 0%, #0A0812 0%, #15111F 50%, #0A0812 100%);
          color: var(--white);
          min-height: 100vh;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          position: relative;
        }

        /* Subtle grain texture overlay */
        .signup-page::before {
          content: '';
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-image: 
            url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
          pointer-events: none;
          z-index: 9999;
          mix-blend-mode: overlay;
        }

        /* ==================== NAVIGATION ==================== */
        .signup-nav {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          background: rgba(10, 8, 18, 0.8);
          backdrop-filter: blur(12px);
          height: 72px;
          z-index: 1000;
          border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .signup-nav-content {
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 40px;
          height: 100%;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .signup-nav-left {
          display: flex;
          align-items: center;
        }

        .signup-logo-link {
          display: flex;
          align-items: center;
        }

        .signup-logo-img {
          height: 36px;
          width: auto;
        }

        .signup-nav-right {
          display: flex;
          align-items: center;
        }

        .signup-nav-login {
          background: none;
          border: none;
          font-family: var(--font-mono);
          font-size: 16px;
          color: var(--gray-light);
          cursor: pointer;
          transition: color 150ms ease;
          padding: 16px;
        }

        .signup-nav-login:hover {
          color: var(--white);
        }

        /* ==================== CONTAINER ==================== */
        .signup-container {
          padding: calc(80px + 72px) 40px 80px;
          max-width: 500px;
          margin: 0 auto;
        }

        /* ==================== HEADER ==================== */
        .signup-header {
          text-align: center;
          margin-bottom: 48px;
        }

        .signup-headline {
          font-size: 48px;
          font-weight: 700;
          color: var(--white);
          line-height: 1.1;
          letter-spacing: -0.01em;
          margin-bottom: 16px;
        }

        .signup-subheadline {
          font-size: 16px;
          font-weight: 400;
          color: var(--gray-light);
          line-height: 1.6;
          margin-bottom: 24px;
        }

        .selected-plan-badge {
          display: inline-block;
          font-size: 14px;
          font-weight: 600;
          color: var(--white);
          padding: 8px 16px;
          background: rgba(37, 99, 235, 0.1);
          border: 1px solid rgba(37, 99, 235, 0.3);
          margin-bottom: 8px;
        }

        .referral-applied {
          font-size: 14px;
          color: var(--green);
          text-shadow: 0 0 20px var(--green-glow);
        }

        /* ==================== FORM STYLES ==================== */
        .signup-form {
          background: var(--black-elevated);
          padding: 48px;
          border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .form-group {
          margin-bottom: 24px;
        }

        .form-label {
          display: block;
          font-family: var(--font-mono);
          font-weight: 600;
          font-size: 14px;
          color: var(--white);
          margin-bottom: 8px;
          text-transform: uppercase;
          letter-spacing: 0.05em;
        }

        .form-input {
          width: 100%;
          background: var(--black);
          border: 1px solid var(--gray-dark);
          color: var(--white);
          font-family: var(--font-mono);
          font-size: 16px;
          padding: 12px 16px;
          transition: all 150ms ease;
        }

        .form-input::placeholder {
          color: var(--gray-medium);
        }

        .form-input:focus {
          outline: none;
          border: 1px solid var(--blue);
        }

        .form-input.error {
          border: 1px solid var(--red);
        }

        .form-input.success {
          border: 1px solid var(--green);
        }

        .form-error {
          font-size: 14px;
          color: var(--red);
          margin-top: 8px;
        }

        .form-success {
          font-size: 14px;
          color: var(--green);
          text-shadow: 0 0 20px var(--green-glow);
          margin-top: 8px;
        }

        .form-hint {
          font-size: 12px;
          color: var(--gray-medium);
          margin-top: 8px;
        }

        /* Username Input */
        .username-input-wrapper {
          position: relative;
        }

        .username-status {
          position: absolute;
          right: 12px;
          top: 50%;
          transform: translateY(-50%);
        }

        .username-suggestions {
          margin-top: 12px;
        }

        .suggestions-label {
          font-size: 14px;
          color: var(--gray-light);
          margin-bottom: 8px;
        }

        .suggestions-list {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }

        .suggestion-badge {
          background: transparent;
          border: 1px solid var(--gray-dark);
          color: var(--gray-light);
          font-family: var(--font-mono);
          font-size: 14px;
          padding: 6px 12px;
          cursor: pointer;
          transition: all 150ms ease;
        }

        .suggestion-badge:hover {
          border: 1px solid var(--blue);
          color: var(--blue);
        }

        /* Submit Button */
        .signup-button {
          width: 100%;
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          background-size: 200% 200%;
          animation: gradient-shift 8s ease infinite;
          border: none;
          font-family: var(--font-mono);
          font-weight: 700;
          font-size: 16px;
          color: var(--white);
          padding: 18px 48px;
          cursor: pointer;
          transition: all 150ms ease;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-top: 32px;
        }

        .signup-button:hover {
          background: linear-gradient(135deg, var(--blue-hover-1) 0%, var(--purple-hover-1) 100%);
        }

        .signup-button:active {
          transform: translateY(1px);
        }

        .signup-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        @keyframes gradient-shift {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }

        /* Login Link */
        .login-link {
          text-align: center;
          font-size: 14px;
          color: var(--gray-light);
          margin-top: 24px;
        }

        .login-link-button {
          background: none;
          border: none;
          color: var(--blue);
          font-family: var(--font-mono);
          font-weight: 600;
          cursor: pointer;
          transition: color 150ms ease;
        }

        .login-link-button:hover {
          color: var(--purple);
          text-decoration: underline;
        }

        /* ==================== MOBILE RESPONSIVE ==================== */
        @media (max-width: 768px) {
          .signup-nav {
            height: 64px;
          }

          .signup-nav-content {
            padding: 0 24px;
          }

          .signup-container {
            padding: calc(60px + 64px) 24px 60px;
          }

          .signup-headline {
            font-size: 36px;
          }

          .signup-form {
            padding: 32px;
          }
        }
      `})]})}var vh=e=>e.type==="checkbox",yo=e=>e instanceof Date,en=e=>e==null;const fR=e=>typeof e=="object";var or=e=>!en(e)&&!Array.isArray(e)&&fR(e)&&!yo(e),hR=e=>or(e)&&e.target?vh(e.target)?e.target.checked:e.target.value:e,xq=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mR=(e,t)=>e.has(xq(t)),vq=e=>{const t=e.constructor&&e.constructor.prototype;return or(t)&&t.hasOwnProperty("isPrototypeOf")},H1=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Er(e){let t;const r=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(H1&&(e instanceof Blob||a))&&(r||or(e)))if(t=r?[]:{},!r&&!vq(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Er(e[i]));else return e;return t}var Fx=e=>Array.isArray(e)?e.filter(Boolean):[],tr=e=>e===void 0,ke=(e,t,r)=>{if(!t||!or(e))return r;const a=Fx(t.split(/[,[\].]+?/)).reduce((i,s)=>en(i)?i:i[s],e);return tr(a)||a===e?tr(e[t])?r:e[t]:a},kn=e=>typeof e=="boolean",K1=e=>/^\w*$/.test(e),pR=e=>Fx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),wt=(e,t,r)=>{let a=-1;const i=K1(t)?[t]:pR(t),s=i.length,o=s-1;for(;++a<s;){const l=i[a];let c=r;if(a!==o){const d=e[l];c=or(d)||Array.isArray(d)?d:isNaN(+i[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Fp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ja={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},li={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gR=F.createContext(null),Bx=()=>F.useContext(gR),yq=e=>{const{children:t,...r}=e;return F.createElement(gR.Provider,{value:r},t)};var xR=(e,t,r,a=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ja.all&&(t._proxyFormState[o]=!a||ja.all),r&&(r[o]=!0),e[o]}});return i};function bq(e){const t=Bx(),{control:r=t.control,disabled:a,name:i,exact:s}=e||{},[o,l]=F.useState(r._formState),c=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=F.useRef(i);return d.current=i,F.useEffect(()=>r._subscribe({name:d.current,formState:c.current,exact:s,callback:u=>{!a&&l({...r._formState,...u})}}),[r,a,s]),F.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),F.useMemo(()=>xR(o,r,c.current,!1),[o,r])}var Wa=e=>typeof e=="string",vR=(e,t,r,a,i)=>Wa(e)?(a&&t.watch.add(e),ke(r,e,i)):Array.isArray(e)?e.map(s=>(a&&t.watch.add(s),ke(r,s))):(a&&(t.watchAll=!0),r);function jq(e){const t=Bx(),{control:r=t.control,name:a,defaultValue:i,disabled:s,exact:o}=e||{},l=F.useRef(a),c=F.useRef(i);l.current=a,F.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!s&&u(vR(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,s,o]);const[d,u]=F.useState(r._getWatch(a,i));return F.useEffect(()=>r._removeUnmounted()),d}function wq(e){const t=Bx(),{name:r,disabled:a,control:i=t.control,shouldUnregister:s}=e,o=mR(i._names.array,r),l=jq({control:i,name:r,defaultValue:ke(i._formValues,r,ke(i._defaultValues,r,e.defaultValue)),exact:!0}),c=bq({control:i,name:r,exact:!0}),d=F.useRef(e),u=F.useRef(i.register(r,{...e.rules,value:l,...kn(e.disabled)?{disabled:e.disabled}:{}})),f=F.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ke(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!ke(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ke(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ke(c.validatingFields,r)},error:{enumerable:!0,get:()=>ke(c.errors,r)}}),[c,r]),h=F.useCallback(y=>u.current.onChange({target:{value:hR(y),name:r},type:Fp.CHANGE}),[r]),p=F.useCallback(()=>u.current.onBlur({target:{value:ke(i._formValues,r),name:r},type:Fp.BLUR}),[r,i._formValues]),b=F.useCallback(y=>{const v=ke(i._fields,r);v&&y&&(v._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:m=>y.setCustomValidity(m),reportValidity:()=>y.reportValidity()})},[i._fields,r]),g=F.useMemo(()=>({name:r,value:l,...kn(a)||c.disabled?{disabled:c.disabled||a}:{},onChange:h,onBlur:p,ref:b}),[r,a,c.disabled,h,p,b,l]);return F.useEffect(()=>{const y=i._options.shouldUnregister||s;i.register(r,{...d.current.rules,...kn(d.current.disabled)?{disabled:d.current.disabled}:{}});const v=(m,j)=>{const N=ke(i._fields,m);N&&N._f&&(N._f.mount=j)};if(v(r,!0),y){const m=Er(ke(i._options.defaultValues,r));wt(i._defaultValues,r,m),tr(ke(i._formValues,r))&&wt(i._formValues,r,m)}return!o&&i.register(r),()=>{(o?y&&!i._state.action:y)?i.unregister(r):v(r,!1)}},[r,i,o,s]),F.useEffect(()=>{i._setDisabledField({disabled:a,name:r})},[a,r,i]),F.useMemo(()=>({field:g,formState:c,fieldState:f}),[g,c,f])}const Nq=e=>e.render(wq(e));var yR=(e,t,r,a,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:i||!0}}:{},Eu=e=>Array.isArray(e)?e:[e],Mk=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},M0=e=>en(e)||!fR(e);function ls(e,t){if(M0(e)||M0(t))return e===t;if(yo(e)&&yo(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(const i of r){const s=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const o=t[i];if(yo(s)&&yo(o)||or(s)&&or(o)||Array.isArray(s)&&Array.isArray(o)?!ls(s,o):s!==o)return!1}}return!0}var Jr=e=>or(e)&&!Object.keys(e).length,G1=e=>e.type==="file",wa=e=>typeof e=="function",Bp=e=>{if(!H1)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},bR=e=>e.type==="select-multiple",Y1=e=>e.type==="radio",Sq=e=>Y1(e)||vh(e),Sy=e=>Bp(e)&&e.isConnected;function kq(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=tr(e)?a++:e[t[a++]];return e}function Cq(e){for(const t in e)if(e.hasOwnProperty(t)&&!tr(e[t]))return!1;return!0}function mr(e,t){const r=Array.isArray(t)?t:K1(t)?[t]:pR(t),a=r.length===1?e:kq(e,r),i=r.length-1,s=r[i];return a&&delete a[s],i!==0&&(or(a)&&Jr(a)||Array.isArray(a)&&Cq(a))&&mr(e,r.slice(0,-1)),e}var jR=e=>{for(const t in e)if(wa(e[t]))return!0;return!1};function zp(e,t={}){const r=Array.isArray(e);if(or(e)||r)for(const a in e)Array.isArray(e[a])||or(e[a])&&!jR(e[a])?(t[a]=Array.isArray(e[a])?[]:{},zp(e[a],t[a])):en(e[a])||(t[a]=!0);return t}function wR(e,t,r){const a=Array.isArray(e);if(or(e)||a)for(const i in e)Array.isArray(e[i])||or(e[i])&&!jR(e[i])?tr(t)||M0(r[i])?r[i]=Array.isArray(e[i])?zp(e[i],[]):{...zp(e[i])}:wR(e[i],en(t)?{}:t[i],r[i]):r[i]=!ls(e[i],t[i]);return r}var Yd=(e,t)=>wR(e,t,zp(t));const $k={value:!1,isValid:!1},Dk={value:!0,isValid:!0};var NR=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!tr(e[0].attributes.value)?tr(e[0].value)||e[0].value===""?Dk:{value:e[0].value,isValid:!0}:Dk:$k}return $k},SR=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>tr(e)?e:t?e===""?NaN:e&&+e:r&&Wa(e)?new Date(e):a?a(e):e;const Lk={isValid:!1,value:null};var kR=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Lk):Lk;function Fk(e){const t=e.ref;return G1(t)?t.files:Y1(t)?kR(e.refs).value:bR(t)?[...t.selectedOptions].map(({value:r})=>r):vh(t)?NR(e.refs).value:SR(tr(t.value)?e.ref.value:t.value,e)}var Aq=(e,t,r,a)=>{const i={};for(const s of e){const o=ke(t,s);o&&wt(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:a}},Up=e=>e instanceof RegExp,Qd=e=>tr(e)?e:Up(e)?e.source:or(e)?Up(e.value)?e.value.source:e.value:e,Bk=e=>({isOnSubmit:!e||e===ja.onSubmit,isOnBlur:e===ja.onBlur,isOnChange:e===ja.onChange,isOnAll:e===ja.all,isOnTouch:e===ja.onTouched});const zk="AsyncFunction";var Pq=e=>!!e&&!!e.validate&&!!(wa(e.validate)&&e.validate.constructor.name===zk||or(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===zk)),Eq=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Uk=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Tu=(e,t,r,a)=>{for(const i of r||Object.keys(e)){const s=ke(e,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!a)return!0;if(o.ref&&t(o.ref,o.name)&&!a)return!0;if(Tu(l,t))break}else if(or(l)&&Tu(l,t))break}}};function Vk(e,t,r){const a=ke(e,r);if(a||K1(r))return{error:a,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=ke(t,s),l=ke(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:r}}var Tq=(e,t,r,a)=>{r(e);const{name:i,...s}=e;return Jr(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!a||ja.all))},Oq=(e,t,r)=>!e||!t||e===t||Eu(e).some(a=>a&&(r?a===t:a.startsWith(t)||t.startsWith(a))),_q=(e,t,r,a,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?a.isOnBlur:i.isOnBlur)?!e:(r?a.isOnChange:i.isOnChange)?e:!0,Iq=(e,t)=>!Fx(ke(e,t)).length&&mr(e,t),Rq=(e,t,r)=>{const a=Eu(ke(e,r));return wt(a,"root",t[r]),wt(e,r,a),e},Ym=e=>Wa(e);function qk(e,t,r="validate"){if(Ym(e)||Array.isArray(e)&&e.every(Ym)||kn(e)&&!e)return{type:r,message:Ym(e)?e:"",ref:t}}var hl=e=>or(e)&&!Up(e)?e:{value:e,message:""},Wk=async(e,t,r,a,i,s)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:u,min:f,max:h,pattern:p,validate:b,name:g,valueAsNumber:y,mount:v}=e._f,m=ke(r,g);if(!v||t.has(g))return{};const j=l?l[0]:o,N=P=>{i&&j.reportValidity&&(j.setCustomValidity(kn(P)?"":P||""),j.reportValidity())},w={},S=Y1(o),k=vh(o),C=S||k,A=(y||G1(o))&&tr(o.value)&&tr(m)||Bp(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,O=yR.bind(null,g,a,w),I=(P,R,$,E=li.maxLength,_=li.minLength)=>{const M=P?R:$;w[g]={type:P?E:_,message:M,ref:o,...O(P?E:_,M)}};if(s?!Array.isArray(m)||!m.length:c&&(!C&&(A||en(m))||kn(m)&&!m||k&&!NR(l).isValid||S&&!kR(l).isValid)){const{value:P,message:R}=Ym(c)?{value:!!c,message:c}:hl(c);if(P&&(w[g]={type:li.required,message:R,ref:j,...O(li.required,R)},!a))return N(R),w}if(!A&&(!en(f)||!en(h))){let P,R;const $=hl(h),E=hl(f);if(!en(m)&&!isNaN(m)){const _=o.valueAsNumber||m&&+m;en($.value)||(P=_>$.value),en(E.value)||(R=_<E.value)}else{const _=o.valueAsDate||new Date(m),M=B=>new Date(new Date().toDateString()+" "+B),T=o.type=="time",D=o.type=="week";Wa($.value)&&m&&(P=T?M(m)>M($.value):D?m>$.value:_>new Date($.value)),Wa(E.value)&&m&&(R=T?M(m)<M(E.value):D?m<E.value:_<new Date(E.value))}if((P||R)&&(I(!!P,$.message,E.message,li.max,li.min),!a))return N(w[g].message),w}if((d||u)&&!A&&(Wa(m)||s&&Array.isArray(m))){const P=hl(d),R=hl(u),$=!en(P.value)&&m.length>+P.value,E=!en(R.value)&&m.length<+R.value;if(($||E)&&(I($,P.message,R.message),!a))return N(w[g].message),w}if(p&&!A&&Wa(m)){const{value:P,message:R}=hl(p);if(Up(P)&&!m.match(P)&&(w[g]={type:li.pattern,message:R,ref:o,...O(li.pattern,R)},!a))return N(R),w}if(b){if(wa(b)){const P=await b(m,r),R=qk(P,j);if(R&&(w[g]={...R,...O(li.validate,R.message)},!a))return N(R.message),w}else if(or(b)){let P={};for(const R in b){if(!Jr(P)&&!a)break;const $=qk(await b[R](m,r),j,R);$&&(P={...$,...O(R,$.message)},N($.message),a&&(w[g]=P))}if(!Jr(P)&&(w[g]={ref:j,...P},!a))return w}}return N(!0),w};const Mq={mode:ja.onSubmit,reValidateMode:ja.onChange,shouldFocusError:!0};function $q(e={}){let t={...Mq,...e},r={submitCount:0,isDirty:!1,isLoading:wa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const a={};let i=or(t.defaultValues)||or(t.values)?Er(t.values||t.defaultValues)||{}:{},s=t.shouldUnregister?{}:Er(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:Mk(),state:Mk()},p=Bk(t.mode),b=Bk(t.reValidateMode),g=t.criteriaMode===ja.all,y=L=>Z=>{clearTimeout(d),d=setTimeout(L,Z)},v=async L=>{if(!t.disabled&&(u.isValid||f.isValid||L)){const Z=t.resolver?Jr((await A()).errors):await I(a,!0);Z!==r.isValid&&h.state.next({isValid:Z})}},m=(L,Z)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((L||Array.from(l.mount)).forEach(ie=>{ie&&(Z?wt(r.validatingFields,ie,Z):mr(r.validatingFields,ie))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Jr(r.validatingFields)}))},j=(L,Z=[],ie,xe,pe=!0,he=!0)=>{if(xe&&ie&&!t.disabled){if(o.action=!0,he&&Array.isArray(ke(a,L))){const $e=ie(ke(a,L),xe.argA,xe.argB);pe&&wt(a,L,$e)}if(he&&Array.isArray(ke(r.errors,L))){const $e=ie(ke(r.errors,L),xe.argA,xe.argB);pe&&wt(r.errors,L,$e),Iq(r.errors,L)}if((u.touchedFields||f.touchedFields)&&he&&Array.isArray(ke(r.touchedFields,L))){const $e=ie(ke(r.touchedFields,L),xe.argA,xe.argB);pe&&wt(r.touchedFields,L,$e)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Yd(i,s)),h.state.next({name:L,isDirty:R(L,Z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else wt(s,L,Z)},N=(L,Z)=>{wt(r.errors,L,Z),h.state.next({errors:r.errors})},w=L=>{r.errors=L,h.state.next({errors:r.errors,isValid:!1})},S=(L,Z,ie,xe)=>{const pe=ke(a,L);if(pe){const he=ke(s,L,tr(ie)?ke(i,L):ie);tr(he)||xe&&xe.defaultChecked||Z?wt(s,L,Z?he:Fk(pe._f)):_(L,he),o.mount&&v()}},k=(L,Z,ie,xe,pe)=>{let he=!1,$e=!1;const ht={name:L};if(!t.disabled){if(!ie||xe){(u.isDirty||f.isDirty)&&($e=r.isDirty,r.isDirty=ht.isDirty=R(),he=$e!==ht.isDirty);const Gt=ls(ke(i,L),Z);$e=!!ke(r.dirtyFields,L),Gt?mr(r.dirtyFields,L):wt(r.dirtyFields,L,!0),ht.dirtyFields=r.dirtyFields,he=he||(u.dirtyFields||f.dirtyFields)&&$e!==!Gt}if(ie){const Gt=ke(r.touchedFields,L);Gt||(wt(r.touchedFields,L,ie),ht.touchedFields=r.touchedFields,he=he||(u.touchedFields||f.touchedFields)&&Gt!==ie)}he&&pe&&h.state.next(ht)}return he?ht:{}},C=(L,Z,ie,xe)=>{const pe=ke(r.errors,L),he=(u.isValid||f.isValid)&&kn(Z)&&r.isValid!==Z;if(t.delayError&&ie?(c=y(()=>N(L,ie)),c(t.delayError)):(clearTimeout(d),c=null,ie?wt(r.errors,L,ie):mr(r.errors,L)),(ie?!ls(pe,ie):pe)||!Jr(xe)||he){const $e={...xe,...he&&kn(Z)?{isValid:Z}:{},errors:r.errors,name:L};r={...r,...$e},h.state.next($e)}},A=async L=>{m(L,!0);const Z=await t.resolver(s,t.context,Aq(L||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return m(L),Z},O=async L=>{const{errors:Z}=await A(L);if(L)for(const ie of L){const xe=ke(Z,ie);xe?wt(r.errors,ie,xe):mr(r.errors,ie)}else r.errors=Z;return Z},I=async(L,Z,ie={valid:!0})=>{for(const xe in L){const pe=L[xe];if(pe){const{_f:he,...$e}=pe;if(he){const ht=l.array.has(he.name),Gt=pe._f&&Pq(pe._f);Gt&&u.validatingFields&&m([xe],!0);const Nr=await Wk(pe,l.disabled,s,g,t.shouldUseNativeValidation&&!Z,ht);if(Gt&&u.validatingFields&&m([xe]),Nr[he.name]&&(ie.valid=!1,Z))break;!Z&&(ke(Nr,he.name)?ht?Rq(r.errors,Nr,he.name):wt(r.errors,he.name,Nr[he.name]):mr(r.errors,he.name))}!Jr($e)&&await I($e,Z,ie)}}return ie.valid},P=()=>{for(const L of l.unMount){const Z=ke(a,L);Z&&(Z._f.refs?Z._f.refs.every(ie=>!Sy(ie)):!Sy(Z._f.ref))&&te(L)}l.unMount=new Set},R=(L,Z)=>!t.disabled&&(L&&Z&&wt(s,L,Z),!ls(re(),i)),$=(L,Z,ie)=>vR(L,l,{...o.mount?s:tr(Z)?i:Wa(L)?{[L]:Z}:Z},ie,Z),E=L=>Fx(ke(o.mount?s:i,L,t.shouldUnregister?ke(i,L,[]):[])),_=(L,Z,ie={})=>{const xe=ke(a,L);let pe=Z;if(xe){const he=xe._f;he&&(!he.disabled&&wt(s,L,SR(Z,he)),pe=Bp(he.ref)&&en(Z)?"":Z,bR(he.ref)?[...he.ref.options].forEach($e=>$e.selected=pe.includes($e.value)):he.refs?vh(he.ref)?he.refs.length>1?he.refs.forEach($e=>(!$e.defaultChecked||!$e.disabled)&&($e.checked=Array.isArray(pe)?!!pe.find(ht=>ht===$e.value):pe===$e.value)):he.refs[0]&&(he.refs[0].checked=!!pe):he.refs.forEach($e=>$e.checked=$e.value===pe):G1(he.ref)?he.ref.value="":(he.ref.value=pe,he.ref.type||h.state.next({name:L,values:Er(s)})))}(ie.shouldDirty||ie.shouldTouch)&&k(L,pe,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&ee(L)},M=(L,Z,ie)=>{for(const xe in Z){const pe=Z[xe],he=`${L}.${xe}`,$e=ke(a,he);(l.array.has(L)||or(pe)||$e&&!$e._f)&&!yo(pe)?M(he,pe,ie):_(he,pe,ie)}},T=(L,Z,ie={})=>{const xe=ke(a,L),pe=l.array.has(L),he=Er(Z);wt(s,L,he),pe?(h.array.next({name:L,values:Er(s)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&ie.shouldDirty&&h.state.next({name:L,dirtyFields:Yd(i,s),isDirty:R(L,he)})):xe&&!xe._f&&!en(he)?M(L,he,ie):_(L,he,ie),Uk(L,l)&&h.state.next({...r}),h.state.next({name:o.mount?L:void 0,values:Er(s)})},D=async L=>{o.mount=!0;const Z=L.target;let ie=Z.name,xe=!0;const pe=ke(a,ie),he=$e=>{xe=Number.isNaN($e)||yo($e)&&isNaN($e.getTime())||ls($e,ke(s,ie,$e))};if(pe){let $e,ht;const Gt=Z.type?Fk(pe._f):hR(L),Nr=L.type===Fp.BLUR||L.type===Fp.FOCUS_OUT,Lv=!Eq(pe._f)&&!t.resolver&&!ke(r.errors,ie)&&!pe._f.deps||_q(Nr,ke(r.touchedFields,ie),r.isSubmitted,b,p),oa=Uk(ie,l,Nr);wt(s,ie,Gt),Nr?(pe._f.onBlur&&pe._f.onBlur(L),c&&c(0)):pe._f.onChange&&pe._f.onChange(L);const io=k(ie,Gt,Nr),Fv=!Jr(io)||oa;if(!Nr&&h.state.next({name:ie,type:L.type,values:Er(s)}),Lv)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?Nr&&v():Nr||v()),Fv&&h.state.next({name:ie,...oa?{}:io});if(!Nr&&oa&&h.state.next({...r}),t.resolver){const{errors:_S}=await A([ie]);if(he(Gt),xe){const hF=Vk(r.errors,a,ie),IS=Vk(_S,a,hF.name||ie);$e=IS.error,ie=IS.name,ht=Jr(_S)}}else m([ie],!0),$e=(await Wk(pe,l.disabled,s,g,t.shouldUseNativeValidation))[ie],m([ie]),he(Gt),xe&&($e?ht=!1:(u.isValid||f.isValid)&&(ht=await I(a,!0)));xe&&(pe._f.deps&&ee(pe._f.deps),C(ie,ht,$e,io))}},B=(L,Z)=>{if(ke(r.errors,Z)&&L.focus)return L.focus(),1},ee=async(L,Z={})=>{let ie,xe;const pe=Eu(L);if(t.resolver){const he=await O(tr(L)?L:pe);ie=Jr(he),xe=L?!pe.some($e=>ke(he,$e)):ie}else L?(xe=(await Promise.all(pe.map(async he=>{const $e=ke(a,he);return await I($e&&$e._f?{[he]:$e}:$e)}))).every(Boolean),!(!xe&&!r.isValid)&&v()):xe=ie=await I(a);return h.state.next({...!Wa(L)||(u.isValid||f.isValid)&&ie!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:ie}:{},errors:r.errors}),Z.shouldFocus&&!xe&&Tu(a,B,L?pe:l.mount),xe},re=L=>{const Z={...o.mount?s:i};return tr(L)?Z:Wa(L)?ke(Z,L):L.map(ie=>ke(Z,ie))},oe=(L,Z)=>({invalid:!!ke((Z||r).errors,L),isDirty:!!ke((Z||r).dirtyFields,L),error:ke((Z||r).errors,L),isValidating:!!ke(r.validatingFields,L),isTouched:!!ke((Z||r).touchedFields,L)}),ve=L=>{L&&Eu(L).forEach(Z=>mr(r.errors,Z)),h.state.next({errors:L?r.errors:{}})},ce=(L,Z,ie)=>{const xe=(ke(a,L,{_f:{}})._f||{}).ref,pe=ke(r.errors,L)||{},{ref:he,message:$e,type:ht,...Gt}=pe;wt(r.errors,L,{...Gt,...Z,ref:xe}),h.state.next({name:L,errors:r.errors,isValid:!1}),ie&&ie.shouldFocus&&xe&&xe.focus&&xe.focus()},Oe=(L,Z)=>wa(L)?h.state.subscribe({next:ie=>L($(void 0,Z),ie)}):$(L,Z,!0),me=L=>h.state.subscribe({next:Z=>{Oq(L.name,Z.name,L.exact)&&Tq(Z,L.formState||u,ne,L.reRenderRoot)&&L.callback({values:{...s},...r,...Z})}}).unsubscribe,Ce=L=>(o.mount=!0,f={...f,...L.formState},me({...L,formState:f})),te=(L,Z={})=>{for(const ie of L?Eu(L):l.mount)l.mount.delete(ie),l.array.delete(ie),Z.keepValue||(mr(a,ie),mr(s,ie)),!Z.keepError&&mr(r.errors,ie),!Z.keepDirty&&mr(r.dirtyFields,ie),!Z.keepTouched&&mr(r.touchedFields,ie),!Z.keepIsValidating&&mr(r.validatingFields,ie),!t.shouldUnregister&&!Z.keepDefaultValue&&mr(i,ie);h.state.next({values:Er(s)}),h.state.next({...r,...Z.keepDirty?{isDirty:R()}:{}}),!Z.keepIsValid&&v()},W=({disabled:L,name:Z})=>{(kn(L)&&o.mount||L||l.disabled.has(Z))&&(L?l.disabled.add(Z):l.disabled.delete(Z))},z=(L,Z={})=>{let ie=ke(a,L);const xe=kn(Z.disabled)||kn(t.disabled);return wt(a,L,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:L}},name:L,mount:!0,...Z}}),l.mount.add(L),ie?W({disabled:kn(Z.disabled)?Z.disabled:t.disabled,name:L}):S(L,!0,Z.value),{...xe?{disabled:Z.disabled||t.disabled}:{},...t.progressive?{required:!!Z.required,min:Qd(Z.min),max:Qd(Z.max),minLength:Qd(Z.minLength),maxLength:Qd(Z.maxLength),pattern:Qd(Z.pattern)}:{},name:L,onChange:D,onBlur:D,ref:pe=>{if(pe){z(L,Z),ie=ke(a,L);const he=tr(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,$e=Sq(he),ht=ie._f.refs||[];if($e?ht.find(Gt=>Gt===he):he===ie._f.ref)return;wt(a,L,{_f:{...ie._f,...$e?{refs:[...ht.filter(Sy),he,...Array.isArray(ke(i,L))?[{}]:[]],ref:{type:he.type,name:L}}:{ref:he}}}),S(L,!1,void 0,he)}else ie=ke(a,L,{}),ie._f&&(ie._f.mount=!1),(t.shouldUnregister||Z.shouldUnregister)&&!(mR(l.array,L)&&o.action)&&l.unMount.add(L)}}},Q=()=>t.shouldFocusError&&Tu(a,B,l.mount),Ve=L=>{kn(L)&&(h.state.next({disabled:L}),Tu(a,(Z,ie)=>{const xe=ke(a,ie);xe&&(Z.disabled=xe._f.disabled||L,Array.isArray(xe._f.refs)&&xe._f.refs.forEach(pe=>{pe.disabled=xe._f.disabled||L}))},0,!1))},de=(L,Z)=>async ie=>{let xe;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let pe=Er(s);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:he,values:$e}=await A();r.errors=he,pe=$e}else await I(a);if(l.disabled.size)for(const he of l.disabled)wt(pe,he,void 0);if(mr(r.errors,"root"),Jr(r.errors)){h.state.next({errors:{}});try{await L(pe,ie)}catch(he){xe=he}}else Z&&await Z({...r.errors},ie),Q(),setTimeout(Q);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jr(r.errors)&&!xe,submitCount:r.submitCount+1,errors:r.errors}),xe)throw xe},Ae=(L,Z={})=>{ke(a,L)&&(tr(Z.defaultValue)?T(L,Er(ke(i,L))):(T(L,Z.defaultValue),wt(i,L,Er(Z.defaultValue))),Z.keepTouched||mr(r.touchedFields,L),Z.keepDirty||(mr(r.dirtyFields,L),r.isDirty=Z.defaultValue?R(L,Er(ke(i,L))):R()),Z.keepError||(mr(r.errors,L),u.isValid&&v()),h.state.next({...r}))},Ge=(L,Z={})=>{const ie=L?Er(L):i,xe=Er(ie),pe=Jr(L),he=pe?i:xe;if(Z.keepDefaultValues||(i=ie),!Z.keepValues){if(Z.keepDirtyValues){const $e=new Set([...l.mount,...Object.keys(Yd(i,s))]);for(const ht of Array.from($e))ke(r.dirtyFields,ht)?wt(he,ht,ke(s,ht)):T(ht,ke(he,ht))}else{if(H1&&tr(L))for(const $e of l.mount){const ht=ke(a,$e);if(ht&&ht._f){const Gt=Array.isArray(ht._f.refs)?ht._f.refs[0]:ht._f.ref;if(Bp(Gt)){const Nr=Gt.closest("form");if(Nr){Nr.reset();break}}}}for(const $e of l.mount)T($e,ke(he,$e))}s=Er(he),h.array.next({values:{...he}}),h.state.next({values:{...he}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:Z.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:Z.keepDirty?r.isDirty:!!(Z.keepDefaultValues&&!ls(L,i)),isSubmitted:Z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:Z.keepDirtyValues?Z.keepDefaultValues&&s?Yd(i,s):r.dirtyFields:Z.keepDefaultValues&&L?Yd(i,L):Z.keepDirty?r.dirtyFields:{},touchedFields:Z.keepTouched?r.touchedFields:{},errors:Z.keepErrors?r.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},st=(L,Z)=>Ge(wa(L)?L(s):L,Z),Tt=(L,Z={})=>{const ie=ke(a,L),xe=ie&&ie._f;if(xe){const pe=xe.refs?xe.refs[0]:xe.ref;pe.focus&&(pe.focus(),Z.shouldSelect&&wa(pe.select)&&pe.select())}},ne=L=>{r={...r,...L}},dt={control:{register:z,unregister:te,getFieldState:oe,handleSubmit:de,setError:ce,_subscribe:me,_runSchema:A,_getWatch:$,_getDirty:R,_setValid:v,_setFieldArray:j,_setDisabledField:W,_setErrors:w,_getFieldArray:E,_reset:Ge,_resetDefaultValues:()=>wa(t.defaultValues)&&t.defaultValues().then(L=>{st(L,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Ve,_subjects:h,_proxyFormState:u,get _fields(){return a},get _formValues(){return s},get _state(){return o},set _state(L){o=L},get _defaultValues(){return i},get _names(){return l},set _names(L){l=L},get _formState(){return r},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:Ce,trigger:ee,register:z,handleSubmit:de,watch:Oe,setValue:T,getValues:re,reset:st,resetField:Ae,clearErrors:ve,unregister:te,setError:ce,setFocus:Tt,getFieldState:oe};return{...dt,formControl:dt}}function Dq(e={}){const t=F.useRef(void 0),r=F.useRef(void 0),[a,i]=F.useState({isDirty:!1,isValidating:!1,isLoading:wa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:wa(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:$q(e),formState:a},e.formControl&&e.defaultValues&&!wa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,F.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),F.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),F.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==a.isDirty&&s._subjects.state.next({isDirty:o})}},[s,a.isDirty]),F.useEffect(()=>{e.values&&!ls(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),F.useEffect(()=>{e.errors&&!Jr(e.errors)&&s._setErrors(e.errors)},[e.errors,s]),F.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),F.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=xR(a,s),t.current}const Hk=(e,t,r)=>{if(e&&"reportValidity"in e){const a=ke(r,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},CR=(e,t)=>{for(const r in t.fields){const a=t.fields[r];a&&a.ref&&"reportValidity"in a.ref?Hk(a.ref,r,e):a.refs&&a.refs.forEach(i=>Hk(i,r,e))}},Lq=(e,t)=>{t.shouldUseNativeValidation&&CR(e,t);const r={};for(const a in e){const i=ke(t.fields,a),s=Object.assign(e[a]||{},{ref:i&&i.ref});if(Fq(t.names||Object.keys(e),a)){const o=Object.assign({},ke(r,a));wt(o,"root",s),wt(r,a,o)}else wt(r,a,s)}return r},Fq=(e,t)=>e.some(r=>r.startsWith(t+"."));var Bq=function(e,t){for(var r={};e.length;){var a=e[0],i=a.code,s=a.message,o=a.path.join(".");if(!r[o])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:i};if("unionErrors"in a&&a.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[a.code];r[o]=yR(o,t,r,i,d?[].concat(d,a.message):a.message)}e.shift()}return r},zq=function(e,t,r){return r===void 0&&(r={}),function(a,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(d){return s.shouldUseNativeValidation&&CR({},s),{errors:{},values:r.raw?a:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Lq(Bq(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},yt;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function a(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=a,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(yt||(yt={}));var Kk;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Kk||(Kk={}));const De=yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),as=e=>{switch(typeof e){case"undefined":return De.undefined;case"string":return De.string;case"number":return Number.isNaN(e)?De.nan:De.number;case"boolean":return De.boolean;case"function":return De.function;case"bigint":return De.bigint;case"symbol":return De.symbol;case"object":return Array.isArray(e)?De.array:e===null?De.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?De.promise:typeof Map<"u"&&e instanceof Map?De.map:typeof Set<"u"&&e instanceof Set?De.set:typeof Date<"u"&&e instanceof Date?De.date:De.object;default:return De.unknown}},ye=yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},a={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)a._errors.push(r(o));else{let l=a,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),a}static assert(t){if(!(t instanceof Fi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},a=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(t(i))}else a.push(t(i));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}Fi.create=e=>new Fi(e);const $0=(e,t)=>{let r;switch(e.code){case ye.invalid_type:e.received===De.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,yt.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${yt.joinValues(e.keys,", ")}`;break;case ye.invalid_union:r="Invalid input";break;case ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${yt.joinValues(e.options)}`;break;case ye.invalid_enum_value:r=`Invalid enum value. Expected ${yt.joinValues(e.options)}, received '${e.received}'`;break;case ye.invalid_arguments:r="Invalid function arguments";break;case ye.invalid_return_type:r="Invalid function return type";break;case ye.invalid_date:r="Invalid date";break;case ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:yt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ye.custom:r="Invalid input";break;case ye.invalid_intersection_types:r="Intersection results could not be merged";break;case ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,yt.assertNever(e)}return{message:r}};let Uq=$0;function Vq(){return Uq}const qq=e=>{const{data:t,path:r,errorMaps:a,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=a.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...i,path:s,message:l}};function Ee(e,t){const r=Vq(),a=qq({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===$0?void 0:$0].filter(i=>!!i)});e.common.issues.push(a)}class Rn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const a=[];for(const i of r){if(i.status==="aborted")return Ze;i.status==="dirty"&&t.dirty(),a.push(i.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,r){const a=[];for(const i of r){const s=await i.key,o=await i.value;a.push({key:s,value:o})}return Rn.mergeObjectSync(t,a)}static mergeObjectSync(t,r){const a={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Ze;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(a[s.value]=o.value)}return{status:t.value,value:a}}}const Ze=Object.freeze({status:"aborted"}),mu=e=>({status:"dirty",value:e}),na=e=>({status:"valid",value:e}),Gk=e=>e.status==="aborted",Yk=e=>e.status==="dirty",Mc=e=>e.status==="valid",Vp=e=>typeof Promise<"u"&&e instanceof Promise;var Le;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Le||(Le={}));class qs{constructor(t,r,a,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=a,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Qk=(e,t)=>{if(Mc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fi(e.common.issues);return this._error=r,this._error}}};function lt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:a,description:i}=e;if(t&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??a??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:i}}class vt{get description(){return this._def.description}_getType(t){return as(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:as(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Rn,ctx:{common:t.parent.common,data:t.data,parsedType:as(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Vp(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const a=this.safeParse(t,r);if(a.success)return a.data;throw a.error}safeParse(t,r){const a={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:as(t)},i=this._parseSync({data:t,path:a.path,parent:a});return Qk(a,i)}"~validate"(t){var a,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:as(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:r});return Mc(s)?{value:s.value}:{issues:r.common.issues}}catch(s){(i=(a=s==null?void 0:s.message)==null?void 0:a.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(s=>Mc(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(t,r){const a=await this.safeParseAsync(t,r);if(a.success)return a.data;throw a.error}async safeParseAsync(t,r){const a={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:as(t)},i=this._parse({data:t,path:a.path,parent:a}),s=await(Vp(i)?i:Promise.resolve(i));return Qk(a,s)}refine(t,r){const a=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=t(i),l=()=>s.addIssue({code:ye.custom,...a(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((a,i)=>t(a)?!0:(i.addIssue(typeof r=="function"?r(a,i):r),!1))}_refinement(t){return new Dc({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ms.create(this,this._def)}nullable(){return Lc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qa.create(this)}promise(){return Kp.create(this,this._def)}or(t){return Wp.create([this,t],this._def)}and(t){return Hp.create(this,t,this._def)}transform(t){return new Dc({...lt(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new L0({...lt(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new h9({typeName:et.ZodBranded,type:this,...lt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new F0({...lt(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Q1.create(this,t)}readonly(){return B0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Wq=/^c[^\s-]{8,}$/i,Hq=/^[0-9a-z]+$/,Kq=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Gq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Yq=/^[a-z0-9_-]{21}$/i,Qq=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Xq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Jq=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Zq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ky;const e9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,t9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,r9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,n9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,a9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,i9=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,AR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",s9=new RegExp(`^${AR}$`);function PR(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function o9(e){return new RegExp(`^${PR(e)}$`)}function l9(e){let t=`${AR}T${PR(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function c9(e,t){return!!((t==="v4"||!t)&&e9.test(e)||(t==="v6"||!t)&&r9.test(e))}function d9(e,t){if(!Qq.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(a));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function u9(e,t){return!!((t==="v4"||!t)&&t9.test(e)||(t==="v6"||!t)&&n9.test(e))}class ws extends vt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==De.string){const s=this._getOrReturnCtx(t);return Ee(s,{code:ye.invalid_type,expected:De.string,received:s.parsedType}),Ze}const a=new Rn;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?Ee(i,{code:ye.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&Ee(i,{code:ye.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),a.dirty())}else if(s.kind==="email")Jq.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"email",code:ye.invalid_string,message:s.message}),a.dirty());else if(s.kind==="emoji")ky||(ky=new RegExp(Zq,"u")),ky.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"emoji",code:ye.invalid_string,message:s.message}),a.dirty());else if(s.kind==="uuid")Gq.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"uuid",code:ye.invalid_string,message:s.message}),a.dirty());else if(s.kind==="nanoid")Yq.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"nanoid",code:ye.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid")Wq.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"cuid",code:ye.invalid_string,message:s.message}),a.dirty());else if(s.kind==="cuid2")Hq.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"cuid2",code:ye.invalid_string,message:s.message}),a.dirty());else if(s.kind==="ulid")Kq.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"ulid",code:ye.invalid_string,message:s.message}),a.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Ee(i,{validation:"url",code:ye.invalid_string,message:s.message}),a.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"regex",code:ye.invalid_string,message:s.message}),a.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:ye.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),a.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:ye.invalid_string,validation:{startsWith:s.value},message:s.message}),a.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:ye.invalid_string,validation:{endsWith:s.value},message:s.message}),a.dirty()):s.kind==="datetime"?l9(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:ye.invalid_string,validation:"datetime",message:s.message}),a.dirty()):s.kind==="date"?s9.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:ye.invalid_string,validation:"date",message:s.message}),a.dirty()):s.kind==="time"?o9(s).test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{code:ye.invalid_string,validation:"time",message:s.message}),a.dirty()):s.kind==="duration"?Xq.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"duration",code:ye.invalid_string,message:s.message}),a.dirty()):s.kind==="ip"?c9(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"ip",code:ye.invalid_string,message:s.message}),a.dirty()):s.kind==="jwt"?d9(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"jwt",code:ye.invalid_string,message:s.message}),a.dirty()):s.kind==="cidr"?u9(t.data,s.version)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"cidr",code:ye.invalid_string,message:s.message}),a.dirty()):s.kind==="base64"?a9.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"base64",code:ye.invalid_string,message:s.message}),a.dirty()):s.kind==="base64url"?i9.test(t.data)||(i=this._getOrReturnCtx(t,i),Ee(i,{validation:"base64url",code:ye.invalid_string,message:s.message}),a.dirty()):yt.assertNever(s);return{status:a.value,value:t.data}}_regex(t,r,a){return this.refinement(i=>t.test(i),{validation:r,code:ye.invalid_string,...Le.errToObj(a)})}_addCheck(t){return new ws({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Le.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Le.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Le.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Le.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Le.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Le.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Le.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Le.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Le.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Le.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Le.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Le.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Le.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Le.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Le.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Le.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Le.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Le.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Le.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Le.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Le.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Le.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Le.errToObj(r)})}nonempty(t){return this.min(1,Le.errToObj(t))}trim(){return new ws({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ws({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ws({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ws.create=e=>new ws({checks:[],typeName:et.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...lt(e)});function f9(e,t){const r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,i=r>a?r:a,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}class df extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==De.number){const s=this._getOrReturnCtx(t);return Ee(s,{code:ye.invalid_type,expected:De.number,received:s.parsedType}),Ze}let a;const i=new Rn;for(const s of this._def.checks)s.kind==="int"?yt.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:ye.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:ye.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:ye.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?f9(t.data,s.value)!==0&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:ye.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:ye.not_finite,message:s.message}),i.dirty()):yt.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Le.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Le.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Le.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Le.toString(r))}setLimit(t,r,a,i){return new df({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:Le.toString(i)}]})}_addCheck(t){return new df({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Le.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Le.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Le.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&yt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(r)&&Number.isFinite(t)}}df.create=e=>new df({checks:[],typeName:et.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...lt(e)});class uf extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==De.bigint)return this._getInvalidInput(t);let a;const i=new Rn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:ye.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:ye.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:ye.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):yt.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:ye.invalid_type,expected:De.bigint,received:r.parsedType}),Ze}gte(t,r){return this.setLimit("min",t,!0,Le.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Le.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Le.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Le.toString(r))}setLimit(t,r,a,i){return new uf({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:Le.toString(i)}]})}_addCheck(t){return new uf({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Le.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}uf.create=e=>new uf({checks:[],typeName:et.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...lt(e)});class Xk extends vt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==De.boolean){const a=this._getOrReturnCtx(t);return Ee(a,{code:ye.invalid_type,expected:De.boolean,received:a.parsedType}),Ze}return na(t.data)}}Xk.create=e=>new Xk({typeName:et.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...lt(e)});class qp extends vt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==De.date){const s=this._getOrReturnCtx(t);return Ee(s,{code:ye.invalid_type,expected:De.date,received:s.parsedType}),Ze}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Ee(s,{code:ye.invalid_date}),Ze}const a=new Rn;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:ye.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),a.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),Ee(i,{code:ye.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),a.dirty()):yt.assertNever(s);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new qp({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Le.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Le.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}qp.create=e=>new qp({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:et.ZodDate,...lt(e)});class Jk extends vt{_parse(t){if(this._getType(t)!==De.symbol){const a=this._getOrReturnCtx(t);return Ee(a,{code:ye.invalid_type,expected:De.symbol,received:a.parsedType}),Ze}return na(t.data)}}Jk.create=e=>new Jk({typeName:et.ZodSymbol,...lt(e)});class Zk extends vt{_parse(t){if(this._getType(t)!==De.undefined){const a=this._getOrReturnCtx(t);return Ee(a,{code:ye.invalid_type,expected:De.undefined,received:a.parsedType}),Ze}return na(t.data)}}Zk.create=e=>new Zk({typeName:et.ZodUndefined,...lt(e)});class eC extends vt{_parse(t){if(this._getType(t)!==De.null){const a=this._getOrReturnCtx(t);return Ee(a,{code:ye.invalid_type,expected:De.null,received:a.parsedType}),Ze}return na(t.data)}}eC.create=e=>new eC({typeName:et.ZodNull,...lt(e)});class tC extends vt{constructor(){super(...arguments),this._any=!0}_parse(t){return na(t.data)}}tC.create=e=>new tC({typeName:et.ZodAny,...lt(e)});class rC extends vt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return na(t.data)}}rC.create=e=>new rC({typeName:et.ZodUnknown,...lt(e)});class Ws extends vt{_parse(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:ye.invalid_type,expected:De.never,received:r.parsedType}),Ze}}Ws.create=e=>new Ws({typeName:et.ZodNever,...lt(e)});class nC extends vt{_parse(t){if(this._getType(t)!==De.undefined){const a=this._getOrReturnCtx(t);return Ee(a,{code:ye.invalid_type,expected:De.void,received:a.parsedType}),Ze}return na(t.data)}}nC.create=e=>new nC({typeName:et.ZodVoid,...lt(e)});class Qa extends vt{_parse(t){const{ctx:r,status:a}=this._processInputParams(t),i=this._def;if(r.parsedType!==De.array)return Ee(r,{code:ye.invalid_type,expected:De.array,received:r.parsedType}),Ze;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(Ee(r,{code:o?ye.too_big:ye.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),a.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ee(r,{code:ye.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),a.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ee(r,{code:ye.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new qs(r,o,r.path,l)))).then(o=>Rn.mergeArray(a,o));const s=[...r.data].map((o,l)=>i.type._parseSync(new qs(r,o,r.path,l)));return Rn.mergeArray(a,s)}get element(){return this._def.type}min(t,r){return new Qa({...this._def,minLength:{value:t,message:Le.toString(r)}})}max(t,r){return new Qa({...this._def,maxLength:{value:t,message:Le.toString(r)}})}length(t,r){return new Qa({...this._def,exactLength:{value:t,message:Le.toString(r)}})}nonempty(t){return this.min(1,t)}}Qa.create=(e,t)=>new Qa({type:e,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...lt(t)});function Sl(e){if(e instanceof Qt){const t={};for(const r in e.shape){const a=e.shape[r];t[r]=Ms.create(Sl(a))}return new Qt({...e._def,shape:()=>t})}else return e instanceof Qa?new Qa({...e._def,type:Sl(e.element)}):e instanceof Ms?Ms.create(Sl(e.unwrap())):e instanceof Lc?Lc.create(Sl(e.unwrap())):e instanceof Ko?Ko.create(e.items.map(t=>Sl(t))):e}class Qt extends vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=yt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==De.object){const d=this._getOrReturnCtx(t);return Ee(d,{code:ye.invalid_type,expected:De.object,received:d.parsedType}),Ze}const{status:a,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ws&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const u=s[d],f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new qs(i,f,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Ws){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of l)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(d==="strict")l.length>0&&(Ee(i,{code:ye.unrecognized_keys,keys:l}),a.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of l){const f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new qs(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,h=await u.value;d.push({key:f,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>Rn.mergeObjectSync(a,d)):Rn.mergeObjectSync(a,c)}get shape(){return this._def.shape()}strict(t){return Le.errToObj,new Qt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,a)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,r,a).message)??a.defaultError;return r.code==="unrecognized_keys"?{message:Le.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new Qt({...this._def,unknownKeys:"strip"})}passthrough(){return new Qt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Qt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Qt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:et.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Qt({...this._def,catchall:t})}pick(t){const r={};for(const a of yt.objectKeys(t))t[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new Qt({...this._def,shape:()=>r})}omit(t){const r={};for(const a of yt.objectKeys(this.shape))t[a]||(r[a]=this.shape[a]);return new Qt({...this._def,shape:()=>r})}deepPartial(){return Sl(this)}partial(t){const r={};for(const a of yt.objectKeys(this.shape)){const i=this.shape[a];t&&!t[a]?r[a]=i:r[a]=i.optional()}return new Qt({...this._def,shape:()=>r})}required(t){const r={};for(const a of yt.objectKeys(this.shape))if(t&&!t[a])r[a]=this.shape[a];else{let s=this.shape[a];for(;s instanceof Ms;)s=s._def.innerType;r[a]=s}return new Qt({...this._def,shape:()=>r})}keyof(){return ER(yt.objectKeys(this.shape))}}Qt.create=(e,t)=>new Qt({shape:()=>e,unknownKeys:"strip",catchall:Ws.create(),typeName:et.ZodObject,...lt(t)});Qt.strictCreate=(e,t)=>new Qt({shape:()=>e,unknownKeys:"strict",catchall:Ws.create(),typeName:et.ZodObject,...lt(t)});Qt.lazycreate=(e,t)=>new Qt({shape:e,unknownKeys:"strip",catchall:Ws.create(),typeName:et.ZodObject,...lt(t)});class Wp extends vt{_parse(t){const{ctx:r}=this._processInputParams(t),a=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Fi(l.ctx.common.issues));return Ee(r,{code:ye.invalid_union,unionErrors:o}),Ze}if(r.common.async)return Promise.all(a.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of a){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Fi(c));return Ee(r,{code:ye.invalid_union,unionErrors:l}),Ze}}get options(){return this._def.options}}Wp.create=(e,t)=>new Wp({options:e,typeName:et.ZodUnion,...lt(t)});function D0(e,t){const r=as(e),a=as(t);if(e===t)return{valid:!0,data:e};if(r===De.object&&a===De.object){const i=yt.objectKeys(t),s=yt.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=D0(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===De.array&&a===De.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=D0(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===De.date&&a===De.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Hp extends vt{_parse(t){const{status:r,ctx:a}=this._processInputParams(t),i=(s,o)=>{if(Gk(s)||Gk(o))return Ze;const l=D0(s.value,o.value);return l.valid?((Yk(s)||Yk(o))&&r.dirty(),{status:r.value,value:l.data}):(Ee(a,{code:ye.invalid_intersection_types}),Ze)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Hp.create=(e,t,r)=>new Hp({left:e,right:t,typeName:et.ZodIntersection,...lt(r)});class Ko extends vt{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==De.array)return Ee(a,{code:ye.invalid_type,expected:De.array,received:a.parsedType}),Ze;if(a.data.length<this._def.items.length)return Ee(a,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&a.data.length>this._def.items.length&&(Ee(a,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...a.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new qs(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(s).then(o=>Rn.mergeArray(r,o)):Rn.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Ko({...this._def,rest:t})}}Ko.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ko({items:e,typeName:et.ZodTuple,rest:null,...lt(t)})};class aC extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==De.map)return Ee(a,{code:ye.invalid_type,expected:De.map,received:a.parsedType}),Ze;const i=this._def.keyType,s=this._def.valueType,o=[...a.data.entries()].map(([l,c],d)=>({key:i._parse(new qs(a,l,a.path,[d,"key"])),value:s._parse(new qs(a,c,a.path,[d,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Ze;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Ze;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),l.set(d.value,u.value)}return{status:r.value,value:l}}}}aC.create=(e,t,r)=>new aC({valueType:t,keyType:e,typeName:et.ZodMap,...lt(r)});class ff extends vt{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==De.set)return Ee(a,{code:ye.invalid_type,expected:De.set,received:a.parsedType}),Ze;const i=this._def;i.minSize!==null&&a.data.size<i.minSize.value&&(Ee(a,{code:ye.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&a.data.size>i.maxSize.value&&(Ee(a,{code:ye.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Ze;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const l=[...a.data.values()].map((c,d)=>s._parse(new qs(a,c,a.path,d)));return a.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new ff({...this._def,minSize:{value:t,message:Le.toString(r)}})}max(t,r){return new ff({...this._def,maxSize:{value:t,message:Le.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ff.create=(e,t)=>new ff({valueType:e,minSize:null,maxSize:null,typeName:et.ZodSet,...lt(t)});class iC extends vt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}iC.create=(e,t)=>new iC({getter:e,typeName:et.ZodLazy,...lt(t)});class sC extends vt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ee(r,{received:r.data,code:ye.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}sC.create=(e,t)=>new sC({value:e,typeName:et.ZodLiteral,...lt(t)});function ER(e,t){return new $c({values:e,typeName:et.ZodEnum,...lt(t)})}class $c extends vt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),a=this._def.values;return Ee(r,{expected:yt.joinValues(a),received:r.parsedType,code:ye.invalid_type}),Ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),a=this._def.values;return Ee(r,{received:r.data,code:ye.invalid_enum_value,options:a}),Ze}return na(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return $c.create(t,{...this._def,...r})}exclude(t,r=this._def){return $c.create(this.options.filter(a=>!t.includes(a)),{...this._def,...r})}}$c.create=ER;class oC extends vt{_parse(t){const r=yt.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==De.string&&a.parsedType!==De.number){const i=yt.objectValues(r);return Ee(a,{expected:yt.joinValues(i),received:a.parsedType,code:ye.invalid_type}),Ze}if(this._cache||(this._cache=new Set(yt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=yt.objectValues(r);return Ee(a,{received:a.data,code:ye.invalid_enum_value,options:i}),Ze}return na(t.data)}get enum(){return this._def.values}}oC.create=(e,t)=>new oC({values:e,typeName:et.ZodNativeEnum,...lt(t)});class Kp extends vt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==De.promise&&r.common.async===!1)return Ee(r,{code:ye.invalid_type,expected:De.promise,received:r.parsedType}),Ze;const a=r.parsedType===De.promise?r.data:Promise.resolve(r.data);return na(a.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Kp.create=(e,t)=>new Kp({type:e,typeName:et.ZodPromise,...lt(t)});class Dc extends vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:a}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{Ee(a,o),o.fatal?r.abort():r.dirty()},get path(){return a.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(a.data,s);if(a.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ze;const c=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return c.status==="aborted"?Ze:c.status==="dirty"||r.value==="dirty"?mu(c.value):c});{if(r.value==="aborted")return Ze;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?Ze:l.status==="dirty"||r.value==="dirty"?mu(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(a.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Mc(o))return Ze;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>Mc(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:r.value,value:l})):Ze);yt.assertNever(i)}}Dc.create=(e,t,r)=>new Dc({schema:e,typeName:et.ZodEffects,effect:t,...lt(r)});Dc.createWithPreprocess=(e,t,r)=>new Dc({schema:t,effect:{type:"preprocess",transform:e},typeName:et.ZodEffects,...lt(r)});class Ms extends vt{_parse(t){return this._getType(t)===De.undefined?na(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ms.create=(e,t)=>new Ms({innerType:e,typeName:et.ZodOptional,...lt(t)});class Lc extends vt{_parse(t){return this._getType(t)===De.null?na(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Lc.create=(e,t)=>new Lc({innerType:e,typeName:et.ZodNullable,...lt(t)});class L0 extends vt{_parse(t){const{ctx:r}=this._processInputParams(t);let a=r.data;return r.parsedType===De.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}L0.create=(e,t)=>new L0({innerType:e,typeName:et.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...lt(t)});class F0 extends vt{_parse(t){const{ctx:r}=this._processInputParams(t),a={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Vp(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fi(a.common.issues)},input:a.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fi(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}F0.create=(e,t)=>new F0({innerType:e,typeName:et.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...lt(t)});class lC extends vt{_parse(t){if(this._getType(t)!==De.nan){const a=this._getOrReturnCtx(t);return Ee(a,{code:ye.invalid_type,expected:De.nan,received:a.parsedType}),Ze}return{status:"valid",value:t.data}}}lC.create=e=>new lC({typeName:et.ZodNaN,...lt(e)});class h9 extends vt{_parse(t){const{ctx:r}=this._processInputParams(t),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class Q1 extends vt{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?Ze:s.status==="dirty"?(r.dirty(),mu(s.value)):this._def.out._parseAsync({data:s.value,path:a.path,parent:a})})();{const i=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?Ze:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:a.path,parent:a})}}static create(t,r){return new Q1({in:t,out:r,typeName:et.ZodPipeline})}}class B0 extends vt{_parse(t){const r=this._def.innerType._parse(t),a=i=>(Mc(i)&&(i.value=Object.freeze(i.value)),i);return Vp(r)?r.then(i=>a(i)):a(r)}unwrap(){return this._def.innerType}}B0.create=(e,t)=>new B0({innerType:e,typeName:et.ZodReadonly,...lt(t)});Qt.lazycreate;var et;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(et||(et={}));const Cy=ws.create;Ws.create;Qa.create;const m9=Qt.create;Qt.strictCreate;Wp.create;Hp.create;Ko.create;$c.create;Kp.create;Ms.create;Lc.create;const be=x.forwardRef(({className:e,type:t,...r},a)=>n.jsx("input",{type:t,className:je("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));be.displayName="Input";const q=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:je("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));q.displayName="Card";const X=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:je("flex flex-col space-y-1.5 p-6",e),...t}));X.displayName="CardHeader";const J=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:je("text-2xl font-semibold leading-none tracking-tight",e),...t}));J.displayName="CardTitle";const Fe=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:je("text-sm text-muted-foreground",e),...t}));Fe.displayName="CardDescription";const H=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:je("p-6 pt-0",e),...t}));H.displayName="CardContent";const p9=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:je("flex items-center p-6 pt-0",e),...t}));p9.displayName="CardFooter";var g9="Label",TR=x.forwardRef((e,t)=>n.jsx(Ue.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));TR.displayName=g9;var OR=TR;const x9=gd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),le=x.forwardRef(({className:e,...t},r)=>n.jsx(OR,{ref:r,className:je(x9(),e),...t}));le.displayName=OR.displayName;const v9=yq,_R=x.createContext({}),Ay=({...e})=>n.jsx(_R.Provider,{value:{name:e.name},children:n.jsx(Nq,{...e})}),zx=()=>{const e=x.useContext(_R),t=x.useContext(IR),{getFieldState:r,formState:a}=Bx(),i=r(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},IR=x.createContext({}),Qm=x.forwardRef(({className:e,...t},r)=>{const a=x.useId();return n.jsx(IR.Provider,{value:{id:a},children:n.jsx("div",{ref:r,className:je("space-y-2",e),...t})})});Qm.displayName="FormItem";const Xm=x.forwardRef(({className:e,...t},r)=>{const{error:a,formItemId:i}=zx();return n.jsx(le,{ref:r,className:je(a&&"text-destructive",e),htmlFor:i,...t})});Xm.displayName="FormLabel";const Jm=x.forwardRef(({...e},t)=>{const{error:r,formItemId:a,formDescriptionId:i,formMessageId:s}=zx();return n.jsx(jx,{ref:t,id:a,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...e})});Jm.displayName="FormControl";const y9=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:a}=zx();return n.jsx("p",{ref:r,id:a,className:je("text-sm text-muted-foreground",e),...t})});y9.displayName="FormDescription";const Zm=x.forwardRef(({className:e,children:t,...r},a)=>{const{error:i,formMessageId:s}=zx(),o=i?String((i==null?void 0:i.message)??""):t;return o?n.jsx("p",{ref:a,id:s,className:je("text-sm font-medium text-destructive",e),...r,children:o}):null});Zm.displayName="FormMessage";const b9=m9({name:Cy().optional(),email:Cy().email("Please enter a valid email"),password:Cy().min(8,"Password must be at least 8 characters")});function j9(){const[,e]=at(),{toast:t}=tt(),[r,a]=x.useState(!1),i=Dq({resolver:zq(b9),defaultValues:{name:"",email:"",password:""}}),s=async o=>{a(!0);try{const l=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!l.ok){const d=await l.json();throw new Error(d.error||"Signup failed")}const c=await l.json();localStorage.setItem("sessionToken",c.sessionToken),localStorage.setItem("user",JSON.stringify(c.user)),t({title:"Welcome to BJJ OS!",description:"Your account has been created successfully."}),e("/onboarding")}catch(l){console.error("Signup error:",l),t({title:"Signup Failed",description:l.message||"Something went wrong. Please try again.",variant:"destructive"}),a(!1)}};return n.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center py-12 px-6",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsx(dr,{href:"/",children:n.jsxs(Y,{variant:"ghost",className:"mb-6","data-testid":"button-back-home",children:[n.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Back to Home"]})}),n.jsxs(q,{children:[n.jsxs(X,{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-[#667eea] to-[#764ba2] flex items-center justify-center",children:n.jsx(Ql,{className:"w-8 h-8 text-white"})})}),n.jsx(J,{className:"text-2xl",children:"Start Your BJJ Journey"}),n.jsx(Fe,{children:"Create your account to chat with Prof. OS"})]}),n.jsx(H,{children:n.jsx(v9,{...i,children:n.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[n.jsx(Ay,{control:i.control,name:"name",render:({field:o})=>n.jsxs(Qm,{children:[n.jsx(Xm,{children:"Name (optional)"}),n.jsx(Jm,{children:n.jsx(be,{placeholder:"Your name",...o,"data-testid":"input-name"})}),n.jsx(Zm,{})]})}),n.jsx(Ay,{control:i.control,name:"email",render:({field:o})=>n.jsxs(Qm,{children:[n.jsx(Xm,{children:"Email"}),n.jsx(Jm,{children:n.jsx(be,{type:"email",placeholder:"your@email.com",...o,"data-testid":"input-email"})}),n.jsx(Zm,{})]})}),n.jsx(Ay,{control:i.control,name:"password",render:({field:o})=>n.jsxs(Qm,{children:[n.jsx(Xm,{children:"Password"}),n.jsx(Jm,{children:n.jsx(be,{type:"password",placeholder:"Min 8 characters",...o,"data-testid":"input-password"})}),n.jsx(Zm,{})]})}),n.jsx(Y,{type:"submit",className:"w-full bg-gradient-to-r from-[#667eea] to-[#764ba2]",disabled:r,"data-testid":"button-signup",children:r?"Creating Account...":"Start Free"}),n.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["By signing up, you agree to our"," ",n.jsx(dr,{href:"/terms",children:n.jsx("a",{className:"text-primary hover:underline",children:"Terms of Service"})})," ","and"," ",n.jsx(dr,{href:"/privacy",children:n.jsx("a",{className:"text-primary hover:underline",children:"Privacy Policy"})})]}),n.jsxs("p",{className:"text-sm text-center text-muted-foreground",children:["Already have an account?"," ",n.jsx(dr,{href:"/login",children:n.jsx("a",{className:"text-primary hover:underline font-medium","data-testid":"link-login",children:"Log in"})})]})]})})})]})]})})}const w9={small:{width:125,height:20},medium:{width:250,height:40},large:{width:400,height:64},hero:{width:500,height:80}},cC={white:{mainColor:"#FFFFFF",stripeColor:"#FFFFFF",stripeSectionColor:"#000000",showStripes:!0,needsBorder:!0},blue:{mainColor:"#2563EB",stripeColor:"#FFFFFF",stripeSectionColor:"#000000",showStripes:!0,needsBorder:!1},purple:{mainColor:"#7C3AED",stripeColor:"#FFFFFF",stripeSectionColor:"#000000",showStripes:!0,needsBorder:!1},brown:{mainColor:"#92400E",stripeColor:"#FFFFFF",stripeSectionColor:"#000000",showStripes:!0,needsBorder:!1},black:{mainColor:"#000000",stripeColor:"#FFFFFF",stripeSectionColor:"#DC2626",showStripes:!0,needsBorder:!0}},ml=[458,468,479,489];function Nd({rank:e="blue",size:t="medium",className:r="",animated:a=!1}){const i=w9[t],[s,o]=x.useState(a?"white":e);if(x.useEffect(()=>{if(!a)return;const c=["white","blue","purple","brown","black"];let d=0;o("white");const u=setInterval(()=>{d=(d+1)%c.length,o(c[d])},2e3);return()=>clearInterval(u)},[a]),!a){const c=cC[e];return n.jsxs("svg",{width:i.width,height:i.height,viewBox:"0 0 500 80",xmlns:"http://www.w3.org/2000/svg",className:r,"data-testid":`belt-icon-${e}`,style:{filter:"drop-shadow(0 4px 12px rgba(0, 0, 0, 0.4))"},children:[e==="white"&&n.jsxs(n.Fragment,{children:[n.jsx("rect",{x:"1",y:"1",width:"448",height:"78",fill:c.mainColor,stroke:"#333333",strokeWidth:"2"}),n.jsx("rect",{x:"450",y:"1",width:"49",height:"78",fill:c.stripeSectionColor,stroke:"#333333",strokeWidth:"2"}),ml.map((d,u)=>n.jsx("rect",{x:d,y:"0",width:"3",height:"80",fill:c.stripeColor},u))]}),e==="black"&&n.jsxs(n.Fragment,{children:[n.jsx("rect",{x:"1",y:"1",width:"448",height:"78",fill:c.mainColor,stroke:"#FFFFFF",strokeWidth:"2"}),n.jsx("rect",{x:"450",y:"0",width:"50",height:"80",fill:c.stripeSectionColor}),ml.map((d,u)=>n.jsx("rect",{x:d,y:"0",width:"3",height:"80",fill:c.stripeColor},u))]}),e!=="white"&&e!=="black"&&n.jsxs(n.Fragment,{children:[n.jsx("rect",{x:"0",y:"0",width:"450",height:"80",fill:c.mainColor}),n.jsx("rect",{x:"450",y:"0",width:"50",height:"80",fill:c.stripeSectionColor}),c.showStripes&&ml.map((d,u)=>n.jsx("rect",{x:d,y:"0",width:"3",height:"80",fill:c.stripeColor},u))]})]})}const l=["white","blue","purple","brown","black"];return n.jsx("svg",{width:i.width,height:i.height,viewBox:"0 0 500 80",xmlns:"http://www.w3.org/2000/svg",className:r,"data-testid":`belt-icon-${s}`,style:{filter:"drop-shadow(0 4px 12px rgba(0, 0, 0, 0.4))"},children:l.map(c=>{const d=cC[c],u=c===s;return n.jsxs("g",{style:{opacity:u?1:0,transition:"opacity 0.5s ease-in-out"},children:[c==="white"&&n.jsxs(n.Fragment,{children:[n.jsx("rect",{x:"1",y:"1",width:"448",height:"78",fill:d.mainColor,stroke:"#333333",strokeWidth:"2"}),n.jsx("rect",{x:"450",y:"1",width:"49",height:"78",fill:d.stripeSectionColor,stroke:"#333333",strokeWidth:"2"}),ml.map((f,h)=>n.jsx("rect",{x:f,y:"0",width:"3",height:"80",fill:d.stripeColor},h))]}),c==="black"&&n.jsxs(n.Fragment,{children:[n.jsx("rect",{x:"1",y:"1",width:"448",height:"78",fill:d.mainColor,stroke:"#FFFFFF",strokeWidth:"2"}),n.jsx("rect",{x:"450",y:"0",width:"50",height:"80",fill:d.stripeSectionColor}),ml.map((f,h)=>n.jsx("rect",{x:f,y:"0",width:"3",height:"80",fill:d.stripeColor},h))]}),c!=="white"&&c!=="black"&&n.jsxs(n.Fragment,{children:[n.jsx("rect",{x:"0",y:"0",width:"450",height:"80",fill:d.mainColor}),n.jsx("rect",{x:"450",y:"0",width:"50",height:"80",fill:d.stripeSectionColor}),d.showStripes&&ml.map((f,h)=>n.jsx("rect",{x:f,y:"0",width:"3",height:"80",fill:d.stripeColor},h))]})]},c)})})}function N9(){const[,e]=at(),{toast:t}=tt(),[r,a]=x.useState("email"),[i,s]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(""),[u,f]=x.useState(!1),[h,p]=x.useState(!1),[b,g]=x.useState(!0),y=async m=>{if(m.preventDefault(),d(""),!i||!i.includes("@")){d("Please enter a valid email address");return}f(!0);try{const j=await fetch("/api/auth/email/request-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}),N=await j.json();if(!j.ok){d(N.error||"Failed to send verification code");return}N.isAdmin?(p(!0),t({title:"Admin Account",description:"Please use your admin bypass code"})):t({title:"Code Sent!",description:"Check your email for the verification code"}),a("code")}catch(j){d(j.message||"Something went wrong. Please try again."),t({title:"Error",description:j.message||"Failed to send code",variant:"destructive"})}finally{f(!1)}},v=async m=>{var j;if(m.preventDefault(),d(""),!o||o.length!==6){d("Please enter the 6-digit code");return}f(!0);try{const N=await fetch("/api/auth/email/verify-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,code:o,rememberMe:b})}),w=await N.json();if(!N.ok){d(w.error||"Invalid verification code");return}await Zl(w.token),await ec(w.user);const S=((j=w.user.id)==null?void 0:j.toString())||"1";localStorage.setItem("mobileUserId",S),ir()&&await Kn.set({key:"mobileUserId",value:S}),t({title:w.isNewUser?"Welcome!":"Welcome Back!",description:w.isNewUser?"Your account has been created":"Successfully logged in"}),w.redirect?e(w.redirect):w.user.onboardingCompleted?e(ir()?"/chat":"/app/chat"):e("/mobile-onboarding")}catch(N){d(N.message||"Something went wrong. Please try again."),t({title:"Verification Failed",description:N.message||"Invalid code",variant:"destructive"})}finally{f(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-purple-950/20 to-black flex items-center justify-center p-6",children:n.jsxs("div",{className:"w-full max-w-md",children:[!ir()&&n.jsxs(Y,{variant:"outline",onClick:()=>r==="code"?a("email"):e("/"),className:"mb-8 bg-white/5 border-white/10 hover:bg-white/10","data-testid":"button-back",children:[n.jsx(Hn,{className:"w-4 h-4 mr-2"}),r==="code"?"Back":"Back to Home"]}),ir()&&r==="code"&&n.jsxs(Y,{variant:"outline",onClick:()=>a("email"),className:"mb-8 bg-white/5 border-white/10 hover:bg-white/10","data-testid":"button-back",children:[n.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center mb-6",children:n.jsx(Nd,{className:"w-16 h-16"})}),n.jsx("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:r==="email"?"Sign In":"Enter Code"}),n.jsx("p",{className:"text-gray-400",children:r==="email"?"Enter your email to get started":h?"Use your admin bypass code":"We sent a 6-digit code to your email"})]}),r==="email"&&n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"email",className:"text-white",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx($i,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx(be,{id:"email",type:"email",placeholder:"you@example.com",value:i,onChange:m=>s(m.target.value),disabled:u,className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-gray-500","data-testid":"input-email",autoFocus:!0})]})]}),c&&n.jsx("p",{className:"text-sm text-red-400","data-testid":"text-error",children:c}),n.jsx(Y,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",disabled:u||!i,"data-testid":"button-continue",children:u?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending Code..."]}):"Continue"})]}),r==="code"&&n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"code",className:"text-white",children:h?"Admin Bypass Code":"Verification Code"}),n.jsx(be,{id:"code",type:"text",placeholder:"000000",value:o,onChange:m=>l(m.target.value.replace(/\D/g,"").slice(0,6)),disabled:u,className:"text-center text-2xl tracking-widest bg-white/5 border-white/10 text-white placeholder:text-gray-500","data-testid":"input-code",autoFocus:!0,maxLength:6})]}),c&&n.jsx("p",{className:"text-sm text-red-400","data-testid":"text-error",children:c}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"rememberMe",checked:b,onChange:m=>g(m.target.checked),className:"w-4 h-4 accent-purple-600 cursor-pointer","data-testid":"checkbox-remember-me"}),n.jsx("label",{htmlFor:"rememberMe",className:"text-sm text-gray-400 cursor-pointer",children:"Keep me signed in for 30 days"})]}),n.jsx(Y,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",disabled:u||o.length!==6,"data-testid":"button-verify",children:u?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify & Continue"}),n.jsx("div",{className:"text-center",children:n.jsx("button",{type:"button",onClick:()=>{a("email"),l(""),d("")},className:"text-sm text-gray-400 hover:text-white transition-colors","data-testid":"button-resend",children:"Didn't receive it? Try again"})})]})]}),n.jsxs("div",{className:"mt-6 text-center text-sm text-gray-400 space-y-2",children:[n.jsx("div",{children:n.jsx(dr,{href:"/forgot-password",className:"hover:text-white transition-colors","data-testid":"link-forgot-password",children:"Forgot your password?"})}),n.jsx("div",{children:n.jsx(dr,{href:"/login",className:"hover:text-white transition-colors","data-testid":"link-phone-login",children:"Use phone number instead"})})]})]})})}function S9(){const[,e]=at(),{toast:t}=tt(),[r,a]=x.useState("email"),[i,s]=x.useState(""),[o,l]=x.useState(""),[c,d]=x.useState(""),[u,f]=x.useState(""),[h,p]=x.useState(!1),[b,g]=x.useState(""),[y,v]=x.useState(!1),m=async w=>{if(w.preventDefault(),g(""),!i||!i.includes("@")){g("Please enter a valid email address");return}v(!0);try{const S=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}),k=await S.json();if(!S.ok){g(k.error||"Failed to send reset code");return}t({title:"Reset Code Sent",description:"Check your email for the password reset code"}),a("code")}catch(S){g(S.message||"Something went wrong. Please try again.")}finally{v(!1)}},j=async w=>{if(w.preventDefault(),g(""),!o||o.length!==6){g("Please enter the 6-digit code");return}v(!0);try{const S=await fetch("/api/auth/verify-reset-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,code:o})}),k=await S.json();if(!S.ok){g(k.error||"Invalid code");return}a("newPassword")}catch(S){g(S.message||"Something went wrong. Please try again.")}finally{v(!1)}},N=async w=>{if(w.preventDefault(),g(""),c.length<8){g("Password must be at least 8 characters");return}if(c!==u){g("Passwords don't match");return}v(!0);try{const S=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,code:o,newPassword:c})}),k=await S.json();if(!S.ok){g(k.error||"Failed to reset password");return}t({title:"Password Reset",description:"Your password has been reset. You can now log in."}),e("/email-login")}catch(S){g(S.message||"Something went wrong. Please try again.")}finally{v(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-b from-black via-purple-950/20 to-black flex items-center justify-center p-6",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs(Y,{variant:"outline",onClick:()=>{r==="code"?a("email"):r==="newPassword"?a("code"):e("/email-login")},className:"mb-8 bg-white/5 border-white/10 hover:bg-white/10","data-testid":"button-back",children:[n.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Back"]}),n.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center mb-6",children:n.jsx(Nd,{className:"w-16 h-16"})}),n.jsxs("h1",{className:"text-3xl font-bold mb-2 bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:[r==="email"&&"Reset Password",r==="code"&&"Enter Code",r==="newPassword"&&"New Password"]}),n.jsxs("p",{className:"text-gray-400",children:[r==="email"&&"Enter your email to receive a reset code",r==="code"&&"We sent a 6-digit code to your email",r==="newPassword"&&"Enter your new password"]})]}),r==="email"&&n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"email",className:"text-white",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx($i,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx(be,{id:"email",type:"email",placeholder:"you@example.com",value:i,onChange:w=>s(w.target.value),disabled:y,className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-gray-500","data-testid":"input-email",autoFocus:!0})]})]}),b&&n.jsx("p",{className:"text-sm text-red-400","data-testid":"text-error",children:b}),n.jsx(Y,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",disabled:y||!i,"data-testid":"button-continue",children:y?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending Code..."]}):"Send Reset Code"})]}),r==="code"&&n.jsxs("form",{onSubmit:j,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"code",className:"text-white",children:"Reset Code"}),n.jsx(be,{id:"code",type:"text",placeholder:"000000",value:o,onChange:w=>l(w.target.value.replace(/\D/g,"").slice(0,6)),disabled:y,className:"text-center text-2xl tracking-widest bg-white/5 border-white/10 text-white placeholder:text-gray-500","data-testid":"input-code",autoFocus:!0,maxLength:6})]}),b&&n.jsx("p",{className:"text-sm text-red-400","data-testid":"text-error",children:b}),n.jsx(Y,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",disabled:y||o.length!==6,"data-testid":"button-verify",children:y?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify Code"})]}),r==="newPassword"&&n.jsxs("form",{onSubmit:N,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"newPassword",className:"text-white",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Wo,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx(be,{id:"newPassword",type:h?"text":"password",placeholder:"Min 8 characters",value:c,onChange:w=>d(w.target.value),disabled:y,className:"pl-10 pr-10 bg-white/5 border-white/10 text-white placeholder:text-gray-500","data-testid":"input-new-password",autoFocus:!0}),n.jsx(Y,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full text-gray-400 hover:text-white",onClick:()=>p(!h),"data-testid":"button-toggle-password",children:h?n.jsx(Is,{className:"w-4 h-4"}):n.jsx(Rr,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"confirmPassword",className:"text-white",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Wo,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),n.jsx(be,{id:"confirmPassword",type:h?"text":"password",placeholder:"Confirm password",value:u,onChange:w=>f(w.target.value),disabled:y,className:"pl-10 bg-white/5 border-white/10 text-white placeholder:text-gray-500","data-testid":"input-confirm-password"})]})]}),b&&n.jsx("p",{className:"text-sm text-red-400","data-testid":"text-error",children:b}),n.jsx(Y,{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700",disabled:y||!c||!u,"data-testid":"button-reset",children:y?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Resetting..."]}):"Reset Password"})]})]}),n.jsx("div",{className:"mt-6 text-center text-sm text-gray-400",children:n.jsx(dr,{href:"/email-login",className:"hover:text-white transition-colors","data-testid":"link-login",children:"Back to login"})})]})})}var Ou;(function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"})(Ou||(Ou={}));var _u;(function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"})(_u||(_u={}));const ci=wd("Haptics",{web:()=>xh(()=>import("./web-NjB9psHR.js"),[]).then(e=>new e.HapticsWeb)});async function Be(e="light"){if(Rc.isNativePlatform())try{switch(e){case"light":await ci.impact({style:Ou.Light});break;case"medium":await ci.impact({style:Ou.Medium});break;case"heavy":await ci.impact({style:Ou.Heavy});break;case"success":await ci.notification({type:_u.Success});break;case"warning":await ci.notification({type:_u.Warning});break;case"error":await ci.notification({type:_u.Error});break;case"selection":await ci.selectionStart(),await ci.selectionChanged(),await ci.selectionEnd();break}}catch(t){console.warn("Haptics not available:",t)}}function k9(){const[,e]=at(),{toast:t}=tt(),[r,a]=x.useState(""),[i,s]=x.useState(""),[o,l]=x.useState(!1),[c,d]=x.useState(""),[u,f]=x.useState(!1),[h,p]=x.useState(!1),b=async y=>{var v,m,j;if(y.preventDefault(),d(""),Be("light"),!r||!r.includes("@")){d("Please enter a valid email address"),Be("error");return}if(!i||i.length<1){d("Please enter your password"),Be("error");return}f(!0);try{const N=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:i})}),w=await N.json();if(!N.ok){if(f(!1),w.error==="NO_PASSWORD_SET"){p(!0),Be("warning");return}d(w.error||"Invalid email or password"),Be("error");return}Be("success"),w.sessionToken&&await Zl(w.sessionToken),w.user&&(await ec(w.user),localStorage.setItem("mobileUserId",((v=w.user.id)==null?void 0:v.toString())||"1"),await Kn.set({key:"mobileUserId",value:((m=w.user.id)==null?void 0:m.toString())||"1"})),t({title:"Welcome back!",description:"You're now signed in"}),(j=w.user)!=null&&j.onboardingCompleted?e("/chat"):e("/onboarding")}catch(N){d(N.message||"Something went wrong. Please try again."),Be("error"),t({title:"Error",description:N.message||"Failed to sign in",variant:"destructive"})}finally{f(!1)}},g=()=>{Be("light"),e("/ios-forgot-password")};return h?n.jsx("div",{className:"min-h-screen bg-[#0A0A0B] flex flex-col items-center justify-center p-6 ios-safe-area",children:n.jsxs("div",{className:"w-full max-w-sm space-y-6 text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto bg-yellow-500/20 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-8 h-8 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h2",{className:"text-xl font-bold text-white",children:"Password Not Set Up"}),n.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Your account uses email verification codes. To use the iOS app, you need to set up a password first."}),n.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"Visit bjjos.app/settings to set up your password, then return here to sign in."}),n.jsx(Y,{onClick:()=>{Be("light"),p(!1)},className:"w-full bg-white text-black hover:bg-gray-200","data-testid":"button-ok",children:"OK"})]})}):n.jsx("div",{className:"min-h-screen bg-[#0A0A0B] flex flex-col items-center justify-center p-6 ios-safe-area",children:n.jsxs("div",{className:"w-full max-w-sm space-y-8",children:[n.jsx("div",{className:"text-center",children:n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"h-12 w-auto mx-auto"})}),n.jsxs("form",{onSubmit:b,className:"space-y-4",children:[n.jsx("div",{className:"space-y-2",children:n.jsx(be,{type:"email",placeholder:"Email",value:r,onChange:y=>a(y.target.value),className:"h-12 bg-[#1A1A1B] border-[#2A2A2B] text-white placeholder:text-gray-500 rounded-lg",autoComplete:"email",autoCapitalize:"none","data-testid":"input-email"})}),n.jsxs("div",{className:"space-y-2 relative",children:[n.jsx(be,{type:o?"text":"password",placeholder:"Password",value:i,onChange:y=>s(y.target.value),className:"h-12 bg-[#1A1A1B] border-[#2A2A2B] text-white placeholder:text-gray-500 rounded-lg pr-12",autoComplete:"current-password","data-testid":"input-password"}),n.jsx("button",{type:"button",onClick:()=>{Be("light"),l(!o)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white","data-testid":"button-toggle-password",children:o?n.jsx(Is,{className:"w-5 h-5"}):n.jsx(Rr,{className:"w-5 h-5"})})]}),c&&n.jsx("p",{className:"text-red-500 text-sm text-center","data-testid":"text-error",children:c}),n.jsx(Y,{type:"submit",disabled:u,className:"w-full h-12 bg-white text-black font-semibold hover:bg-gray-200 rounded-lg","data-testid":"button-sign-in",children:u?n.jsx(ze,{className:"w-5 h-5 animate-spin"}):"Sign In"})]}),n.jsx("div",{className:"text-center",children:n.jsx("button",{type:"button",onClick:g,onTouchEnd:y=>{y.preventDefault(),g()},className:"text-gray-400 text-sm hover:text-white transition-colors py-2 px-4","data-testid":"link-forgot-password",children:"Forgot password?"})}),n.jsx("div",{className:"border-t border-[#2A2A2B] pt-6",children:n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("p",{className:"text-gray-400 text-sm",children:"Don't have an account?"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Visit bjjos.app to get started"})]})})]})})}function C9(){const[,e]=at(),{toast:t}=tt(),[r,a]=x.useState(""),[i,s]=x.useState(""),[o,l]=x.useState(!1),c=async d=>{if(d.preventDefault(),s(""),Be("light"),!r||!r.includes("@")){s("Please enter a valid email address"),Be("error");return}l(!0);try{const u=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.toLowerCase().trim()})}),f=await u.json();if(!u.ok){s(f.error||"Failed to send reset code"),Be("error");return}Be("success"),t({title:"Code sent!",description:"Check your email for the reset code"}),e(`/ios-verify-reset?email=${encodeURIComponent(r.toLowerCase().trim())}`)}catch(u){s(u.message||"Something went wrong. Please try again."),Be("error")}finally{l(!1)}};return n.jsx("div",{className:"min-h-screen bg-[#0A0A0B] flex flex-col items-center justify-center p-6 ios-safe-area",children:n.jsxs("div",{className:"w-full max-w-sm space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"h-12 w-auto mx-auto mb-6"}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Reset Password"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Enter your email and we'll send you a code to reset your password."})]}),n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsx("div",{className:"space-y-2",children:n.jsx(be,{type:"email",placeholder:"Email",value:r,onChange:d=>a(d.target.value),className:"h-12 bg-[#1A1A1B] border-[#2A2A2B] text-white placeholder:text-gray-500 rounded-lg",autoComplete:"email",autoCapitalize:"none","data-testid":"input-email"})}),i&&n.jsx("p",{className:"text-red-500 text-sm text-center","data-testid":"text-error",children:i}),n.jsx(Y,{type:"submit",disabled:o,className:"w-full h-12 bg-white text-black font-semibold hover:bg-gray-200 rounded-lg","data-testid":"button-send-code",children:o?n.jsx(ze,{className:"w-5 h-5 animate-spin"}):"Send Reset Code"})]}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{type:"button",onClick:()=>{Be("light"),e("/ios-login")},className:"text-gray-400 text-sm hover:text-white transition-colors inline-flex items-center gap-2","data-testid":"link-back-to-login",children:[n.jsx(Hn,{className:"w-4 h-4"}),"Back to Sign In"]})})]})})}function A9(){const[,e]=at(),t=c4(),{toast:r}=tt(),i=new URLSearchParams(t).get("email")||"",[s,o]=x.useState(["","","","","",""]),[l,c]=x.useState(""),[d,u]=x.useState(!1),[f,h]=x.useState(!1),p=x.useRef([]);x.useEffect(()=>{i||e("/ios-forgot-password")},[i,e]);const b=(j,N)=>{var S;if(N.length>1&&(N=N.slice(-1)),!/^\d*$/.test(N))return;const w=[...s];w[j]=N,o(w),N&&j<5&&((S=p.current[j+1])==null||S.focus())},g=(j,N)=>{var w;N.key==="Backspace"&&!s[j]&&j>0&&((w=p.current[j-1])==null||w.focus())},y=j=>{var w;j.preventDefault();const N=j.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);N.length===6&&(o(N.split("")),(w=p.current[5])==null||w.focus())},v=async j=>{j.preventDefault(),c(""),Be("light");const N=s.join("");if(N.length!==6){c("Please enter the 6-digit code"),Be("error");return}u(!0);try{const w=await fetch("/api/auth/verify-reset-code",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,code:N})}),S=await w.json();if(!w.ok){c(S.error||"Invalid or expired code"),Be("error");return}Be("success"),e(`/ios-reset-password?email=${encodeURIComponent(i)}&code=${N}`)}catch(w){c(w.message||"Something went wrong. Please try again."),Be("error")}finally{u(!1)}},m=async()=>{h(!0),Be("light");try{(await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})})).ok&&(r({title:"Code resent!",description:"Check your email for the new code"}),Be("success"))}catch{r({title:"Failed to resend",description:"Please try again",variant:"destructive"})}finally{h(!1)}};return n.jsx("div",{className:"min-h-screen bg-[#0A0A0B] flex flex-col items-center justify-center p-6 ios-safe-area",children:n.jsxs("div",{className:"w-full max-w-sm space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"h-12 w-auto mx-auto mb-6"}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Enter Code"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"We sent a 6-digit code to your email."})]}),n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsx("div",{className:"flex justify-center gap-2",onPaste:y,children:s.map((j,N)=>n.jsx("input",{ref:w=>{p.current[N]=w},type:"text",inputMode:"numeric",maxLength:1,value:j,onChange:w=>b(N,w.target.value),onKeyDown:w=>g(N,w),className:"w-12 h-14 text-center text-2xl font-bold bg-[#1A1A1B] border border-[#2A2A2B] text-white rounded-lg focus:border-purple-500 focus:ring-1 focus:ring-purple-500 outline-none","data-testid":`input-code-${N}`},N))}),l&&n.jsx("p",{className:"text-red-500 text-sm text-center","data-testid":"text-error",children:l}),n.jsx(Y,{type:"submit",disabled:d,className:"w-full h-12 bg-white text-black font-semibold hover:bg-gray-200 rounded-lg","data-testid":"button-verify-code",children:d?n.jsx(ze,{className:"w-5 h-5 animate-spin"}):"Verify Code"})]}),n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("button",{type:"button",onClick:m,disabled:f,className:"text-gray-400 text-sm hover:text-white transition-colors","data-testid":"button-resend-code",children:f?"Sending...":"Didn't receive it? Send again"}),n.jsx("div",{children:n.jsxs("button",{type:"button",onClick:()=>{Be("light"),e("/ios-forgot-password")},className:"text-gray-400 text-sm hover:text-white transition-colors inline-flex items-center gap-2","data-testid":"link-back",children:[n.jsx(Hn,{className:"w-4 h-4"}),"Back"]})})]})]})})}function P9(){const[,e]=at(),t=c4(),{toast:r}=tt(),a=new URLSearchParams(t),i=a.get("email")||"",s=a.get("code")||"",[o,l]=x.useState(""),[c,d]=x.useState(""),[u,f]=x.useState(!1),[h,p]=x.useState(!1),[b,g]=x.useState(""),[y,v]=x.useState(!1),[m,j]=x.useState(!1);x.useEffect(()=>{(!i||!s)&&e("/ios-forgot-password")},[i,s,e]);const N=async w=>{if(w.preventDefault(),g(""),Be("light"),o.length<8){g("Password must be at least 8 characters"),Be("error");return}if(o!==c){g("Passwords don't match"),Be("error");return}v(!0);try{const S=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,code:s,newPassword:o})}),k=await S.json();if(!S.ok){g(k.error||"Failed to reset password"),Be("error");return}Be("success"),j(!0),r({title:"Password reset!",description:"You can now sign in with your new password"})}catch(S){g(S.message||"Something went wrong. Please try again."),Be("error")}finally{v(!1)}};return m?n.jsx("div",{className:"min-h-screen bg-[#0A0A0B] flex flex-col items-center justify-center p-6 ios-safe-area",children:n.jsxs("div",{className:"w-full max-w-sm space-y-6 text-center",children:[n.jsx("div",{className:"w-16 h-16 mx-auto bg-green-500/20 rounded-full flex items-center justify-center",children:n.jsx(Ta,{className:"w-8 h-8 text-green-500"})}),n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Success!"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Your password has been reset. You can now sign in with your new password."}),n.jsx(Y,{onClick:()=>{Be("light"),e("/ios-login")},className:"w-full h-12 bg-white text-black font-semibold hover:bg-gray-200 rounded-lg","data-testid":"button-back-to-login",children:"Back to Sign In"})]})}):n.jsx("div",{className:"min-h-screen bg-[#0A0A0B] flex flex-col items-center justify-center p-6 ios-safe-area",children:n.jsxs("div",{className:"w-full max-w-sm space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"h-12 w-auto mx-auto mb-6"}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Set New Password"})]}),n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2 relative",children:[n.jsx(be,{type:u?"text":"password",placeholder:"New Password",value:o,onChange:w=>l(w.target.value),className:"h-12 bg-[#1A1A1B] border-[#2A2A2B] text-white placeholder:text-gray-500 rounded-lg pr-12",autoComplete:"new-password","data-testid":"input-password"}),n.jsx("button",{type:"button",onClick:()=>{Be("light"),f(!u)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white","data-testid":"button-toggle-password",children:u?n.jsx(Is,{className:"w-5 h-5"}):n.jsx(Rr,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"space-y-2 relative",children:[n.jsx(be,{type:h?"text":"password",placeholder:"Confirm Password",value:c,onChange:w=>d(w.target.value),className:"h-12 bg-[#1A1A1B] border-[#2A2A2B] text-white placeholder:text-gray-500 rounded-lg pr-12",autoComplete:"new-password","data-testid":"input-confirm-password"}),n.jsx("button",{type:"button",onClick:()=>{Be("light"),p(!h)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white","data-testid":"button-toggle-confirm-password",children:h?n.jsx(Is,{className:"w-5 h-5"}):n.jsx(Rr,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-gray-500 text-xs",children:"Password must be at least 8 characters"}),b&&n.jsx("p",{className:"text-red-500 text-sm text-center","data-testid":"text-error",children:b}),n.jsx(Y,{type:"submit",disabled:y,className:"w-full h-12 bg-white text-black font-semibold hover:bg-gray-200 rounded-lg","data-testid":"button-save-password",children:y?n.jsx(ze,{className:"w-5 h-5 animate-spin"}):"Save Password"})]})]})})}function E9(){const[,e]=at(),{toast:t}=tt(),a=new URLSearchParams(window.location.search).get("token")||"",[i,s]=x.useState(!1),[o,l]=x.useState(!0),[c,d]=x.useState(""),[u,f]=x.useState(""),[h,p]=x.useState(""),[b,g]=x.useState(""),[y,v]=x.useState(""),[m,j]=x.useState(""),[N,w]=x.useState(""),[S,k]=x.useState(""),[C,A]=x.useState(""),[O,I]=x.useState(""),[P,R]=x.useState(""),[$,E]=x.useState(!1),[_,M]=x.useState(null),[T,D]=x.useState(!1);x.useEffect(()=>{window.scrollTo(0,0),B()},[]);const B=async()=>{if(!a){l(!1),t({variant:"destructive",title:"Invalid Link",description:"No invitation token found. Please use the link from your invitation email."});return}try{const ve=await(await ut("GET",`/api/auth/validate-lifetime-invite?token=${a}`)).json();ve.success&&ve.email?(s(!0),d(ve.email)):t({variant:"destructive",title:"Invalid Invitation",description:ve.error||"This invitation link is invalid or has expired."})}catch{t({variant:"destructive",title:"Error",description:"Failed to validate invitation link"})}finally{l(!1)}};x.useEffect(()=>{if(!h||h.length<3){M(null);return}const oe=setTimeout(async()=>{D(!0);try{const ce=await(await ut("POST","/api/auth/check-username",{username:h})).json();ce.available?(M(!0),A("")):(M(!1),A(ce.message||"Username is already taken"))}catch(ve){console.error("Username check error:",ve)}finally{D(!1)}},500);return()=>clearTimeout(oe)},[h]);const ee=()=>{let oe=!0;return u.trim()?k(""):(k("First name is required"),oe=!1),!h||h.length<3?(A("Username must be at least 3 characters"),oe=!1):/^[a-zA-Z0-9_]+$/.test(h)?_!==!0&&(A(_===!1?"Username is already taken":"Please wait while we check username availability"),oe=!1):(A("Username can only contain letters, numbers, and underscores"),oe=!1),m||(t({variant:"destructive",title:"Missing Information",description:"Please select what technique you struggle with most"}),oe=!1),N||(t({variant:"destructive",title:"Missing Information",description:"Please select your primary training style"}),oe=!1),!b||b.length<8?(I("Password must be at least 8 characters"),oe=!1):I(""),b!==y?(R("Passwords do not match"),oe=!1):R(""),oe},re=async oe=>{if(oe.preventDefault(),!!ee()){if(_===!1){t({variant:"destructive",title:"Username Taken",description:"Please choose a different username"});return}E(!0);try{const ce=await(await ut("POST","/api/auth/signup-with-lifetime-invite",{token:a,firstName:u.trim(),username:h.trim(),password:b,struggleArea:m,trainingFocus:N})).json();ce.success?(t({title:"Welcome to BJJ OS!",description:"Your lifetime access account has been created successfully."}),localStorage.setItem("sessionToken",ce.token),setTimeout(()=>{e("/welcome/lifetime")},1e3)):t({variant:"destructive",title:"Signup Failed",description:ce.error||"Failed to create your account. Please try again."})}catch(ve){t({variant:"destructive",title:"Error",description:ve.message||"Failed to create account"})}finally{E(!1)}}};return o?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsx(q,{className:"w-full max-w-md",children:n.jsxs(H,{className:"pt-6 text-center",children:[n.jsx(ze,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Validating your invitation..."})]})})}):i?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsxs(q,{className:"w-full max-w-md",children:[n.jsxs(X,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:n.jsx(Ta,{className:"h-6 w-6 text-primary"})}),n.jsx(J,{children:"Activate Lifetime Access"}),n.jsx(Fe,{children:"Complete your signup to get lifetime access to BJJ OS - free forever."})]}),n.jsx(H,{children:n.jsxs("form",{onSubmit:re,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"email","data-testid":"label-email",children:"Email Address"}),n.jsx(be,{id:"email",type:"email",value:c,disabled:!0,readOnly:!0,className:"bg-muted","data-testid":"input-email"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"This email is from your invitation"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"firstName","data-testid":"label-first-name",children:"First Name *"}),n.jsx(be,{id:"firstName",type:"text",value:u,onChange:oe=>f(oe.target.value),placeholder:"John",required:!0,"data-testid":"input-first-name"}),S&&n.jsx("p",{className:"text-sm text-destructive",children:S})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"username","data-testid":"label-username",children:"Username *"}),n.jsxs("div",{className:"relative",children:[n.jsx(be,{id:"username",type:"text",value:h,onChange:oe=>{p(oe.target.value.toLowerCase()),M(null),A("")},placeholder:"johndoe",required:!0,"data-testid":"input-username"}),T&&n.jsx(ze,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"}),!T&&_===!0&&h.length>=3&&n.jsx(Ta,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-green-500"}),!T&&_===!1&&n.jsx(Tn,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-destructive"})]}),C&&n.jsx("p",{className:"text-sm text-destructive",children:C}),!C&&h.length>=3&&_===!0&&n.jsx("p",{className:"text-sm text-green-600",children:"Username is available"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"What technique do you struggle with most? *"}),n.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"This helps Professor OS give you personalized guidance"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx(Y,{type:"button",variant:m==="guard_passing"?"default":"outline",className:"h-auto py-3",onClick:()=>j("guard_passing"),"data-testid":"button-struggle-guard-passing",children:"Guard Passing"}),n.jsx(Y,{type:"button",variant:m==="guard_retention"?"default":"outline",className:"h-auto py-3",onClick:()=>j("guard_retention"),"data-testid":"button-struggle-guard-retention",children:"Guard Retention"}),n.jsx(Y,{type:"button",variant:m==="takedowns"?"default":"outline",className:"h-auto py-3",onClick:()=>j("takedowns"),"data-testid":"button-struggle-takedowns",children:"Takedowns"}),n.jsx(Y,{type:"button",variant:m==="submissions"?"default":"outline",className:"h-auto py-3",onClick:()=>j("submissions"),"data-testid":"button-struggle-submissions",children:"Submissions"}),n.jsx(Y,{type:"button",variant:m==="escapes"?"default":"outline",className:"h-auto py-3",onClick:()=>j("escapes"),"data-testid":"button-struggle-escapes",children:"Escapes"}),n.jsx(Y,{type:"button",variant:m==="transitions"?"default":"outline",className:"h-auto py-3",onClick:()=>j("transitions"),"data-testid":"button-struggle-transitions",children:"Transitions"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"What do you primarily train? *"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx(Y,{type:"button",variant:N==="gi"?"default":"outline",className:"h-auto py-3",onClick:()=>w("gi"),"data-testid":"button-training-gi",children:"Gi"}),n.jsx(Y,{type:"button",variant:N==="nogi"?"default":"outline",className:"h-auto py-3",onClick:()=>w("nogi"),"data-testid":"button-training-nogi",children:"No-Gi"}),n.jsx(Y,{type:"button",variant:N==="both"?"default":"outline",className:"h-auto py-3",onClick:()=>w("both"),"data-testid":"button-training-both",children:"Both"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"password","data-testid":"label-password",children:"Password *"}),n.jsx(be,{id:"password",type:"password",value:b,onChange:oe=>g(oe.target.value),placeholder:"At least 8 characters",required:!0,"data-testid":"input-password"}),O&&n.jsx("p",{className:"text-sm text-destructive",children:O})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"confirmPassword","data-testid":"label-confirm-password",children:"Confirm Password *"}),n.jsx(be,{id:"confirmPassword",type:"password",value:y,onChange:oe=>v(oe.target.value),placeholder:"Re-enter your password",required:!0,"data-testid":"input-confirm-password"}),P&&n.jsx("p",{className:"text-sm text-destructive",children:P})]}),n.jsx(Y,{type:"submit",className:"w-full",disabled:$||_!==!0||T||!m||!N,"data-testid":"button-activate-lifetime-access",children:$?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Your Account..."]}):"Activate Lifetime Access"})]})})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsxs(q,{className:"w-full max-w-md",children:[n.jsxs(X,{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-destructive/10 flex items-center justify-center mb-4",children:n.jsx(Tn,{className:"h-6 w-6 text-destructive"})}),n.jsx(J,{children:"Invalid Invitation"}),n.jsx(Fe,{children:"This invitation link is invalid or has expired. Please contact support if you believe this is an error."})]}),n.jsx(H,{children:n.jsx(Y,{variant:"outline",className:"w-full",onClick:()=>e("/"),"data-testid":"button-back-home",children:"Back to Home"})})]})})}const T9=gd("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function ae({className:e,variant:t,...r}){return n.jsx("div",{className:je(T9({variant:t}),e),...r})}function O9(){const[,e]=at(),t=["Unlimited Professor OS conversations","Complete curated video library (2,000+ techniques)","Personalized recommendations for your game","Training session tracking & progress","All future features & updates","Priority support"];return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 p-6",children:n.jsx(q,{className:"w-full max-w-2xl border-primary/20 shadow-2xl",children:n.jsxs(H,{className:"p-8 md:p-12",children:[n.jsxs("div",{className:"text-center space-y-6 mb-8",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx(Ql,{className:"h-16 w-16 text-primary animate-pulse"})}),n.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent",children:"Welcome to BJJ OS! "}),n.jsx("div",{className:"flex justify-center",children:n.jsx(ae,{variant:"default",className:"px-6 py-2 text-sm font-semibold tracking-wider bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90",children:"LIFETIME ACCESS"})})]}),n.jsxs("div",{className:"space-y-6 mb-8",children:[n.jsx("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Your lifetime membership includes:"}),n.jsx("div",{className:"space-y-3",children:t.map((r,a)=>n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover-elevate border border-border/50","data-testid":`benefit-item-${a}`,children:[n.jsx("div",{className:"mt-0.5 shrink-0",children:n.jsx("div",{className:"h-5 w-5 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(zr,{className:"h-3.5 w-3.5 text-primary"})})}),n.jsx("p",{className:"text-base text-foreground",children:r})]},a))}),n.jsx("div",{className:"mt-8 p-4 rounded-lg bg-primary/10 border border-primary/20",children:n.jsx("p",{className:"text-center text-lg font-semibold text-primary",children:"No expiration. No monthly fees. Ever."})})]}),n.jsx("div",{className:"flex justify-center pt-4",children:n.jsx(Y,{size:"lg",onClick:()=>e("/onboarding"),className:"px-12 py-6 text-lg font-semibold bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90","data-testid":"button-start-training",children:"Continue "})})]})})})}const on=x.forwardRef(({className:e,variant:t="primary",size:r="default",children:a,...i},s)=>n.jsx("button",{className:je("inline-flex items-center justify-center gap-2 rounded-xl font-semibold transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed",r==="default"&&"px-10 py-4 text-lg",r==="lg"&&"px-12 py-5 text-xl",t==="primary"&&["bjj-gradient-bg text-white border-none","hover:-translate-y-0.5 hover:bjj-hero-shadow","active:translate-y-0"],t==="secondary"&&["bg-transparent border-2 border-[hsl(var(--bjj-primary-purple))] text-[hsl(var(--bjj-text-primary))]","hover:-translate-y-0.5 hover:bg-[hsl(var(--bjj-primary-purple)_/_0.1)]","active:translate-y-0"],t==="outline"&&["bg-transparent border-2 border-[hsl(var(--border))] text-[hsl(var(--foreground))]","hover:-translate-y-0.5 hover:border-[hsl(var(--bjj-primary-purple))]","active:translate-y-0"],e),ref:s,...i,children:a}));on.displayName="BJJButton";function _9(){const[,e]=at(),{toast:t}=tt(),[r,a]=x.useState("name"),[i,s]=x.useState(!1),{data:o}=ue({queryKey:["/api/auth/me"]});x.useEffect(()=>{o&&o.onboardingCompleted&&(console.log("[ONBOARDING] User already completed onboarding, redirecting to /chat"),e("/chat"))},[o,e]);const[l,c]=x.useState(""),[d,u]=x.useState(""),[f,h]=x.useState(null),[p,b]=x.useState(!1),[g,y]=x.useState(null),[v,m]=x.useState(null),[j,N]=x.useState(null),[w,S]=x.useState(null),[k,C]=x.useState(null),A=()=>{switch(r){case"name":return 1;case"username":return 2;case"belt":return 3;case"years":return 4;case"frequency":return 5;case"struggle":return 6;case"style":return 7;default:return 1}},O=async B=>{if(!B||B.length<3){h(null);return}b(!0);try{const re=await(await ut("GET",`/api/auth/check-username?username=${encodeURIComponent(B)}`)).json();h(re.available)}catch{h(null)}finally{b(!1)}};x.useEffect(()=>{const B=setTimeout(()=>{d&&O(d)},500);return()=>clearTimeout(B)},[d]);const I=()=>{if(!l.trim()){t({title:"Name Required",description:"Please enter your first name",variant:"destructive"});return}a("username")},P=()=>{if(!d.trim()){t({title:"Username Required",description:"Please enter a username",variant:"destructive"});return}if(d.length<3){t({title:"Username Too Short",description:"Username must be at least 3 characters",variant:"destructive"});return}if(!f){t({title:"Username Unavailable",description:"This username is already taken",variant:"destructive"});return}a("belt")},R=()=>{if(!g){t({title:"Selection Required",description:"Please select your current belt level",variant:"destructive"});return}a("years")},$=()=>{if(!v){t({title:"Selection Required",description:"Please select how long you've been training",variant:"destructive"});return}a("frequency")},E=()=>{if(!j){t({title:"Selection Required",description:"Please select how often you train",variant:"destructive"});return}a("struggle")},_=()=>{if(!w){t({title:"Selection Required",description:"Please select what you struggle with most",variant:"destructive"});return}a("style")},M=async()=>{if(!k){t({title:"Selection Required",description:"Please select your training style",variant:"destructive"});return}s(!0);try{console.log("[ONBOARDING] Submitting data:",{displayName:l.trim(),username:d.trim(),beltLevel:g,yearsTrainingRange:v,trainingFrequencyText:j,struggleAreaCategory:w,style:k}),await ut("PATCH","/api/auth/profile",{displayName:l.trim(),username:d.trim(),beltLevel:g,yearsTrainingRange:v,trainingFrequencyText:j,struggleAreaCategory:w,style:k,onboardingCompleted:!0}),console.log("[ONBOARDING] Profile updated, invalidating cache and refetching..."),await Pe.invalidateQueries({queryKey:["/api/auth/me"]}),await Pe.refetchQueries({queryKey:["/api/auth/me"]}),console.log("[ONBOARDING] Cache refreshed, user data now has onboardingCompleted=true"),t({title:"Profile Complete!",description:"Moving to payment setup..."}),e("/payment")}catch(B){t({title:"Error",description:B.message||"Failed to save preferences",variant:"destructive"}),s(!1)}},T=()=>{r==="username"?a("name"):r==="belt"?a("username"):r==="years"?a("belt"):r==="frequency"?a("years"):r==="struggle"?a("frequency"):r==="style"&&a("struggle")},D=[{value:"guard_passing",label:"Guard Passing"},{value:"guard_retention",label:"Guard Retention"},{value:"takedowns",label:"Takedowns"},{value:"submissions",label:"Submissions"},{value:"escapes",label:"Escapes"},{value:"transitions",label:"Transitions"},{value:"other",label:"Other"}];return n.jsxs("div",{className:"onboarding-page",children:[n.jsxs("div",{className:"onboarding-container",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center mb-6",children:n.jsx(Nd,{className:"w-16 h-16"})}),n.jsx("h1",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-[hsl(var(--bjj-primary-purple))] to-[hsl(var(--bjj-primary-blue))] bg-clip-text text-transparent",children:"Welcome to BJJ OS"}),n.jsx("p",{className:"text-[hsl(var(--bjj-text-secondary))] text-lg",children:"Let's personalize your training experience"})]}),n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("span",{className:"text-sm text-[hsl(var(--bjj-text-secondary))]",children:["Step ",A()," of 7"]}),n.jsxs("span",{className:"text-sm text-[hsl(var(--bjj-text-secondary))]",children:[Math.round(A()/7*100),"% complete"]})]}),n.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden","data-testid":"progress-bar",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-[hsl(var(--bjj-primary-purple))] to-[hsl(var(--bjj-primary-blue))] transition-all duration-300",style:{width:`${A()/7*100}%`}})})]}),r==="name"&&n.jsxs("div",{className:"onboarding-step",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"What's your first name?"}),n.jsx("p",{className:"text-[hsl(var(--bjj-text-secondary))] mb-6",children:"How should Professor OS address you?"}),n.jsx(be,{type:"text",placeholder:"Enter your first name",value:l,onChange:B=>c(B.target.value),onKeyPress:B=>B.key==="Enter"&&I(),autoFocus:!0,className:"mb-6 bg-black/50 border-white/10 text-white placeholder:text-white/40","data-testid":"input-name"}),n.jsx(on,{onClick:I,disabled:!l.trim(),className:"w-full","data-testid":"button-next-name",children:"Continue"})]}),r==="username"&&n.jsxs("div",{className:"onboarding-step",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Choose a username"}),n.jsx("p",{className:"text-[hsl(var(--bjj-text-secondary))] mb-6",children:"Lowercase letters, numbers, and underscores only"}),n.jsxs("div",{className:"relative mb-6",children:[n.jsx(be,{type:"text",placeholder:"e.g., blackbelt123",value:d,onChange:B=>u(B.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")),onKeyPress:B=>B.key==="Enter"&&P(),autoFocus:!0,className:"bg-black/50 border-white/10 text-white placeholder:text-white/40 pr-10","data-testid":"input-username"}),p&&n.jsx(ze,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40 animate-spin"}),!p&&f===!0&&n.jsx(zr,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500","data-testid":"icon-username-available"}),!p&&f===!1&&n.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500 font-bold","data-testid":"icon-username-taken",children:""})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(on,{variant:"outline",onClick:T,"data-testid":"button-back",children:"Back"}),n.jsx(on,{onClick:P,disabled:!d.trim()||!f,className:"flex-1","data-testid":"button-next-username",children:"Continue"})]})]}),r==="belt"&&n.jsxs("div",{className:"onboarding-step",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"What belt are you?"}),n.jsx("p",{className:"text-[hsl(var(--bjj-text-secondary))] mb-6",children:"Select your current rank"}),n.jsx("div",{className:"grid grid-cols-1 gap-3 mb-6",children:["white","blue","purple","brown","black"].map(B=>n.jsx("button",{onClick:()=>y(B),className:`p-4 rounded-lg border-2 transition-all ${g===B?"border-[hsl(var(--bjj-primary-purple))] bg-[hsl(var(--bjj-primary-purple))]/10":"border-white/10 bg-black/30 hover:border-white/20"}`,"data-testid":`button-belt-${B}`,children:n.jsxs("span",{className:"text-white font-medium capitalize",children:[B," Belt"]})},B))}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(on,{variant:"outline",onClick:T,"data-testid":"button-back",children:"Back"}),n.jsx(on,{onClick:R,disabled:!g,className:"flex-1","data-testid":"button-next-belt",children:"Continue"})]})]}),r==="years"&&n.jsxs("div",{className:"onboarding-step",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"How long have you been training?"}),n.jsx("p",{className:"text-[hsl(var(--bjj-text-secondary))] mb-6",children:"Select your training experience"}),n.jsx("div",{className:"grid grid-cols-1 gap-3 mb-6",children:["<6mo","6mo-1yr","1-2yr","2-5yr","5-10yr","10+yr"].map(B=>n.jsx("button",{onClick:()=>m(B),className:`p-4 rounded-lg border-2 transition-all ${v===B?"border-[hsl(var(--bjj-primary-purple))] bg-[hsl(var(--bjj-primary-purple))]/10":"border-white/10 bg-black/30 hover:border-white/20"}`,"data-testid":`button-years-${B}`,children:n.jsx("span",{className:"text-white font-medium",children:B})},B))}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(on,{variant:"outline",onClick:T,"data-testid":"button-back",children:"Back"}),n.jsx(on,{onClick:$,disabled:!v,className:"flex-1","data-testid":"button-next-years",children:"Continue"})]})]}),r==="frequency"&&n.jsxs("div",{className:"onboarding-step",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"How often do you train?"}),n.jsx("p",{className:"text-[hsl(var(--bjj-text-secondary))] mb-6",children:"Times per week"}),n.jsx("div",{className:"grid grid-cols-1 gap-3 mb-6",children:["1-2x","3-4x","5+x"].map(B=>n.jsx("button",{onClick:()=>N(B),className:`p-4 rounded-lg border-2 transition-all ${j===B?"border-[hsl(var(--bjj-primary-purple))] bg-[hsl(var(--bjj-primary-purple))]/10":"border-white/10 bg-black/30 hover:border-white/20"}`,"data-testid":`button-frequency-${B}`,children:n.jsxs("span",{className:"text-white font-medium",children:[B," per week"]})},B))}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(on,{variant:"outline",onClick:T,"data-testid":"button-back",children:"Back"}),n.jsx(on,{onClick:E,disabled:!j,className:"flex-1","data-testid":"button-next-frequency",children:"Continue"})]})]}),r==="struggle"&&n.jsxs("div",{className:"onboarding-step",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"What technique do you struggle with most?"}),n.jsx("p",{className:"text-[hsl(var(--bjj-text-secondary))] mb-6",children:"This helps Professor OS give you personalized guidance"}),n.jsx("div",{className:"grid grid-cols-1 gap-3 mb-6",children:D.map(B=>n.jsx("button",{onClick:()=>S(B.value),className:`p-4 rounded-lg border-2 transition-all ${w===B.value?"border-[hsl(var(--bjj-primary-purple))] bg-[hsl(var(--bjj-primary-purple))]/10":"border-white/10 bg-black/30 hover:border-white/20"}`,"data-testid":`button-struggle-${B.value}`,children:n.jsx("span",{className:"text-white font-medium",children:B.label})},B.value))}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(on,{variant:"outline",onClick:T,"data-testid":"button-back",children:"Back"}),n.jsx(on,{onClick:_,disabled:!w,className:"flex-1","data-testid":"button-next-struggle",children:"Continue"})]})]}),r==="style"&&n.jsxs("div",{className:"onboarding-step",children:[n.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"What do you primarily train?"}),n.jsx("p",{className:"text-[hsl(var(--bjj-text-secondary))] mb-6",children:"Choose your training focus"}),n.jsx("div",{className:"grid grid-cols-1 gap-3 mb-6",children:["gi","nogi","both"].map(B=>n.jsx("button",{onClick:()=>C(B),className:`p-4 rounded-lg border-2 transition-all ${k===B?"border-[hsl(var(--bjj-primary-purple))] bg-[hsl(var(--bjj-primary-purple))]/10":"border-white/10 bg-black/30 hover:border-white/20"}`,"data-testid":`button-style-${B}`,children:n.jsx("span",{className:"text-white font-medium capitalize",children:B==="gi"?"Gi":B==="nogi"?"No-Gi":"Both"})},B))}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(on,{variant:"outline",onClick:T,disabled:i,"data-testid":"button-back",children:"Back"}),n.jsx(on,{onClick:M,disabled:!k||i,className:"flex-1","data-testid":"button-complete",children:i?"Saving...":"Complete Setup"})]})]})]}),n.jsx("style",{children:`
        .onboarding-page {
          min-height: 100vh;
          background: radial-gradient(circle at 50% 0%, #0A0812 0%, #15111F 50%, #0A0812 100%);
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 40px 20px;
        }

        .onboarding-container {
          width: 100%;
          max-width: 600px;
        }

        .onboarding-step {
          background: rgba(15, 15, 15, 0.8);
          border: 1px solid rgba(255, 255, 255, 0.05);
          border-radius: 16px;
          padding: 32px;
        }

        @media (max-width: 768px) {
          .onboarding-page {
            padding: 20px;
          }

          .onboarding-step {
            padding: 24px;
          }
        }
      `})]})}function hf(e,[t,r]){return Math.min(r,Math.max(t,e))}var I9=x.createContext(void 0);function yh(e){const t=x.useContext(I9);return e||t||"ltr"}var Py=0;function RR(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dC()),document.body.insertAdjacentElement("beforeend",e[1]??dC()),Py++,()=>{Py===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Py--}},[])}function dC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ey="focusScope.autoFocusOnMount",Ty="focusScope.autoFocusOnUnmount",uC={bubbles:!1,cancelable:!0},R9="FocusScope",X1=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),d=nr(i),u=nr(s),f=x.useRef(null),h=nt(t,g=>c(g)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(a){let g=function(j){if(p.paused||!l)return;const N=j.target;l.contains(N)?f.current=N:ts(f.current,{select:!0})},y=function(j){if(p.paused||!l)return;const N=j.relatedTarget;N!==null&&(l.contains(N)||ts(f.current,{select:!0}))},v=function(j){if(document.activeElement===document.body)for(const w of j)w.removedNodes.length>0&&ts(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const m=new MutationObserver(v);return l&&m.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),m.disconnect()}}},[a,l,p.paused]),x.useEffect(()=>{if(l){hC.add(p);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(Ey,uC);l.addEventListener(Ey,d),l.dispatchEvent(v),v.defaultPrevented||(M9(B9(MR(l)),{select:!0}),document.activeElement===g&&ts(l))}return()=>{l.removeEventListener(Ey,d),setTimeout(()=>{const v=new CustomEvent(Ty,uC);l.addEventListener(Ty,u),l.dispatchEvent(v),v.defaultPrevented||ts(g??document.body,{select:!0}),l.removeEventListener(Ty,u),hC.remove(p)},0)}}},[l,d,u,p]);const b=x.useCallback(g=>{if(!r&&!a||p.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(y&&v){const m=g.currentTarget,[j,N]=$9(m);j&&N?!g.shiftKey&&v===N?(g.preventDefault(),r&&ts(j,{select:!0})):g.shiftKey&&v===j&&(g.preventDefault(),r&&ts(N,{select:!0})):v===m&&g.preventDefault()}},[r,a,p.paused]);return n.jsx(Ue.div,{tabIndex:-1,...o,ref:h,onKeyDown:b})});X1.displayName=R9;function M9(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(ts(a,{select:t}),document.activeElement!==r)return}function $9(e){const t=MR(e),r=fC(t,e),a=fC(t.reverse(),e);return[r,a]}function MR(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function fC(e,t){for(const r of e)if(!D9(r,{upTo:t}))return r}function D9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function L9(e){return e instanceof HTMLInputElement&&"select"in e}function ts(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&L9(e)&&t&&e.select()}}var hC=F9();function F9(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=mC(e,t),e.unshift(t)},remove(t){var r;e=mC(e,t),(r=e[0])==null||r.resume()}}}function mC(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function B9(e){return e.filter(t=>t.tagName!=="A")}function Ux(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var z9=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},pl=new WeakMap,cm=new WeakMap,dm={},Oy=0,$R=function(e){return e&&(e.host||$R(e.parentNode))},U9=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=$R(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},V9=function(e,t,r,a){var i=U9(t,Array.isArray(e)?e:[e]);dm[r]||(dm[r]=new WeakMap);var s=dm[r],o=[],l=new Set,c=new Set(i),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};i.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))u(h);else try{var p=h.getAttribute(a),b=p!==null&&p!=="false",g=(pl.get(h)||0)+1,y=(s.get(h)||0)+1;pl.set(h,g),s.set(h,y),o.push(h),g===1&&b&&cm.set(h,!0),y===1&&h.setAttribute(r,"true"),b||h.setAttribute(a,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(t),l.clear(),Oy++,function(){o.forEach(function(f){var h=pl.get(f)-1,p=s.get(f)-1;pl.set(f,h),s.set(f,p),h||(cm.has(f)||f.removeAttribute(a),cm.delete(f)),p||f.removeAttribute(r)}),Oy--,Oy||(pl=new WeakMap,pl=new WeakMap,cm=new WeakMap,dm={})}},DR=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),i=z9(e);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live]"))),V9(a,i,r,"aria-hidden")):function(){return null}},qa=function(){return qa=Object.assign||function(t){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},qa.apply(this,arguments)};function LR(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(r[a[i]]=e[a[i]]);return r}function q9(e,t,r){if(r||arguments.length===2)for(var a=0,i=t.length,s;a<i;a++)(s||!(a in t))&&(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}var ep="right-scroll-bar-position",tp="width-before-scroll-bar",W9="with-scroll-bars-hidden",H9="--removed-body-scroll-bar-size";function _y(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function K9(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var i=r.value;i!==a&&(r.value=a,r.callback(a,i))}}}})[0];return r.callback=t,r.facade}var G9=typeof window<"u"?x.useLayoutEffect:x.useEffect,pC=new WeakMap;function Y9(e,t){var r=K9(null,function(a){return e.forEach(function(i){return _y(i,a)})});return G9(function(){var a=pC.get(r);if(a){var i=new Set(a),s=new Set(e),o=r.current;i.forEach(function(l){s.has(l)||_y(l,null)}),s.forEach(function(l){i.has(l)||_y(l,o)})}pC.set(r,e)},[e]),r}function Q9(e){return e}function X9(e,t){t===void 0&&(t=Q9);var r=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,a);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(a=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){a=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var u=o;o=[],u.forEach(s)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),r}}}};return i}function J9(e){e===void 0&&(e={});var t=X9(null);return t.options=qa({async:!0,ssr:!1},e),t}var FR=function(e){var t=e.sideCar,r=LR(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return x.createElement(a,qa({},r))};FR.isSideCarExport=!0;function Z9(e,t){return e.useMedium(t),FR}var BR=J9(),Iy=function(){},Vx=x.forwardRef(function(e,t){var r=x.useRef(null),a=x.useState({onScrollCapture:Iy,onWheelCapture:Iy,onTouchMoveCapture:Iy}),i=a[0],s=a[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,b=e.inert,g=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,m=e.gapMode,j=LR(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,w=Y9([r,t]),S=qa(qa({},j),i);return x.createElement(x.Fragment,null,u&&x.createElement(N,{sideCar:BR,removeScrollBar:d,shards:f,noIsolation:p,inert:b,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:m}),o?x.cloneElement(x.Children.only(l),qa(qa({},S),{ref:w})):x.createElement(v,qa({},S,{className:c,ref:w}),l))});Vx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vx.classNames={fullWidth:tp,zeroRight:ep};var eW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tW(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=eW();return t&&e.setAttribute("nonce",t),e}function rW(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nW(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var aW=function(){var e=0,t=null;return{add:function(r){e==0&&(t=tW())&&(rW(t,r),nW(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},iW=function(){var e=aW();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},zR=function(){var e=iW(),t=function(r){var a=r.styles,i=r.dynamic;return e(a,i),null};return t},sW={left:0,top:0,right:0,gap:0},Ry=function(e){return parseInt(e||"",10)||0},oW=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Ry(r),Ry(a),Ry(i)]},lW=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sW;var t=oW(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},cW=zR(),tc="data-scroll-locked",dW=function(e,t,r,a){var i=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(W9,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(tc,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ep,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(tp,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(ep," .").concat(ep,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(tp," .").concat(tp,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(tc,`] {
    `).concat(H9,": ").concat(l,`px;
  }
`)},gC=function(){var e=parseInt(document.body.getAttribute(tc)||"0",10);return isFinite(e)?e:0},uW=function(){x.useEffect(function(){return document.body.setAttribute(tc,(gC()+1).toString()),function(){var e=gC()-1;e<=0?document.body.removeAttribute(tc):document.body.setAttribute(tc,e.toString())}},[])},fW=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,i=a===void 0?"margin":a;uW();var s=x.useMemo(function(){return lW(i)},[i]);return x.createElement(cW,{styles:dW(s,!t,i,r?"":"!important")})},z0=!1;if(typeof window<"u")try{var um=Object.defineProperty({},"passive",{get:function(){return z0=!0,!0}});window.addEventListener("test",um,um),window.removeEventListener("test",um,um)}catch{z0=!1}var gl=z0?{passive:!1}:!1,hW=function(e){return e.tagName==="TEXTAREA"},UR=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!hW(e)&&r[t]==="visible")},mW=function(e){return UR(e,"overflowY")},pW=function(e){return UR(e,"overflowX")},xC=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=VR(e,a);if(i){var s=qR(e,a),o=s[1],l=s[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},gW=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},xW=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},VR=function(e,t){return e==="v"?mW(t):pW(t)},qR=function(e,t){return e==="v"?gW(t):xW(t)},vW=function(e,t){return e==="h"&&t==="rtl"?-1:1},yW=function(e,t,r,a,i){var s=vW(e,window.getComputedStyle(t).direction),o=s*a,l=r.target,c=t.contains(l),d=!1,u=o>0,f=0,h=0;do{var p=qR(e,l),b=p[0],g=p[1],y=p[2],v=g-y-s*b;(b||v)&&VR(e,l)&&(f+=v,h+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(u&&(Math.abs(f)<1||!i)||!u&&(Math.abs(h)<1||!i))&&(d=!0),d},fm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vC=function(e){return[e.deltaX,e.deltaY]},yC=function(e){return e&&"current"in e?e.current:e},bW=function(e,t){return e[0]===t[0]&&e[1]===t[1]},jW=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wW=0,xl=[];function NW(e){var t=x.useRef([]),r=x.useRef([0,0]),a=x.useRef(),i=x.useState(wW++)[0],s=x.useState(zR)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=q9([e.lockRef.current],(e.shards||[]).map(yC),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(g,y){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=fm(g),m=r.current,j="deltaX"in g?g.deltaX:m[0]-v[0],N="deltaY"in g?g.deltaY:m[1]-v[1],w,S=g.target,k=Math.abs(j)>Math.abs(N)?"h":"v";if("touches"in g&&k==="h"&&S.type==="range")return!1;var C=xC(k,S);if(!C)return!0;if(C?w=k:(w=k==="v"?"h":"v",C=xC(k,S)),!C)return!1;if(!a.current&&"changedTouches"in g&&(j||N)&&(a.current=w),!w)return!0;var A=a.current||w;return yW(A,y,g,A==="h"?j:N,!0)},[]),c=x.useCallback(function(g){var y=g;if(!(!xl.length||xl[xl.length-1]!==s)){var v="deltaY"in y?vC(y):fm(y),m=t.current.filter(function(w){return w.name===y.type&&(w.target===y.target||y.target===w.shadowParent)&&bW(w.delta,v)})[0];if(m&&m.should){y.cancelable&&y.preventDefault();return}if(!m){var j=(o.current.shards||[]).map(yC).filter(Boolean).filter(function(w){return w.contains(y.target)}),N=j.length>0?l(y,j[0]):!o.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),d=x.useCallback(function(g,y,v,m){var j={name:g,delta:y,target:v,should:m,shadowParent:SW(v)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(N){return N!==j})},1)},[]),u=x.useCallback(function(g){r.current=fm(g),a.current=void 0},[]),f=x.useCallback(function(g){d(g.type,vC(g),g.target,l(g,e.lockRef.current))},[]),h=x.useCallback(function(g){d(g.type,fm(g),g.target,l(g,e.lockRef.current))},[]);x.useEffect(function(){return xl.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,gl),document.addEventListener("touchmove",c,gl),document.addEventListener("touchstart",u,gl),function(){xl=xl.filter(function(g){return g!==s}),document.removeEventListener("wheel",c,gl),document.removeEventListener("touchmove",c,gl),document.removeEventListener("touchstart",u,gl)}},[]);var p=e.removeScrollBar,b=e.inert;return x.createElement(x.Fragment,null,b?x.createElement(s,{styles:jW(i)}):null,p?x.createElement(fW,{gapMode:e.gapMode}):null)}function SW(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kW=Z9(BR,NW);var J1=x.forwardRef(function(e,t){return x.createElement(Vx,qa({},e,{ref:t,sideCar:kW}))});J1.classNames=Vx.classNames;var CW=[" ","Enter","ArrowUp","ArrowDown"],AW=[" ","Enter"],bh="Select",[qx,Wx,PW]=wx(bh),[Sd,z1e]=vn(bh,[PW,Ix]),Hx=Ix(),[EW,Xs]=Sd(bh),[TW,OW]=Sd(bh),WR=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:h,required:p,form:b}=e,g=Hx(t),[y,v]=x.useState(null),[m,j]=x.useState(null),[N,w]=x.useState(!1),S=yh(d),[k=!1,C]=Za({prop:a,defaultProp:i,onChange:s}),[A,O]=Za({prop:o,defaultProp:l,onChange:c}),I=x.useRef(null),P=y?b||!!y.closest("form"):!0,[R,$]=x.useState(new Set),E=Array.from(R).map(_=>_.props.value).join(";");return n.jsx(BI,{...g,children:n.jsxs(EW,{required:p,scope:t,trigger:y,onTriggerChange:v,valueNode:m,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:Si(),value:A,onValueChange:O,open:k,onOpenChange:C,dir:S,triggerPointerDownPosRef:I,disabled:h,children:[n.jsx(qx.Provider,{scope:t,children:n.jsx(TW,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(_=>{$(M=>new Set(M).add(_))},[]),onNativeOptionRemove:x.useCallback(_=>{$(M=>{const T=new Set(M);return T.delete(_),T})},[]),children:r})}),P?n.jsxs(gM,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:A,onChange:_=>O(_.target.value),disabled:h,form:b,children:[A===void 0?n.jsx("option",{value:""}):null,Array.from(R)]},E):null]})})};WR.displayName=bh;var HR="SelectTrigger",KR=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...i}=e,s=Hx(r),o=Xs(HR,r),l=o.disabled||a,c=nt(t,o.onTriggerChange),d=Wx(r),u=x.useRef("touch"),[f,h,p]=xM(g=>{const y=d().filter(j=>!j.disabled),v=y.find(j=>j.value===o.value),m=vM(y,g,v);m!==void 0&&o.onValueChange(m.value)}),b=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return n.jsx(zI,{asChild:!0,...s,children:n.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pM(o.value)?"":void 0,...i,ref:c,onClick:Ie(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&b(g)}),onPointerDown:Ie(i.onPointerDown,g=>{u.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(b(g),g.preventDefault())}),onKeyDown:Ie(i.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&CW.includes(g.key)&&(b(),g.preventDefault())})})})});KR.displayName=HR;var GR="SelectValue",YR=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:i,children:s,placeholder:o="",...l}=e,c=Xs(GR,r),{onValueNodeHasChildrenChange:d}=c,u=s!==void 0,f=nt(t,c.onValueNodeChange);return $r(()=>{d(u)},[d,u]),n.jsx(Ue.span,{...l,ref:f,style:{pointerEvents:"none"},children:pM(c.value)?n.jsx(n.Fragment,{children:o}):s})});YR.displayName=GR;var _W="SelectIcon",QR=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...i}=e;return n.jsx(Ue.span,{"aria-hidden":!0,...i,ref:t,children:a||""})});QR.displayName=_W;var IW="SelectPortal",XR=e=>n.jsx(Nx,{asChild:!0,...e});XR.displayName=IW;var Go="SelectContent",JR=x.forwardRef((e,t)=>{const r=Xs(Go,e.__scopeSelect),[a,i]=x.useState();if($r(()=>{i(new DocumentFragment)},[]),!r.open){const s=a;return s?nl.createPortal(n.jsx(ZR,{scope:e.__scopeSelect,children:n.jsx(qx.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),s):null}return n.jsx(eM,{...e,ref:t})});JR.displayName=Go;var ua=10,[ZR,Js]=Sd(Go),RW="SelectContentImpl",MW=Pc("SelectContent.RemoveScroll"),eM=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:b,hideWhenDetached:g,avoidCollisions:y,...v}=e,m=Xs(Go,r),[j,N]=x.useState(null),[w,S]=x.useState(null),k=nt(t,me=>N(me)),[C,A]=x.useState(null),[O,I]=x.useState(null),P=Wx(r),[R,$]=x.useState(!1),E=x.useRef(!1);x.useEffect(()=>{if(j)return DR(j)},[j]),RR();const _=x.useCallback(me=>{const[Ce,...te]=P().map(Q=>Q.ref.current),[W]=te.slice(-1),z=document.activeElement;for(const Q of me)if(Q===z||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===Ce&&w&&(w.scrollTop=0),Q===W&&w&&(w.scrollTop=w.scrollHeight),Q==null||Q.focus(),document.activeElement!==z))return},[P,w]),M=x.useCallback(()=>_([C,j]),[_,C,j]);x.useEffect(()=>{R&&M()},[R,M]);const{onOpenChange:T,triggerPointerDownPosRef:D}=m;x.useEffect(()=>{if(j){let me={x:0,y:0};const Ce=W=>{var z,Q;me={x:Math.abs(Math.round(W.pageX)-(((z=D.current)==null?void 0:z.x)??0)),y:Math.abs(Math.round(W.pageY)-(((Q=D.current)==null?void 0:Q.y)??0))}},te=W=>{me.x<=10&&me.y<=10?W.preventDefault():j.contains(W.target)||T(!1),document.removeEventListener("pointermove",Ce),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",te,{capture:!0})}}},[j,T,D]),x.useEffect(()=>{const me=()=>T(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[T]);const[B,ee]=xM(me=>{const Ce=P().filter(z=>!z.disabled),te=Ce.find(z=>z.ref.current===document.activeElement),W=vM(Ce,me,te);W&&setTimeout(()=>W.ref.current.focus())}),re=x.useCallback((me,Ce,te)=>{const W=!E.current&&!te;(m.value!==void 0&&m.value===Ce||W)&&(A(me),W&&(E.current=!0))},[m.value]),oe=x.useCallback(()=>j==null?void 0:j.focus(),[j]),ve=x.useCallback((me,Ce,te)=>{const W=!E.current&&!te;(m.value!==void 0&&m.value===Ce||W)&&I(me)},[m.value]),ce=a==="popper"?U0:tM,Oe=ce===U0?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:b,hideWhenDetached:g,avoidCollisions:y}:{};return n.jsx(ZR,{scope:r,content:j,viewport:w,onViewportChange:S,itemRefCallback:re,selectedItem:C,onItemLeave:oe,itemTextRefCallback:ve,focusSelectedItem:M,selectedItemText:O,position:a,isPositioned:R,searchRef:B,children:n.jsx(J1,{as:MW,allowPinchZoom:!0,children:n.jsx(X1,{asChild:!0,trapped:m.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Ie(i,me=>{var Ce;(Ce=m.trigger)==null||Ce.focus({preventScroll:!0}),me.preventDefault()}),children:n.jsx(hh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:n.jsx(ce,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:me=>me.preventDefault(),...v,...Oe,onPlaced:()=>$(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ie(v.onKeyDown,me=>{const Ce=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Ce&&me.key.length===1&&ee(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let W=P().filter(z=>!z.disabled).map(z=>z.ref.current);if(["ArrowUp","End"].includes(me.key)&&(W=W.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const z=me.target,Q=W.indexOf(z);W=W.slice(Q+1)}setTimeout(()=>_(W)),me.preventDefault()}})})})})})})});eM.displayName=RW;var $W="SelectItemAlignedPosition",tM=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...i}=e,s=Xs(Go,r),o=Js(Go,r),[l,c]=x.useState(null),[d,u]=x.useState(null),f=nt(t,k=>u(k)),h=Wx(r),p=x.useRef(!1),b=x.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:v,focusSelectedItem:m}=o,j=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&d&&g&&y&&v){const k=s.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),A=s.valueNode.getBoundingClientRect(),O=v.getBoundingClientRect();if(s.dir!=="rtl"){const z=O.left-C.left,Q=A.left-z,Ve=k.left-Q,de=k.width+Ve,Ae=Math.max(de,C.width),Ge=window.innerWidth-ua,st=hf(Q,[ua,Math.max(ua,Ge-Ae)]);l.style.minWidth=de+"px",l.style.left=st+"px"}else{const z=C.right-O.right,Q=window.innerWidth-A.right-z,Ve=window.innerWidth-k.right-Q,de=k.width+Ve,Ae=Math.max(de,C.width),Ge=window.innerWidth-ua,st=hf(Q,[ua,Math.max(ua,Ge-Ae)]);l.style.minWidth=de+"px",l.style.right=st+"px"}const I=h(),P=window.innerHeight-ua*2,R=g.scrollHeight,$=window.getComputedStyle(d),E=parseInt($.borderTopWidth,10),_=parseInt($.paddingTop,10),M=parseInt($.borderBottomWidth,10),T=parseInt($.paddingBottom,10),D=E+_+R+T+M,B=Math.min(y.offsetHeight*5,D),ee=window.getComputedStyle(g),re=parseInt(ee.paddingTop,10),oe=parseInt(ee.paddingBottom,10),ve=k.top+k.height/2-ua,ce=P-ve,Oe=y.offsetHeight/2,me=y.offsetTop+Oe,Ce=E+_+me,te=D-Ce;if(Ce<=ve){const z=I.length>0&&y===I[I.length-1].ref.current;l.style.bottom="0px";const Q=d.clientHeight-g.offsetTop-g.offsetHeight,Ve=Math.max(ce,Oe+(z?oe:0)+Q+M),de=Ce+Ve;l.style.height=de+"px"}else{const z=I.length>0&&y===I[0].ref.current;l.style.top="0px";const Ve=Math.max(ve,E+g.offsetTop+(z?re:0)+Oe)+te;l.style.height=Ve+"px",g.scrollTop=Ce-ve+g.offsetTop}l.style.margin=`${ua}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=P+"px",a==null||a(),requestAnimationFrame(()=>p.current=!0)}},[h,s.trigger,s.valueNode,l,d,g,y,v,s.dir,a]);$r(()=>j(),[j]);const[N,w]=x.useState();$r(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const S=x.useCallback(k=>{k&&b.current===!0&&(j(),m==null||m(),b.current=!1)},[j,m]);return n.jsx(LW,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:n.jsx(Ue.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});tM.displayName=$W;var DW="SelectPopperPosition",U0=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:i=ua,...s}=e,o=Hx(r);return n.jsx(UI,{...o,...s,ref:t,align:a,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});U0.displayName=DW;var[LW,Z1]=Sd(Go,{}),V0="SelectViewport",rM=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...i}=e,s=Js(V0,r),o=Z1(V0,r),l=nt(t,s.onViewportChange),c=x.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(qx.Slot,{scope:r,children:n.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ie(i.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const b=window.innerHeight-ua*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),v=Math.max(g,y);if(v<b){const m=v+p,j=Math.min(b,m),N=m-j;f.style.height=j+"px",f.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});rM.displayName=V0;var nM="SelectGroup",[FW,BW]=Sd(nM),zW=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,i=Si();return n.jsx(FW,{scope:r,id:i,children:n.jsx(Ue.div,{role:"group","aria-labelledby":i,...a,ref:t})})});zW.displayName=nM;var aM="SelectLabel",iM=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,i=BW(aM,r);return n.jsx(Ue.div,{id:i.id,...a,ref:t})});iM.displayName=aM;var Gp="SelectItem",[UW,sM]=Sd(Gp),oM=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:i=!1,textValue:s,...o}=e,l=Xs(Gp,r),c=Js(Gp,r),d=l.value===a,[u,f]=x.useState(s??""),[h,p]=x.useState(!1),b=nt(t,m=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,m,a,i)}),g=Si(),y=x.useRef("touch"),v=()=>{i||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(UW,{scope:r,value:a,disabled:i,textId:g,isSelected:d,onItemTextChange:x.useCallback(m=>{f(j=>j||((m==null?void 0:m.textContent)??"").trim())},[]),children:n.jsx(qx.ItemSlot,{scope:r,value:a,disabled:i,textValue:u,children:n.jsx(Ue.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:b,onFocus:Ie(o.onFocus,()=>p(!0)),onBlur:Ie(o.onBlur,()=>p(!1)),onClick:Ie(o.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:Ie(o.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:Ie(o.onPointerDown,m=>{y.current=m.pointerType}),onPointerMove:Ie(o.onPointerMove,m=>{var j;y.current=m.pointerType,i?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(o.onPointerLeave,m=>{var j;m.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:Ie(o.onKeyDown,m=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&m.key===" "||(AW.includes(m.key)&&v(),m.key===" "&&m.preventDefault())})})})})});oM.displayName=Gp;var pu="SelectItemText",lM=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:i,...s}=e,o=Xs(pu,r),l=Js(pu,r),c=sM(pu,r),d=OW(pu,r),[u,f]=x.useState(null),h=nt(t,v=>f(v),c.onItemTextChange,v=>{var m;return(m=l.itemTextRefCallback)==null?void 0:m.call(l,v,c.value,c.disabled)}),p=u==null?void 0:u.textContent,b=x.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=d;return $r(()=>(g(b),()=>y(b)),[g,y,b]),n.jsxs(n.Fragment,{children:[n.jsx(Ue.span,{id:c.textId,...s,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?nl.createPortal(s.children,o.valueNode):null]})});lM.displayName=pu;var cM="SelectItemIndicator",dM=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return sM(cM,r).isSelected?n.jsx(Ue.span,{"aria-hidden":!0,...a,ref:t}):null});dM.displayName=cM;var q0="SelectScrollUpButton",uM=x.forwardRef((e,t)=>{const r=Js(q0,e.__scopeSelect),a=Z1(q0,e.__scopeSelect),[i,s]=x.useState(!1),o=nt(t,a.onScrollButtonChange);return $r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollTop>0;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?n.jsx(hM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});uM.displayName=q0;var W0="SelectScrollDownButton",fM=x.forwardRef((e,t)=>{const r=Js(W0,e.__scopeSelect),a=Z1(W0,e.__scopeSelect),[i,s]=x.useState(!1),o=nt(t,a.onScrollButtonChange);return $r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?n.jsx(hM,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});fM.displayName=W0;var hM=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...i}=e,s=Js("SelectScrollButton",r),o=x.useRef(null),l=Wx(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),$r(()=>{var u;const d=l().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),n.jsx(Ue.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ie(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:Ie(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:Ie(i.onPointerLeave,()=>{c()})})}),VW="SelectSeparator",mM=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return n.jsx(Ue.div,{"aria-hidden":!0,...a,ref:t})});mM.displayName=VW;var H0="SelectArrow",qW=x.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,i=Hx(r),s=Xs(H0,r),o=Js(H0,r);return s.open&&o.position==="popper"?n.jsx(VI,{...i,...a,ref:t}):null});qW.displayName=H0;function pM(e){return e===""||e===void 0}var gM=x.forwardRef((e,t)=>{const{value:r,...a}=e,i=x.useRef(null),s=nt(t,i),o=Ux(r);return x.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&u){const f=new Event("change",{bubbles:!0});u.call(l,r),l.dispatchEvent(f)}},[o,r]),n.jsx(mh,{asChild:!0,children:n.jsx("select",{...a,ref:s,defaultValue:r})})});gM.displayName="BubbleSelect";function xM(e){const t=nr(e),r=x.useRef(""),a=x.useRef(0),i=x.useCallback(o=>{const l=r.current+o;t(l),function c(d){r.current=d,window.clearTimeout(a.current),d!==""&&(a.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,i,s]}function vM(e,t,r){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=WW(e,Math.max(s,0));i.length===1&&(o=o.filter(d=>d!==r));const c=o.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function WW(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var HW=WR,yM=KR,KW=YR,GW=QR,YW=XR,bM=JR,QW=rM,jM=iM,wM=oM,XW=lM,JW=dM,NM=uM,SM=fM,kM=mM;const Xe=HW,Je=KW,Ye=x.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(yM,{ref:a,className:je("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(GW,{asChild:!0,children:n.jsx(Ax,{className:"h-4 w-4 opacity-50"})})]}));Ye.displayName=yM.displayName;const CM=x.forwardRef(({className:e,...t},r)=>n.jsx(NM,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(rI,{className:"h-4 w-4"})}));CM.displayName=NM.displayName;const AM=x.forwardRef(({className:e,...t},r)=>n.jsx(SM,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Ax,{className:"h-4 w-4"})}));AM.displayName=SM.displayName;const Qe=x.forwardRef(({className:e,children:t,position:r="popper",...a},i)=>n.jsx(YW,{children:n.jsxs(bM,{ref:i,className:je("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[n.jsx(CM,{}),n.jsx(QW,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(AM,{})]})}));Qe.displayName=bM.displayName;const ZW=x.forwardRef(({className:e,...t},r)=>n.jsx(jM,{ref:r,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ZW.displayName=jM.displayName;const K=x.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(wM,{ref:a,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(JW,{children:n.jsx(zr,{className:"h-4 w-4"})})}),n.jsx(XW,{children:t})]}));K.displayName=wM.displayName;const eH=x.forwardRef(({className:e,...t},r)=>n.jsx(kM,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));eH.displayName=kM.displayName;function tH(){const[,e]=at(),{toast:t}=tt(),[r,a]=x.useState(1),[i,s]=x.useState(!1),[o,l]=x.useState({displayName:"",beltLevel:"",style:"",struggleAreaCategory:"",heightFeet:"",heightInches:"",weight:"",age:""}),c=()=>{const h=parseInt(o.heightFeet)||0,p=parseInt(o.heightInches)||0;if(!(h===0&&p===0))return String(h*12+p)},d=[{value:"guard_passing",label:"Guard Passing"},{value:"guard_retention",label:"Guard Retention"},{value:"submissions",label:"Submissions from Top"},{value:"escapes",label:"Escapes from Bottom"},{value:"takedowns",label:"Takedowns"},{value:"transitions",label:"Position Transitions"},{value:"other",label:"Other"}],u=async()=>{s(!0);try{await ut("PATCH","/api/auth/profile",{displayName:o.displayName,beltLevel:o.beltLevel,style:o.style,struggleAreaCategory:o.struggleAreaCategory,height:c(),weight:o.weight,age:o.age,onboardingCompleted:!0}),await Pe.invalidateQueries({queryKey:["/api/auth/me"]}),t({title:"Profile Complete!",description:"Professor OS is ready to coach you."}),e(ir()?"/ios-home":"/chat")}catch{t({title:"Error",description:"Failed to save profile. Please try again.",variant:"destructive"})}finally{s(!1)}},f=()=>{switch(r){case 1:return o.displayName.trim().length>0;case 2:return o.beltLevel.length>0;case 3:return o.style.length>0;case 4:return o.struggleAreaCategory.length>0;case 5:return!0;default:return!1}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 p-6",children:n.jsx(q,{className:"w-full max-w-xl border-primary/20 shadow-2xl",children:n.jsxs(H,{className:"p-8 md:p-12",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",r," of 5"]}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(r/5*100),"%"]})]}),n.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-purple-600 transition-all duration-300",style:{width:`${r/5*100}%`}})})]}),r===1&&n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"What's your name?"}),n.jsx("p",{className:"text-muted-foreground",children:"This helps Professor OS address you personally"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"name",children:"First Name"}),n.jsx(be,{id:"name",type:"text",placeholder:"Enter your first name",value:o.displayName,onChange:h=>l({...o,displayName:h.target.value}),onKeyPress:h=>h.key==="Enter"&&f()&&a(2),autoFocus:!0,className:"text-lg h-12","data-testid":"input-name"})]}),n.jsxs(Y,{size:"lg",onClick:()=>a(2),disabled:!f(),className:"w-full","data-testid":"button-next-step-1",children:["Next ",n.jsx(vy,{className:"ml-2 h-5 w-5"})]})]}),r===2&&n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"What's your belt level?"}),n.jsx("p",{className:"text-muted-foreground",children:"Helps us match techniques to your skill level"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"white",label:"White",color:"bg-white text-black hover:bg-gray-100"},{value:"blue",label:"Blue",color:"bg-blue-600 text-white hover:bg-blue-700"},{value:"purple",label:"Purple",color:"bg-purple-600 text-white hover:bg-purple-700"},{value:"brown",label:"Brown",color:"bg-amber-800 text-white hover:bg-amber-900"},{value:"black",label:"Black",color:"bg-black text-white hover:bg-gray-900 border-2 border-white/20"}].map(h=>n.jsx(Y,{variant:o.beltLevel===h.value?"default":"outline",size:"lg",onClick:()=>{l({...o,beltLevel:h.value}),setTimeout(()=>a(3),200)},className:`h-20 text-lg font-bold ${o.beltLevel===h.value?"ring-2 ring-primary ring-offset-2":h.color}`,"data-testid":`button-belt-${h.value}`,children:h.label},h.value))}),n.jsxs(Y,{variant:"ghost",onClick:()=>a(1),className:"w-full","data-testid":"button-back-step-2",children:[n.jsx(Hn,{className:"mr-2 h-5 w-5"})," Back"]})]}),r===3&&n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"How do you train?"}),n.jsx("p",{className:"text-muted-foreground",children:"We'll prioritize relevant content for you"})]}),n.jsx("div",{className:"space-y-3",children:[{value:"gi",label:"Gi Only",desc:"Traditional BJJ with the kimono"},{value:"nogi",label:"No-Gi Only",desc:"Grappling without the gi"},{value:"both",label:"Both Gi & No-Gi",desc:"I train in both styles"}].map(h=>n.jsxs(Y,{variant:o.style===h.value?"default":"outline",size:"lg",onClick:()=>{l({...o,style:h.value}),setTimeout(()=>a(4),200)},className:`w-full h-auto py-4 flex flex-col items-start ${o.style===h.value?"ring-2 ring-primary ring-offset-2":""}`,"data-testid":`button-style-${h.value}`,children:[n.jsx("span",{className:"text-lg font-semibold",children:h.label}),n.jsx("span",{className:"text-sm text-muted-foreground",children:h.desc})]},h.value))}),n.jsxs(Y,{variant:"ghost",onClick:()=>a(2),className:"w-full","data-testid":"button-back-step-3",children:[n.jsx(Hn,{className:"mr-2 h-5 w-5"})," Back"]})]}),r===4&&n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"What's your biggest struggle?"}),n.jsx("p",{className:"text-muted-foreground",children:"Professor OS will focus on helping you improve here"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"struggle",children:"Select your main challenge"}),n.jsxs(Xe,{value:o.struggleAreaCategory,onValueChange:h=>l({...o,struggleAreaCategory:h}),children:[n.jsx(Ye,{className:"h-12 text-lg","data-testid":"select-struggle",children:n.jsx(Je,{placeholder:"Choose your biggest struggle..."})}),n.jsx(Qe,{children:d.map(h=>n.jsx(K,{value:h.value,"data-testid":`option-struggle-${h.value}`,children:h.label},h.value))})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(Y,{size:"lg",onClick:()=>a(5),disabled:!f(),className:"w-full","data-testid":"button-next-step-4",children:["Next ",n.jsx(vy,{className:"ml-2 h-5 w-5"})]}),n.jsxs(Y,{variant:"ghost",onClick:()=>a(3),className:"w-full","data-testid":"button-back-step-4",children:[n.jsx(Hn,{className:"mr-2 h-5 w-5"})," Back"]})]})]}),r===5&&n.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Help us personalize more"}),n.jsx("p",{className:"text-muted-foreground",children:"Optional - but helps Professor OS give better advice"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Height (optional)"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx(be,{id:"height-feet",type:"number",min:"0",max:"8",placeholder:"5",value:o.heightFeet,onChange:h=>l({...o,heightFeet:h.target.value}),className:"h-11","data-testid":"input-height-feet"})}),n.jsx("span",{className:"text-muted-foreground font-medium",children:"ft"}),n.jsx("div",{className:"flex-1",children:n.jsx(be,{id:"height-inches",type:"number",min:"0",max:"11",placeholder:"10",value:o.heightInches,onChange:h=>l({...o,heightInches:h.target.value}),className:"h-11","data-testid":"input-height-inches"})}),n.jsx("span",{className:"text-muted-foreground font-medium",children:"in"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"weight",children:"Weight (optional)"}),n.jsx(be,{id:"weight",type:"text",placeholder:"e.g., 170 lbs or 77kg",value:o.weight,onChange:h=>l({...o,weight:h.target.value}),className:"h-11","data-testid":"input-weight"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"age",children:"Age (optional)"}),n.jsx(be,{id:"age",type:"text",placeholder:"e.g., 32",value:o.age,onChange:h=>l({...o,age:h.target.value}),className:"h-11","data-testid":"input-age"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(Y,{size:"lg",onClick:u,disabled:i,className:"w-full bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90","data-testid":"button-complete-onboarding",children:[i?"Saving...":"Complete Setup"," ",n.jsx(vy,{className:"ml-2 h-5 w-5"})]}),n.jsx(Y,{variant:"ghost",onClick:u,disabled:i,className:"w-full","data-testid":"button-skip-optional",children:"Skip optional details"}),n.jsxs(Y,{variant:"ghost",onClick:()=>a(4),disabled:i,className:"w-full","data-testid":"button-back-step-5",children:[n.jsx(Hn,{className:"mr-2 h-5 w-5"})," Back"]})]})]})]})})})}function rH(){const[,e]=at(),[t,r]=x.useState("loading"),[a,i]=x.useState("");return x.useEffect(()=>{(async()=>{try{const l=new URLSearchParams(window.location.search).get("token");if(!l){r("error"),i("Invalid magic link - no token provided");return}const c=await fetch(`/api/auth/magic/verify?token=${l}`),d=await c.json();if(!c.ok){r("error"),i(d.error||"Magic link verification failed");return}localStorage.setItem("token",d.token),r("success"),i("Welcome! Redirecting to your dashboard..."),setTimeout(()=>{e("/chat")},2e3)}catch(o){console.error("Magic link error:",o),r("error"),i("Something went wrong. Please try again or contact support.")}})()},[e]),n.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-purple-50 to-blue-50 dark:from-gray-900 dark:to-gray-800",children:n.jsx(q,{className:"w-full max-w-md p-8",children:n.jsxs("div",{className:"text-center space-y-6",children:[t==="loading"&&n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-16 h-16 mx-auto animate-spin text-purple-600"}),n.jsx("h2",{className:"text-2xl font-bold",children:"Verifying Your Access..."}),n.jsx("p",{className:"text-muted-foreground",children:"Please wait while we set up your account"})]}),t==="success"&&n.jsxs(n.Fragment,{children:[n.jsx(Ta,{className:"w-16 h-16 mx-auto text-green-600"}),n.jsx("h2",{className:"text-2xl font-bold text-green-600",children:"Access Granted!"}),n.jsx("p",{className:"text-muted-foreground",children:a}),n.jsx("div",{className:"animate-pulse text-sm text-muted-foreground",children:"Redirecting to Prof. OS..."})]}),t==="error"&&n.jsxs(n.Fragment,{children:[n.jsx(qo,{className:"w-16 h-16 mx-auto text-red-600"}),n.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),n.jsx("p",{className:"text-muted-foreground",children:a}),n.jsxs("div",{className:"space-y-2 pt-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Possible reasons:"}),n.jsxs("ul",{className:"text-sm text-muted-foreground text-left list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Link already used"}),n.jsx("li",{children:"Link expired (7 days max)"}),n.jsx("li",{children:"Invalid or corrupted link"})]}),n.jsx(Y,{onClick:()=>e("/"),variant:"outline",className:"mt-4","data-testid":"button-go-home",children:"Go to Homepage"})]})]})]})})})}var eN="Checkbox",[nH,U1e]=vn(eN),[aH,iH]=nH(eN),PM=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,p]=x.useState(null),b=nt(t,N=>p(N)),g=x.useRef(!1),y=h?u||!!h.closest("form"):!0,[v=!1,m]=Za({prop:i,defaultProp:s,onChange:d}),j=x.useRef(v);return x.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const w=()=>m(j.current);return N.addEventListener("reset",w),()=>N.removeEventListener("reset",w)}},[h,m]),n.jsxs(aH,{scope:r,state:v,disabled:l,children:[n.jsx(Ue.button,{type:"button",role:"checkbox","aria-checked":$s(v)?"mixed":v,"aria-required":o,"data-state":OM(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onKeyDown:Ie(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:Ie(e.onClick,N=>{m(w=>$s(w)?!0:!w),y&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})}),y&&n.jsx(sH,{control:h,bubbles:!g.current,name:a,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"},defaultChecked:$s(s)?!1:s})]})});PM.displayName=eN;var EM="CheckboxIndicator",TM=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...i}=e,s=iH(EM,r);return n.jsx(ra,{present:a||$s(s.state)||s.state===!0,children:n.jsx(Ue.span,{"data-state":OM(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});TM.displayName=EM;var sH=e=>{const{control:t,checked:r,bubbles:a=!0,defaultChecked:i,...s}=e,o=x.useRef(null),l=Ux(r),c=_x(t);x.useEffect(()=>{const u=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const b=new Event("click",{bubbles:a});u.indeterminate=$s(r),p.call(u,$s(r)?!1:r),u.dispatchEvent(b)}},[l,r,a]);const d=x.useRef($s(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??d.current,...s,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function $s(e){return e==="indeterminate"}function OM(e){return $s(e)?"indeterminate":e?"checked":"unchecked"}var _M=PM,oH=TM;const Sa=x.forwardRef(({className:e,...t},r)=>n.jsx(_M,{ref:r,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(oH,{className:je("flex items-center justify-center text-current"),children:n.jsx(zr,{className:"h-4 w-4"})})}));Sa.displayName=_M.displayName;function lH(e,t){console.log(" [setAdminAuth] Setting admin authentication"),console.log("[setAdminAuth] Token length:",(e==null?void 0:e.length)||0),console.log("[setAdminAuth] ExpiresIn:",t),localStorage.setItem("adminToken",e);const r=cH(t),a=Date.now()+r;console.log("[setAdminAuth] Expiration time:",new Date(a).toLocaleString()),localStorage.setItem("adminTokenExpiration",a.toString()),console.log(" [setAdminAuth] Token and expiration saved to localStorage")}function cH(e){const t=e.match(/^(\d+)([dhms])$/);if(!t)return 7*24*60*60*1e3;const r=parseInt(t[1],10);switch(t[2]){case"d":return r*24*60*60*1e3;case"h":return r*60*60*1e3;case"m":return r*60*1e3;case"s":return r*1e3;default:return 7*24*60*60*1e3}}function dH(){localStorage.removeItem("adminToken"),localStorage.removeItem("adminTokenExpiration"),localStorage.removeItem("adminUser")}async function _e(e,t="GET",r){const i={method:t,headers:{"Content-Type":"application/json"},credentials:"include"};r&&t!=="GET"&&(i.body=JSON.stringify(r));const s=await fetch(e,i);if(s.status===401||s.status===403)throw window.location.href="/admin/login",new Error("Session expired - please login again");if(!s.ok){const o=await s.json();throw new Error(o.error||`Request failed with status ${s.status}`)}return s.json()}function uH(){const[,e]=at(),{toast:t}=tt(),[r,a]=x.useState(""),[i,s]=x.useState(!1),o=qe({mutationFn:async c=>{const d=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(c)});if(!d.ok){const u=await d.json();throw new Error(u.error||"Login failed")}return await d.json()},onSuccess:c=>{console.log(" [ADMIN LOGIN] Login successful, session cookie set"),c.token&&lH(c.token,c.expiresIn||"24h"),c.admin&&localStorage.setItem("adminUser",JSON.stringify(c.admin)),t({title:"Login Successful",description:"Welcome back! Session valid for 24 hours."}),console.log(" [ADMIN LOGIN] Redirecting to /admin/dashboard..."),e("/admin/dashboard")},onError:c=>{t({title:"Login Failed",description:c.message||"Invalid credentials",variant:"destructive"})}}),l=c=>{if(c.preventDefault(),!r){t({title:"Missing Information",description:"Please enter your admin password",variant:"destructive"});return}o.mutate({password:r,rememberMe:i})};return n.jsx("div",{className:"page-container min-h-screen flex items-center justify-center p-4",children:n.jsxs(q,{className:"w-full max-w-md",children:[n.jsxs(X,{className:"space-y-1 flex flex-col items-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, #2563EB 0%, #7C3AED 100%)"},children:n.jsx(_a,{className:"w-8 h-8 text-white"})}),n.jsx(J,{className:"text-2xl font-bold text-center",children:"BJJ OS Admin"}),n.jsx(Fe,{className:"text-center",children:"Sign in to access the admin dashboard"})]}),n.jsxs(H,{children:[n.jsxs("form",{onSubmit:l,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"password",children:"Admin Password"}),n.jsx(be,{id:"password",type:"password",placeholder:"",value:r,onChange:c=>a(c.target.value),required:!0,autoFocus:!0,"data-testid":"input-admin-password"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Sa,{id:"rememberMe",checked:i,onCheckedChange:c=>s(c===!0),"data-testid":"checkbox-remember-me"}),n.jsx(le,{htmlFor:"rememberMe",className:"text-sm font-normal cursor-pointer",children:"Remember me for 30 days"})]}),n.jsx(Y,{type:"submit",className:"w-full",disabled:o.isPending,"data-testid":"button-admin-login",children:o.isPending?"Signing in...":"Sign In"})]}),n.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Wo,{className:"w-4 h-4"}),n.jsx("span",{children:"Admin access only  All actions are logged"})]})]})]})})}function fH(){const[e,t]=x.useState(!0),{data:r,isLoading:a,isError:i,error:s,refetch:o}=ue({queryKey:["/api/admin/activity-24h"],queryFn:async()=>await _e("/api/admin/activity-24h","GET"),refetchInterval:e?6e4:!1});if(x.useEffect(()=>{o()},[o]),i)return n.jsx(q,{className:"border-destructive",children:n.jsxs(H,{className:"py-12 text-center",children:[n.jsx(Tn,{className:"w-12 h-12 text-destructive mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to Load Activity Data"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:s instanceof Error?s.message:"Unknown error occurred"}),n.jsx(Y,{onClick:()=>o(),variant:"outline",children:"Try Again"})]})});if(a)return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold",children:" Last 24 Hours Activity"}),n.jsx(ae,{variant:"secondary",children:"Loading..."})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(c=>n.jsxs(q,{className:"animate-pulse",children:[n.jsx(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:n.jsx("div",{className:"h-4 bg-muted rounded w-24"})}),n.jsx(H,{children:n.jsx("div",{className:"h-8 bg-muted rounded w-16"})})]},c))})]});if(!r)return n.jsx(q,{children:n.jsx(H,{className:"py-12 text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No activity data available"})})});const l=({title:c,value:d,icon:u,trend:f,subtitle:h})=>n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:c}),n.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold",children:d}),h&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h}),f&&n.jsxs("div",{className:`flex items-center text-xs mt-1 ${f.isPositive?"text-green-500":"text-red-500"}`,children:[f.isPositive?"":""," ",Math.abs(f.value),"%"]})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold","data-testid":"text-activity-dashboard-title",children:" Last 24 Hours Activity"}),n.jsx("p",{className:"text-muted-foreground text-sm",children:"Real-time monitoring for beta launch"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ae,{variant:e?"default":"secondary",className:"cursor-pointer",onClick:()=>t(!e),"data-testid":"badge-auto-refresh",children:e?" Auto-refresh ON":" Auto-refresh OFF"}),n.jsxs(ae,{variant:"outline","data-testid":"badge-last-updated",children:["Updated ",new Date().toLocaleTimeString()]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[n.jsx(ur,{className:"w-5 h-5"}),"User Activity"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(l,{title:"Total Queries",value:r.userActivity.totalQueries,icon:Ec,subtitle:"Questions asked"}),n.jsx(l,{title:"Unique Users",value:r.userActivity.uniqueUsers,icon:ur,subtitle:"Active users"}),n.jsx(l,{title:"New Signups",value:r.userActivity.newSignups,icon:sr,subtitle:"First-time users"}),n.jsx(l,{title:"Returning Users",value:r.userActivity.returningUsers,icon:Io,subtitle:"Came back"})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[n.jsx(Ni,{className:"w-5 h-5"}),"Engagement"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(l,{title:"Videos Clicked",value:r.engagement.videosClicked,icon:Ni,subtitle:"Recommendations clicked"}),n.jsx(l,{title:"Videos Watched",value:r.engagement.videosWatched,icon:Ni,subtitle:">30 seconds"}),n.jsx(l,{title:"Avg Watch Time",value:`${r.engagement.avgWatchDuration}s`,icon:Mi,subtitle:"Per video"}),n.jsx(l,{title:"Completion Rate",value:`${r.engagement.completionRate}%`,icon:sr,subtitle:"Clicked  Watched"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[n.jsx(of,{className:"w-5 h-5"}),"System Health"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(l,{title:"Multi-Agent",value:`${r.systemHealth.multiAgentPercentage}%`,icon:of,subtitle:`${r.systemHealth.multiAgentQueries} queries`}),n.jsx(l,{title:"Avg Response",value:`${r.systemHealth.avgResponseTime}ms`,icon:Mi,subtitle:"AI response time"}),n.jsx(l,{title:"Error Rate",value:`${r.systemHealth.errorRate}%`,icon:Tn,subtitle:"Failed queries"}),n.jsx(l,{title:"Basic Algorithm",value:r.systemHealth.basicQueries,icon:Io,subtitle:"Legacy queries"})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[n.jsx(wi,{className:"w-5 h-5"}),"User Feedback"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(l,{title:"Satisfaction",value:`${r.userFeedback.satisfactionRate}%`,icon:wi,subtitle:`${r.userFeedback.totalFeedback} ratings`}),n.jsx(l,{title:"Thumbs Up",value:r.userFeedback.thumbsUp,icon:wi,subtitle:"Positive feedback"}),n.jsx(l,{title:"Thumbs Down",value:r.userFeedback.thumbsDown,icon:d7,subtitle:"Negative feedback"}),n.jsx(l,{title:"Total Feedback",value:r.userFeedback.totalFeedback,icon:Ec,subtitle:"All ratings"})]})]})]}),r.contentPerformance.mostRecommendedVideos.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:" Most Recommended Videos (Top 5)"}),n.jsx(q,{children:n.jsx(H,{className:"p-0",children:n.jsx("div",{className:"divide-y",children:r.contentPerformance.mostRecommendedVideos.map((c,d)=>n.jsxs("div",{className:"p-4 flex items-center justify-between hover-elevate",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsxs(ae,{variant:"secondary",className:"font-bold",children:["#",d+1]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:c.title}),n.jsx("p",{className:"text-sm text-muted-foreground",children:c.instructor})]})]}),n.jsxs(ae,{variant:"default",children:[c.recommendCount," recommendations"]})]},c.videoId))})})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:" Recent Activity (Last 20 Queries)"}),n.jsx(q,{children:n.jsx(H,{className:"p-0",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-muted/50",children:n.jsxs("tr",{className:"text-left text-sm",children:[n.jsx("th",{className:"p-3 font-medium",children:"Time"}),n.jsx("th",{className:"p-3 font-medium",children:"User"}),n.jsx("th",{className:"p-3 font-medium",children:"Question"}),n.jsx("th",{className:"p-3 font-medium text-center",children:"Videos"}),n.jsx("th",{className:"p-3 font-medium text-center",children:"System"}),n.jsx("th",{className:"p-3 font-medium text-center",children:"Response"})]})}),n.jsx("tbody",{className:"divide-y",children:r.recentActivity.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"p-8 text-center text-muted-foreground",children:"No recent activity"})}):r.recentActivity.map((c,d)=>n.jsxs("tr",{className:"hover-elevate",children:[n.jsx("td",{className:"p-3 text-sm",children:new Date(c.timestamp).toLocaleTimeString()}),n.jsx("td",{className:"p-3 text-sm font-mono",children:c.userAnonymized}),n.jsx("td",{className:"p-3 text-sm max-w-md truncate",title:c.question,children:c.question}),n.jsx("td",{className:"p-3 text-center",children:n.jsx(ae,{variant:"secondary",children:c.videosRecommended})}),n.jsx("td",{className:"p-3 text-center",children:n.jsx(ae,{variant:c.multiAgent?"default":"outline",children:c.multiAgent?" Multi":"Basic"})}),n.jsx("td",{className:"p-3 text-center text-sm",children:c.responseTime?`${c.responseTime}ms`:"-"})]},d))})]})})})})]})]})}function Ut({children:e}){const[,t]=at(),{toast:r}=tt(),[a,i]=x.useState(!1),s=async()=>{dH();try{await fetch("/api/admin/logout",{method:"POST",credentials:"include"})}catch{}r({title:"Logged Out",description:"You have been securely logged out"}),t("/admin/login")},o=()=>i(!1);return n.jsxs("div",{className:"flex h-screen bg-background page-container",children:[n.jsx("button",{className:"fixed top-5 left-5 w-14 h-14 rounded-full bg-gradient-to-br from-primary to-purple-600 text-white border-none shadow-lg z-[1000] flex items-center justify-center transition-transform active:scale-95 lg:hidden",onClick:()=>i(!a),"aria-label":"Menu","data-testid":"button-floating-menu",children:a?n.jsx(ni,{className:"w-6 h-6"}):n.jsx(n7,{className:"w-6 h-6"})}),a&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-[998] lg:hidden",onClick:o,"data-testid":"overlay-menu"}),n.jsx("aside",{className:`fixed inset-y-0 left-0 z-[999] w-[280px] bg-card border-r transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:z-auto ${a?"translate-x-0":"-translate-x-full"}`,children:n.jsxs("div",{className:"flex flex-col h-full",children:[n.jsx("div",{className:"p-6 border-b",style:{marginTop:"80px"},children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, #2563EB 0%, #7C3AED 100%)"},children:n.jsx("span",{className:"text-white font-bold text-lg",children:"BJJ"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-bold text-lg",children:"BJJ OS"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Admin Dashboard"})]})]})}),n.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[n.jsx(Kr,{href:"/admin/dashboard",icon:n.jsx(Jz,{}),label:"Dashboard",onClick:o}),n.jsx(Kr,{href:"/admin/command-center",icon:n.jsx(of,{}),label:"Command Center",onClick:o}),n.jsx(Kr,{href:"/admin/videos",icon:n.jsx(Ni,{}),label:"Videos",onClick:o}),n.jsx(Kr,{href:"/admin/users",icon:n.jsx(ur,{}),label:"Users",onClick:o}),n.jsx(Kr,{href:"/admin/analytics",icon:n.jsx(S0,{}),label:"Analytics",onClick:o}),n.jsx(Kr,{href:"/admin/lifetime-access",icon:n.jsx(Hr,{}),label:"Lifetime Access",onClick:o}),n.jsx(Kr,{href:"/admin/referrals",icon:n.jsx(sf,{}),label:"Referrals",onClick:o}),n.jsx(Kr,{href:"/admin/feedback",icon:n.jsx(wi,{}),label:"Feedback",onClick:o}),n.jsx(Kr,{href:"/admin/chat",icon:n.jsx(Ec,{}),label:"Chat",onClick:o}),n.jsx(Kr,{href:"/admin/techniques",icon:n.jsx(_s,{}),label:"Techniques",onClick:o}),n.jsx(Kr,{href:"/admin/chains",icon:n.jsx(iI,{}),label:"Chains",onClick:o}),n.jsx(Kr,{href:"/admin/instructors",icon:n.jsx(ur,{}),label:"Instructors",onClick:o}),n.jsx(Kr,{href:"/admin/partnerships",icon:n.jsx(tI,{}),label:"Partnerships",onClick:o}),n.jsx(Kr,{href:"/admin/meta",icon:n.jsx(af,{}),label:"Meta",onClick:o}),n.jsx(Kr,{href:"/admin/flagged-accounts",icon:n.jsx(_a,{}),label:"Flagged Accounts",onClick:o})]}),n.jsx("div",{className:"p-4 border-t",children:n.jsxs(Y,{variant:"ghost",className:"w-full justify-start",onClick:s,"data-testid":"button-logout",children:[n.jsx(xd,{className:"w-5 h-5 mr-3"}),"Logout"]})})]})}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("header",{className:"hidden lg:flex items-center gap-4 p-4 border-b bg-card",children:n.jsx("div",{className:"flex-1",children:n.jsx("h1",{className:"text-xl font-semibold",children:"Admin Dashboard"})})}),n.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",style:{paddingTop:"80px"},children:e})]})]})}function Kr({href:e,icon:t,label:r,onClick:a}){const[i]=at(),s=i===e;return n.jsxs(dr,{href:e,onClick:a,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors min-h-[44px] ${s?"bg-primary text-primary-foreground":"hover:bg-muted text-muted-foreground hover:text-foreground active:bg-muted/80"}`,"data-testid":`nav-${r.toLowerCase().replace(" ","-")}`,children:[n.jsx("span",{className:"w-5 h-5",children:t}),n.jsx("span",{className:"font-medium text-base",children:r})]})}function hm(e){return e.curationStatus==="active"||e.curationRunning?{text:" Active",color:"text-green-500"}:e.curationStatus==="paused_target_reached"||e.targetReached?{text:" Target Reached",color:"text-blue-500"}:{text:" Offline",color:"text-red-500"}}function hH(){return n.jsxs(dr,{href:"/admin/command-center",className:"fixed bottom-6 right-6 bg-gradient-to-br from-primary to-purple-600 text-white px-6 py-4 rounded-full shadow-lg z-[900] flex items-center gap-2 text-base font-semibold transition-transform active:scale-95 hover:shadow-xl","data-testid":"fab-run-curation",children:[n.jsx(Qn,{className:"w-5 h-5"}),n.jsx("span",{className:"hidden sm:inline",children:"Run Curation"})]})}function My({title:e,icon:t,children:r,defaultExpanded:a=!1,testId:i}){const[s,o]=x.useState(a);return n.jsxs("div",{className:"bg-card rounded-lg border overflow-hidden","data-testid":i,children:[n.jsxs("button",{onClick:()=>o(!s),className:"w-full px-6 py-4 flex items-center justify-between bg-muted/30 hover:bg-muted/50 transition-colors active:bg-muted/70 min-h-[56px]","data-testid":`${i}-toggle`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:t}),n.jsx("h3",{className:"text-lg font-semibold text-left",children:e})]}),s?n.jsx(Ax,{className:"w-5 h-5 text-muted-foreground"}):n.jsx(js,{className:"w-5 h-5 text-muted-foreground"})]}),s&&n.jsx("div",{className:"p-6",children:r})]})}function bC(){const{data:e,isLoading:t,isError:r,error:a,refetch:i}=ue({queryKey:["/api/admin/quick-metrics"],queryFn:async()=>{const s=await fetch("/api/admin/quick-metrics",{credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(s.status===401)throw window.location.href="/admin/login",new Error("Authentication required");if(!s.ok){const o=await s.json().catch(()=>({}));throw new Error(o.error||`Failed to fetch metrics (${s.status})`)}return s.json()},refetchInterval:3e4,retry:2,retryDelay:1e3});return r?n.jsx(Ut,{children:n.jsxs("div",{className:"text-center py-12 space-y-4",children:[n.jsx("p",{className:"text-destructive text-lg",children:"Failed to load dashboard metrics"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a instanceof Error?a.message:"Unknown error"}),n.jsxs(Y,{onClick:()=>i(),variant:"outline","data-testid":"button-retry-metrics",children:[n.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Retry"]})]})}):t||!e?n.jsx(Ut,{children:n.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Loading metrics..."})}):n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-4 pb-24",children:[n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl sm:text-3xl font-bold",children:"BJJ OS Dashboard"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time curation efficiency metrics"})]}),n.jsx(Y,{variant:"outline",size:"icon",onClick:()=>i(),className:"self-start sm:self-auto","data-testid":"button-refresh-dashboard",children:n.jsx(Oa,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[n.jsxs("div",{className:"bg-card rounded-lg border p-5",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"text-3xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Library"}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"value-total-videos",children:e.totalVideos})]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["+",e.videosToday," today"]})]}),n.jsxs("div",{className:"bg-card rounded-lg border p-5",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"text-3xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Curation"}),n.jsx("p",{className:`text-2xl font-bold ${hm(e).color}`,"data-testid":"value-curation-status",children:hm(e).text})]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.minutesSinceRun<999?`${e.minutesSinceRun}m ago`:"Never run"})]}),n.jsxs("div",{className:"bg-card rounded-lg border p-5",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"text-3xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Users"}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"value-total-users",children:e.totalUsers})]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.activeSubscriptions," subscriptions"]})]}),n.jsxs("div",{className:"bg-card rounded-lg border p-5",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"text-3xl",children:""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"MRR"}),n.jsxs("p",{className:"text-2xl font-bold",children:["$",e.mrr]})]})]}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.signedUpToday," new today"]})]})]}),n.jsx(My,{title:"Curation Efficiency (Today)",icon:"",defaultExpanded:!0,testId:"section-curation-efficiency",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Today = ",new Date().toLocaleDateString("en-US",{timeZone:"America/New_York",month:"short",day:"numeric",year:"numeric"})," EST"]}),n.jsxs(ae,{variant:e.curationEfficiency.status==="optimal"?"default":e.curationEfficiency.status==="strict"?"secondary":e.curationEfficiency.status==="too_strict"?"destructive":e.curationEfficiency.status==="loose"?"secondary":e.curationEfficiency.status==="too_loose"?"destructive":"outline","data-testid":"badge-efficiency-status",children:[e.curationEfficiency.status==="optimal"&&" OPTIMAL",e.curationEfficiency.status==="strict"&&" STRICT",e.curationEfficiency.status==="too_strict"&&" TOO STRICT",e.curationEfficiency.status==="loose"&&" LOOSE",e.curationEfficiency.status==="too_loose"&&" TOO LOOSE",e.curationEfficiency.status==="unknown"&&" NO DATA"]})]}),n.jsxs("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-3 md:grid-cols-5",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Discovered"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold","data-testid":"value-discovered",children:e.curationEfficiency.discovered}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From YouTube"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Analyzed"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-blue-500","data-testid":"value-analyzed",children:e.curationEfficiency.analyzed}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"AI processed"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Accepted"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-green-500","data-testid":"value-accepted",children:e.curationEfficiency.accepted}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"To library"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Rejected"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-red-500","data-testid":"value-rejected",children:e.curationEfficiency.rejected}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Quality check"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Skipped"}),n.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-yellow-500","data-testid":"value-skipped",children:e.curationEfficiency.skipped}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Pre-filtered"})]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Acceptance Rate (of analyzed videos)"}),n.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-primary","data-testid":"value-acceptance-rate",children:[e.curationEfficiency.acceptanceRate.toFixed(1),"%"]}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[e.curationEfficiency.acceptanceRate<.5&&" Too strict - might miss good content",e.curationEfficiency.acceptanceRate>=.5&&e.curationEfficiency.acceptanceRate<=2&&" High quality bar",e.curationEfficiency.acceptanceRate>2&&e.curationEfficiency.acceptanceRate<=5&&" Optimal elite curation",e.curationEfficiency.acceptanceRate>5&&e.curationEfficiency.acceptanceRate<=15&&" Quality may be diluting",e.curationEfficiency.acceptanceRate>15&&" Accepting too much"]})]})]})}),n.jsx(My,{title:"System Overview",icon:"",defaultExpanded:!1,testId:"section-system-overview",children:n.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Curation Pipeline"}),n.jsx("p",{className:`font-medium text-lg ${hm(e).color}`,children:hm(e).text})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Monthly Revenue"}),n.jsxs("p",{className:"font-medium text-lg",children:["$",e.mrr]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"New Users Today"}),n.jsx("p",{className:"font-medium text-lg",children:e.signedUpToday})]})]})}),n.jsx(My,{title:"User Activity",icon:"",defaultExpanded:!1,testId:"section-activity",children:n.jsx(fH,{})}),n.jsx(hH,{})]})})}const ti=x.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));ti.displayName="Textarea";const Nt=x.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:je("w-full caption-bottom text-sm",e),...t})}));Nt.displayName="Table";const St=x.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:je("[&_tr]:border-b",e),...t}));St.displayName="TableHeader";const kt=x.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:je("[&_tr:last-child]:border-0",e),...t}));kt.displayName="TableBody";const mH=x.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));mH.displayName="TableFooter";const we=x.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:je("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));we.displayName="TableRow";const G=x.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));G.displayName="TableHead";const V=x.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:je("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));V.displayName="TableCell";const pH=x.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:je("mt-4 text-sm text-muted-foreground",e),...t}));pH.displayName="TableCaption";function gH(){const[e,t]=x.useState(!1),[r,a]=x.useState(""),[i,s]=x.useState(""),{toast:o}=tt(),l=qe({mutationFn:async N=>{const S=await(await ut("POST","/api/admin/login",{password:N})).json();return S.token&&localStorage.setItem("adminToken",S.token),S},onSuccess:()=>{t(!0),o({title:"Login successful"})},onError:()=>{o({title:"Invalid password",variant:"destructive"})}}),{data:c,isLoading:d,refetch:u}=ue({queryKey:["/api/admin/users"],queryFn:async()=>{const N=localStorage.getItem("adminToken"),w=await fetch("/api/admin/users?timeFilter=all&planFilter=all&statusFilter=all&beltFilter=all",{headers:{Authorization:`Bearer ${N}`}});if(!w.ok)throw new Error("Failed to fetch users");return w.json()},enabled:e}),f=qe({mutationFn:async N=>{const w=localStorage.getItem("adminToken"),S=await fetch("/api/admin/lifetime/grant-bulk",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify({phoneNumbers:N,reason:"Beta Tester",notes:"Launch day beta test access"})});if(!S.ok)throw new Error("Failed to grant access");return S.json()},onSuccess:N=>{Pe.invalidateQueries({queryKey:["/api/admin/users"]}),s(""),o({title:"Success!",description:`Granted lifetime access to ${N.granted} users`})},onError:N=>{o({title:"Error",description:N.message,variant:"destructive"})}}),h=N=>{N.preventDefault(),l.mutate(r)},p=()=>{const N=i.split(`
`).map(w=>w.trim()).filter(w=>w.length>0);if(N.length===0){o({title:"Error",description:"Please enter at least one phone number",variant:"destructive"});return}f.mutate(N)};if(!e)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:n.jsxs(q,{className:"w-full max-w-md",children:[n.jsxs(X,{children:[n.jsx(J,{children:" Launch Day Admin"}),n.jsx(Fe,{children:"BJJ OS Beta Testing Dashboard"})]}),n.jsx(H,{children:n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"password",children:"Admin Password"}),n.jsx(be,{id:"password",type:"password",value:r,onChange:N=>a(N.target.value),placeholder:"Enter ADMIN_PASSWORD","data-testid":"input-admin-password"})]}),n.jsx(Y,{type:"submit",className:"w-full",disabled:l.isPending,"data-testid":"button-admin-login",children:l.isPending?"Logging in...":"Login"})]})})]})});const b=(c==null?void 0:c.length)||0,g=new Date;g.setHours(0,0,0,0);const y=(c==null?void 0:c.filter(N=>new Date(N.createdAt)>=g).length)||0,v=(c==null?void 0:c.filter(N=>N.subscriptionTier==="lifetime").length)||0,m=(c==null?void 0:c.filter(N=>N.onboardingCompleted).length)||0,j=(c==null?void 0:c.slice(0,20))||[];return n.jsx("div",{className:"min-h-screen bg-background p-4 md:p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:" Launch Day Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"BJJ OS Beta Testing - Manual Admin"})]}),n.jsx(Y,{variant:"outline",size:"icon",onClick:()=>u(),"data-testid":"button-refresh",children:n.jsx(Oa,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(q,{children:[n.jsx(X,{className:"pb-2",children:n.jsxs(J,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(ur,{className:"w-4 h-4"}),"Total Signups"]})}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-users",children:b})})]}),n.jsxs(q,{children:[n.jsx(X,{className:"pb-2",children:n.jsxs(J,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(Mi,{className:"w-4 h-4"}),"Signups Today"]})}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-signups-today",children:y})})]}),n.jsxs(q,{children:[n.jsx(X,{className:"pb-2",children:n.jsxs(J,{className:"text-sm font-medium flex items-center gap-2",children:[n.jsx(In,{className:"w-4 h-4"}),"Completed Onboarding"]})}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-active-users",children:m})})]}),n.jsxs(q,{children:[n.jsx(X,{className:"pb-2",children:n.jsx(J,{className:"text-sm font-medium",children:"Lifetime Access"})}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-lifetime-users",children:v})})]})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Bulk Grant Lifetime Access"}),n.jsx(Fe,{children:"Paste phone numbers (one per line) to grant lifetime access to all beta testers"})]}),n.jsxs(H,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"bulk-phones",children:"Phone Numbers (E.164 format: +1XXXXXXXXXX)"}),n.jsx(ti,{id:"bulk-phones",value:i,onChange:N=>s(N.target.value),placeholder:`+15551234567
+15559876543
+15555555555`,className:"h-32 font-mono text-sm","data-testid":"textarea-bulk-phones"})]}),n.jsx(Y,{onClick:p,disabled:f.isPending||!i.trim(),"data-testid":"button-bulk-grant",children:f.isPending?"Granting Access...":"Grant All Lifetime Access"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Recent Signups (Last 20)"}),n.jsx(Fe,{children:"Most recent users, newest first"})]}),n.jsx(H,{children:d?n.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Phone Number"}),n.jsx(G,{children:"Signup Time"}),n.jsx(G,{children:"Status"}),n.jsx(G,{children:"Belt"}),n.jsx(G,{children:"Access"})]})}),n.jsx(kt,{children:j.length===0?n.jsx(we,{children:n.jsx(V,{colSpan:5,className:"text-center text-muted-foreground",children:"No signups yet"})}):j.map(N=>n.jsxs(we,{children:[n.jsx(V,{className:"font-mono text-sm",children:N.phoneNumber}),n.jsx(V,{className:"text-sm",children:new Date(N.createdAt).toLocaleString()}),n.jsx(V,{children:n.jsx(ae,{variant:N.onboardingCompleted?"default":"secondary",children:N.onboardingCompleted?"Completed":"Pending"})}),n.jsx(V,{className:"capitalize",children:N.beltLevel||"-"}),n.jsx(V,{children:n.jsx(ae,{variant:N.subscriptionTier==="lifetime"?"default":"outline",children:N.subscriptionTier==="lifetime"?"Lifetime":N.subscriptionStatus})})]},N.id))})]})})})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Quick SQL Queries"}),n.jsx(Fe,{children:"Copy these to Replit Database  Query tab"})]}),n.jsxs(H,{className:"space-y-3",children:[n.jsxs("div",{className:"bg-muted p-3 rounded-md font-mono text-xs",children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"-- Grant lifetime access to one user"}),n.jsx("code",{children:"UPDATE bjj_users SET subscription_tier = 'lifetime', subscription_status = 'active' WHERE phone_number = '+15551234567';"})]}),n.jsxs("div",{className:"bg-muted p-3 rounded-md font-mono text-xs",children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"-- View signups today"}),n.jsx("code",{children:"SELECT COUNT(*) FROM bjj_users WHERE created_at >= CURRENT_DATE;"})]}),n.jsxs("div",{className:"bg-muted p-3 rounded-md font-mono text-xs",children:[n.jsx("p",{className:"text-muted-foreground mb-1",children:"-- Check active users (sent messages)"}),n.jsx("code",{children:"SELECT COUNT(DISTINCT user_id) FROM conversations WHERE created_at >= CURRENT_DATE;"})]})]})]})]})})}var tN="Switch",[xH,V1e]=vn(tN),[vH,yH]=xH(tN),IM=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:d,form:u,...f}=e,[h,p]=x.useState(null),b=nt(t,j=>p(j)),g=x.useRef(!1),y=h?u||!!h.closest("form"):!0,[v=!1,m]=Za({prop:i,defaultProp:s,onChange:d});return n.jsxs(vH,{scope:r,checked:v,disabled:l,children:[n.jsx(Ue.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":$M(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onClick:Ie(e.onClick,j=>{m(N=>!N),y&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),y&&n.jsx(bH,{control:h,bubbles:!g.current,name:a,value:c,checked:v,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});IM.displayName=tN;var RM="SwitchThumb",MM=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,i=yH(RM,r);return n.jsx(Ue.span,{"data-state":$M(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})});MM.displayName=RM;var bH=e=>{const{control:t,checked:r,bubbles:a=!0,...i}=e,s=x.useRef(null),o=Ux(r),l=_x(t);return x.useEffect(()=>{const c=s.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:a});f.call(c,r),c.dispatchEvent(h)}},[o,r,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function $M(e){return e?"checked":"unchecked"}var DM=IM,jH=MM;const rN=x.forwardRef(({className:e,...t},r)=>n.jsx(DM,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(jH,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));rN.displayName=DM.displayName;function wH(){const[e,t]=x.useState(""),[r,a]=x.useState("all"),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,d]=x.useState("all"),{toast:u}=tt(),{data:f,isLoading:h,refetch:p}=ue({queryKey:["/api/admin/users",{timeFilter:r,planFilter:i,statusFilter:o,beltFilter:c}],queryFn:()=>_e(`/api/admin/users?timeFilter=${r}&planFilter=${i}&statusFilter=${o}&beltFilter=${c}`)}),b=qe({mutationFn:async()=>{const w=await fetch("/api/admin/create-test-user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`}});if(!w.ok)throw new Error("Failed to create test user");return w.json()},onSuccess:()=>{u({title:"Test User Created",description:"A demo user has been created for testing"}),Pe.invalidateQueries({queryKey:["/api/admin/users"]})},onError:()=>{u({title:"Error",description:"Failed to create test user",variant:"destructive"})}}),g=qe({mutationFn:async({userId:w,enable:S})=>{const k=await fetch(`/api/admin/users/${w}/toggle-lifetime-bypass`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("adminToken")}`},body:JSON.stringify({enable:S})});if(!k.ok)throw new Error("Failed to toggle lifetime bypass");return k.json()},onSuccess:w=>{u({title:"Lifetime Bypass Updated",description:`LIFETIME code ${w.isLifetimeUser?"enabled":"disabled"} for ${w.phoneNumber}`}),Pe.invalidateQueries({queryKey:["/api/admin/users"]})},onError:()=>{u({title:"Error",description:"Failed to toggle lifetime bypass",variant:"destructive"})}}),y=qe({mutationFn:async({email:w})=>await _e("/api/admin/lifetime/grant-instant","POST",{email:w,sendEmail:!1}),onSuccess:w=>{u({title:"Lifetime Access Granted",description:w.message}),Pe.invalidateQueries({queryKey:["/api/admin/users"]})},onError:w=>{u({title:"Error",description:w.message||"Failed to grant lifetime access",variant:"destructive"})}}),v=qe({mutationFn:async({userId:w})=>await _e(`/api/admin/users/${w}/revoke-lifetime`,"POST",{}),onSuccess:()=>{u({title:"Lifetime Access Revoked",description:"User subscription changed to free tier"}),Pe.invalidateQueries({queryKey:["/api/admin/users"]})},onError:w=>{u({title:"Error",description:w.message||"Failed to revoke lifetime access",variant:"destructive"})}}),m=(f==null?void 0:f.filter(w=>{var S,k,C;return((S=w.name)==null?void 0:S.toLowerCase().includes(e.toLowerCase()))||((k=w.email)==null?void 0:k.toLowerCase().includes(e.toLowerCase()))||((C=w.phoneNumber)==null?void 0:C.includes(e))}))||[],j=w=>{if(!f)return 0;const S=new Date;return f.filter(k=>{const C=new Date(k.createdAt);switch(w){case"24h":return S.getTime()-C.getTime()<=24*60*60*1e3;case"7d":return S.getTime()-C.getTime()<=7*24*60*60*1e3;case"30d":return S.getTime()-C.getTime()<=30*24*60*60*1e3;case"90d":return S.getTime()-C.getTime()<=90*24*60*60*1e3;case"all":return!0;default:return!0}}).length},N=w=>{const S=new Date(w);return new Date().getTime()-S.getTime()<=24*60*60*1e3};return n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold",children:"User Management"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage and monitor your users"})]}),n.jsx(Y,{variant:"outline",size:"icon",onClick:()=>p(),"data-testid":"button-refresh-users",children:n.jsx(Oa,{className:"w-4 h-4"})})]}),n.jsx(q,{className:"p-1",children:n.jsx("div",{className:"flex gap-1",children:["24h","7d","30d","90d","all"].map(w=>n.jsxs(Y,{variant:r===w?"default":"ghost",onClick:()=>a(w),className:"flex-1","data-testid":`filter-time-${w}`,children:[n.jsx("span",{className:"font-medium",children:w==="24h"?"Last 24 Hours":w==="7d"?"Last 7 Days":w==="30d"?"Last 30 Days":w==="90d"?"Last 90 Days":"All Time"}),n.jsx(ae,{variant:"secondary",className:"ml-2",children:j(w)})]},w))})}),n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[n.jsx(xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),n.jsx(be,{placeholder:"Search by name, email, or phone...",className:"pl-10",value:e,onChange:w=>t(w.target.value),"data-testid":"input-user-search"})]}),n.jsxs(Xe,{value:i,onValueChange:s,children:[n.jsx(Ye,{className:"w-[180px]","data-testid":"select-plan-filter",children:n.jsx(Je,{placeholder:"Plan Type"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Plans"}),n.jsx(K,{value:"sms",children:"SMS Only"}),n.jsx(K,{value:"full",children:"Full AI Package"}),n.jsx(K,{value:"lifetime",children:"Lifetime"}),n.jsx(K,{value:"free",children:"Free"})]})]}),n.jsxs(Xe,{value:o,onValueChange:l,children:[n.jsx(Ye,{className:"w-[180px]","data-testid":"select-status-filter",children:n.jsx(Je,{placeholder:"Status"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:"active",children:"Active"}),n.jsx(K,{value:"trial",children:"Trial"}),n.jsx(K,{value:"cancelled",children:"Cancelled"})]})]}),n.jsxs(Xe,{value:c,onValueChange:d,children:[n.jsx(Ye,{className:"w-[180px]","data-testid":"select-belt-filter",children:n.jsx(Je,{placeholder:"Belt Level"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Belts"}),n.jsx(K,{value:"white",children:"White Belt"}),n.jsx(K,{value:"blue",children:"Blue Belt"}),n.jsx(K,{value:"purple",children:"Purple Belt"}),n.jsx(K,{value:"brown",children:"Brown Belt"}),n.jsx(K,{value:"black",children:"Black Belt"})]})]})]}),!h&&m.length===0&&!e?n.jsx(q,{className:"p-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center",children:n.jsx(ur,{className:"w-8 h-8 text-muted-foreground"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No users yet"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Your first user will appear here when they sign up."})]}),n.jsxs(Y,{onClick:()=>b.mutate(),disabled:b.isPending,"data-testid":"button-create-test-user",children:[n.jsx(m7,{className:"w-4 h-4 mr-2"}),"Create Test User"]})]})}):n.jsx("div",{className:"rounded-lg border bg-card",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"User"}),n.jsx(G,{children:"Email"}),n.jsx(G,{children:"Phone"}),n.jsx(G,{children:"Plan"}),n.jsx(G,{children:"Belt"}),n.jsx(G,{children:"Status"}),n.jsx(G,{children:"LIFETIME Bypass"}),n.jsx(G,{children:"Joined"}),n.jsx(G,{className:"text-right",children:"Actions"})]})}),n.jsx(kt,{children:h?n.jsx(we,{children:n.jsx(V,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"Loading users..."})}):m.length===0?n.jsx(we,{children:n.jsx(V,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"No users found matching your filters"})}):m.map(w=>n.jsxs(we,{children:[n.jsx(V,{className:"font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[w.name||"Unnamed",N(w.createdAt)&&n.jsx(ae,{variant:"default",className:"text-xs",children:"NEW"})]})}),n.jsx(V,{children:w.email||"No email"}),n.jsx(V,{children:w.phoneNumber}),n.jsx(V,{children:n.jsx(ae,{variant:w.subscriptionType==="lifetime"?"default":"secondary",children:w.subscriptionType||"free"})}),n.jsx(V,{children:w.beltLevel?n.jsx(ae,{variant:"outline",children:w.beltLevel}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(V,{children:n.jsx(ae,{variant:w.subscriptionStatus==="active"?"default":"secondary",children:w.subscriptionStatus||"inactive"})}),n.jsx(V,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rN,{checked:w.isLifetimeUser||!1,onCheckedChange:S=>{g.mutate({userId:w.id,enable:S})},disabled:g.isPending,"data-testid":`toggle-lifetime-bypass-${w.id}`}),w.isLifetimeUser&&n.jsxs(ae,{variant:"default",className:"text-xs",children:[n.jsx(Xz,{className:"w-3 h-3 mr-1"}),"ENABLED"]})]})}),n.jsx(V,{className:"text-muted-foreground",children:new Date(w.createdAt).toLocaleDateString()}),n.jsx(V,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[w.subscriptionType!=="lifetime"?n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>y.mutate({email:w.email}),disabled:!w.email||y.isPending,title:"Grant Lifetime Access","data-testid":`button-grant-lifetime-${w.id}`,children:n.jsx(Hr,{className:"w-4 h-4 text-yellow-500"})}):n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>v.mutate({userId:w.id}),disabled:v.isPending,title:"Revoke Lifetime Access","data-testid":`button-revoke-lifetime-${w.id}`,children:n.jsx(qo,{className:"w-4 h-4 text-red-500"})}),n.jsx(Y,{variant:"ghost",size:"icon","data-testid":`button-view-user-${w.id}`,children:n.jsx(Rr,{className:"w-4 h-4"})}),n.jsx(Y,{variant:"ghost",size:"icon","data-testid":`button-edit-user-${w.id}`,children:n.jsx(Pu,{className:"w-4 h-4"})})]})})]},w.id))})]})})]})})}var nN="Dialog",[LM,FM]=vn(nN),[NH,Ma]=LM(nN),BM=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[d=!1,u]=Za({prop:a,defaultProp:i,onChange:s});return n.jsx(NH,{scope:t,triggerRef:l,contentRef:c,contentId:Si(),titleId:Si(),descriptionId:Si(),open:d,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(f=>!f),[u]),modal:o,children:r})};BM.displayName=nN;var zM="DialogTrigger",UM=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,i=Ma(zM,r),s=nt(t,i.triggerRef);return n.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":sN(i.open),...a,ref:s,onClick:Ie(e.onClick,i.onOpenToggle)})});UM.displayName=zM;var aN="DialogPortal",[SH,VM]=LM(aN,{forceMount:void 0}),qM=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:i}=e,s=Ma(aN,t);return n.jsx(SH,{scope:t,forceMount:r,children:x.Children.map(a,o=>n.jsx(ra,{present:r||s.open,children:n.jsx(Nx,{asChild:!0,container:i,children:o})}))})};qM.displayName=aN;var Yp="DialogOverlay",WM=x.forwardRef((e,t)=>{const r=VM(Yp,e.__scopeDialog),{forceMount:a=r.forceMount,...i}=e,s=Ma(Yp,e.__scopeDialog);return s.modal?n.jsx(ra,{present:a||s.open,children:n.jsx(CH,{...i,ref:t})}):null});WM.displayName=Yp;var kH=Pc("DialogOverlay.RemoveScroll"),CH=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,i=Ma(Yp,r);return n.jsx(J1,{as:kH,allowPinchZoom:!0,shards:[i.contentRef],children:n.jsx(Ue.div,{"data-state":sN(i.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),Yo="DialogContent",HM=x.forwardRef((e,t)=>{const r=VM(Yo,e.__scopeDialog),{forceMount:a=r.forceMount,...i}=e,s=Ma(Yo,e.__scopeDialog);return n.jsx(ra,{present:a||s.open,children:s.modal?n.jsx(AH,{...i,ref:t}):n.jsx(PH,{...i,ref:t})})});HM.displayName=Yo;var AH=x.forwardRef((e,t)=>{const r=Ma(Yo,e.__scopeDialog),a=x.useRef(null),i=nt(t,r.contentRef,a);return x.useEffect(()=>{const s=a.current;if(s)return DR(s)},[]),n.jsx(KM,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,s=>s.preventDefault())})}),PH=x.forwardRef((e,t)=>{const r=Ma(Yo,e.__scopeDialog),a=x.useRef(!1),i=x.useRef(!1);return n.jsx(KM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:s=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(a.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),KM=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,l=Ma(Yo,r),c=x.useRef(null),d=nt(t,c);return RR(),n.jsxs(n.Fragment,{children:[n.jsx(X1,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:s,children:n.jsx(hh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":sN(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(TH,{titleId:l.titleId}),n.jsx(_H,{contentRef:c,descriptionId:l.descriptionId})]})]})}),iN="DialogTitle",GM=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,i=Ma(iN,r);return n.jsx(Ue.h2,{id:i.titleId,...a,ref:t})});GM.displayName=iN;var YM="DialogDescription",QM=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,i=Ma(YM,r);return n.jsx(Ue.p,{id:i.descriptionId,...a,ref:t})});QM.displayName=YM;var XM="DialogClose",JM=x.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,i=Ma(XM,r);return n.jsx(Ue.button,{type:"button",...a,ref:t,onClick:Ie(e.onClick,()=>i.onOpenChange(!1))})});JM.displayName=XM;function sN(e){return e?"open":"closed"}var ZM="DialogTitleWarning",[EH,e5]=rz(ZM,{contentName:Yo,titleName:iN,docsSlug:"dialog"}),TH=({titleId:e})=>{const t=e5(ZM),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},OH="DialogDescriptionWarning",_H=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e5(OH).contentName}}.`;return x.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},oN=BM,t5=UM,lN=qM,jh=WM,wh=HM,Nh=GM,Sh=QM,kh=JM;const Ar=oN,mf=t5,IH=lN,RH=kh,r5=x.forwardRef(({className:e,...t},r)=>n.jsx(jh,{ref:r,className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));r5.displayName=jh.displayName;const yr=x.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(IH,{children:[n.jsx(r5,{}),n.jsxs(wh,{ref:a,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(kh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(ni,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));yr.displayName=wh.displayName;const br=({className:e,...t})=>n.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});br.displayName="DialogHeader";const Hs=({className:e,...t})=>n.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hs.displayName="DialogFooter";const jr=x.forwardRef(({className:e,...t},r)=>n.jsx(Nh,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",e),...t}));jr.displayName=Nh.displayName;const nn=x.forwardRef(({className:e,...t},r)=>n.jsx(Sh,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));nn.displayName=Sh.displayName;var $y="rovingFocusGroup.onEntryFocus",MH={bubbles:!1,cancelable:!0},Kx="RovingFocusGroup",[K0,n5,$H]=wx(Kx),[DH,a5]=vn(Kx,[$H]),[LH,FH]=DH(Kx),i5=x.forwardRef((e,t)=>n.jsx(K0.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(K0.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(BH,{...e,ref:t})})}));i5.displayName=Kx;var BH=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,h=x.useRef(null),p=nt(t,h),b=yh(s),[g=null,y]=Za({prop:o,defaultProp:l,onChange:c}),[v,m]=x.useState(!1),j=nr(d),N=n5(r),w=x.useRef(!1),[S,k]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener($y,j),()=>C.removeEventListener($y,j)},[j]),n.jsx(LH,{scope:r,orientation:a,dir:b,loop:i,currentTabStopId:g,onItemFocus:x.useCallback(C=>y(C),[y]),onItemShiftTab:x.useCallback(()=>m(!0),[]),onFocusableItemAdd:x.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>k(C=>C-1),[]),children:n.jsx(Ue.div,{tabIndex:v||S===0?-1:0,"data-orientation":a,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{w.current=!0}),onFocus:Ie(e.onFocus,C=>{const A=!w.current;if(C.target===C.currentTarget&&A&&!v){const O=new CustomEvent($y,MH);if(C.currentTarget.dispatchEvent(O),!O.defaultPrevented){const I=N().filter(_=>_.focusable),P=I.find(_=>_.active),R=I.find(_=>_.id===g),E=[P,R,...I].filter(Boolean).map(_=>_.ref.current);l5(E,u)}}w.current=!1}),onBlur:Ie(e.onBlur,()=>m(!1))})})}),s5="RovingFocusGroupItem",o5=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:i=!1,tabStopId:s,...o}=e,l=Si(),c=s||l,d=FH(s5,r),u=d.currentTabStopId===c,f=n5(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=d;return x.useEffect(()=>{if(a)return h(),()=>p()},[a,h,p]),n.jsx(K0.ItemSlot,{scope:r,id:c,focusable:a,active:i,children:n.jsx(Ue.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:Ie(e.onMouseDown,b=>{a?d.onItemFocus(c):b.preventDefault()}),onFocus:Ie(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Ie(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=VH(b,d.orientation,d.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let v=f().filter(m=>m.focusable).map(m=>m.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const m=v.indexOf(b.currentTarget);v=d.loop?qH(v,m+1):v.slice(m+1)}setTimeout(()=>l5(v))}})})})});o5.displayName=s5;var zH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UH(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function VH(e,t,r){const a=UH(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return zH[a]}function l5(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function qH(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var WH=i5,HH=o5,cN="Tabs",[KH,q1e]=vn(cN,[a5]),c5=a5(),[GH,dN]=KH(cN),d5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,u=yh(l),[f,h]=Za({prop:a,onChange:i,defaultProp:s});return n.jsx(GH,{scope:r,baseId:Si(),value:f,onValueChange:h,orientation:o,dir:u,activationMode:c,children:n.jsx(Ue.div,{dir:u,"data-orientation":o,...d,ref:t})})});d5.displayName=cN;var u5="TabsList",f5=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...i}=e,s=dN(u5,r),o=c5(r);return n.jsx(WH,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:a,children:n.jsx(Ue.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});f5.displayName=u5;var h5="TabsTrigger",m5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:i=!1,...s}=e,o=dN(h5,r),l=c5(r),c=x5(o.baseId,a),d=v5(o.baseId,a),u=a===o.value;return n.jsx(HH,{asChild:!0,...l,focusable:!i,active:u,children:n.jsx(Ue.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:Ie(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(a):f.preventDefault()}),onKeyDown:Ie(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(a)}),onFocus:Ie(e.onFocus,()=>{const f=o.activationMode!=="manual";!u&&!i&&f&&o.onValueChange(a)})})})});m5.displayName=h5;var p5="TabsContent",g5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:i,children:s,...o}=e,l=dN(p5,r),c=x5(l.baseId,a),d=v5(l.baseId,a),u=a===l.value,f=x.useRef(u);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),n.jsx(ra,{present:i||u,children:({present:h})=>n.jsx(Ue.div,{"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});g5.displayName=p5;function x5(e,t){return`${e}-trigger-${t}`}function v5(e,t){return`${e}-content-${t}`}var YH=d5,y5=f5,b5=m5,j5=g5;const sl=YH,Zs=x.forwardRef(({className:e,...t},r)=>n.jsx(y5,{ref:r,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Zs.displayName=y5.displayName;const Zt=x.forwardRef(({className:e,...t},r)=>n.jsx(b5,{ref:r,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Zt.displayName=b5.displayName;const er=x.forwardRef(({className:e,...t},r)=>n.jsx(j5,{ref:r,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));er.displayName=j5.displayName;var QH=Array.isArray,yn=QH,XH=typeof zh=="object"&&zh&&zh.Object===Object&&zh,w5=XH,JH=w5,ZH=typeof self=="object"&&self&&self.Object===Object&&self,eK=JH||ZH||Function("return this")(),ii=eK,tK=ii,rK=tK.Symbol,Ch=rK,jC=Ch,N5=Object.prototype,nK=N5.hasOwnProperty,aK=N5.toString,Xd=jC?jC.toStringTag:void 0;function iK(e){var t=nK.call(e,Xd),r=e[Xd];try{e[Xd]=void 0;var a=!0}catch{}var i=aK.call(e);return a&&(t?e[Xd]=r:delete e[Xd]),i}var sK=iK,oK=Object.prototype,lK=oK.toString;function cK(e){return lK.call(e)}var dK=cK,wC=Ch,uK=sK,fK=dK,hK="[object Null]",mK="[object Undefined]",NC=wC?wC.toStringTag:void 0;function pK(e){return e==null?e===void 0?mK:hK:NC&&NC in Object(e)?uK(e):fK(e)}var Hi=pK;function gK(e){return e!=null&&typeof e=="object"}var Ki=gK,xK=Hi,vK=Ki,yK="[object Symbol]";function bK(e){return typeof e=="symbol"||vK(e)&&xK(e)==yK}var kd=bK,jK=yn,wK=kd,NK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,SK=/^\w*$/;function kK(e,t){if(jK(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||wK(e)?!0:SK.test(e)||!NK.test(e)||t!=null&&e in Object(t)}var uN=kK;function CK(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var eo=CK;const Cd=It(eo);var AK=Hi,PK=eo,EK="[object AsyncFunction]",TK="[object Function]",OK="[object GeneratorFunction]",_K="[object Proxy]";function IK(e){if(!PK(e))return!1;var t=AK(e);return t==TK||t==OK||t==EK||t==_K}var fN=IK;const ot=It(fN);var RK=ii,MK=RK["__core-js_shared__"],$K=MK,Dy=$K,SC=function(){var e=/[^.]+$/.exec(Dy&&Dy.keys&&Dy.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function DK(e){return!!SC&&SC in e}var LK=DK,FK=Function.prototype,BK=FK.toString;function zK(e){if(e!=null){try{return BK.call(e)}catch{}try{return e+""}catch{}}return""}var S5=zK,UK=fN,VK=LK,qK=eo,WK=S5,HK=/[\\^$.*+?()[\]{}|]/g,KK=/^\[object .+?Constructor\]$/,GK=Function.prototype,YK=Object.prototype,QK=GK.toString,XK=YK.hasOwnProperty,JK=RegExp("^"+QK.call(XK).replace(HK,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ZK(e){if(!qK(e)||VK(e))return!1;var t=UK(e)?JK:KK;return t.test(WK(e))}var eG=ZK;function tG(e,t){return e==null?void 0:e[t]}var rG=tG,nG=eG,aG=rG;function iG(e,t){var r=aG(e,t);return nG(r)?r:void 0}var ol=iG,sG=ol,oG=sG(Object,"create"),Gx=oG,kC=Gx;function lG(){this.__data__=kC?kC(null):{},this.size=0}var cG=lG;function dG(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var uG=dG,fG=Gx,hG="__lodash_hash_undefined__",mG=Object.prototype,pG=mG.hasOwnProperty;function gG(e){var t=this.__data__;if(fG){var r=t[e];return r===hG?void 0:r}return pG.call(t,e)?t[e]:void 0}var xG=gG,vG=Gx,yG=Object.prototype,bG=yG.hasOwnProperty;function jG(e){var t=this.__data__;return vG?t[e]!==void 0:bG.call(t,e)}var wG=jG,NG=Gx,SG="__lodash_hash_undefined__";function kG(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=NG&&t===void 0?SG:t,this}var CG=kG,AG=cG,PG=uG,EG=xG,TG=wG,OG=CG;function Ad(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Ad.prototype.clear=AG;Ad.prototype.delete=PG;Ad.prototype.get=EG;Ad.prototype.has=TG;Ad.prototype.set=OG;var _G=Ad;function IG(){this.__data__=[],this.size=0}var RG=IG;function MG(e,t){return e===t||e!==e&&t!==t}var hN=MG,$G=hN;function DG(e,t){for(var r=e.length;r--;)if($G(e[r][0],t))return r;return-1}var Yx=DG,LG=Yx,FG=Array.prototype,BG=FG.splice;function zG(e){var t=this.__data__,r=LG(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():BG.call(t,r,1),--this.size,!0}var UG=zG,VG=Yx;function qG(e){var t=this.__data__,r=VG(t,e);return r<0?void 0:t[r][1]}var WG=qG,HG=Yx;function KG(e){return HG(this.__data__,e)>-1}var GG=KG,YG=Yx;function QG(e,t){var r=this.__data__,a=YG(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var XG=QG,JG=RG,ZG=UG,eY=WG,tY=GG,rY=XG;function Pd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Pd.prototype.clear=JG;Pd.prototype.delete=ZG;Pd.prototype.get=eY;Pd.prototype.has=tY;Pd.prototype.set=rY;var Qx=Pd,nY=ol,aY=ii,iY=nY(aY,"Map"),mN=iY,CC=_G,sY=Qx,oY=mN;function lY(){this.size=0,this.__data__={hash:new CC,map:new(oY||sY),string:new CC}}var cY=lY;function dY(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var uY=dY,fY=uY;function hY(e,t){var r=e.__data__;return fY(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Xx=hY,mY=Xx;function pY(e){var t=mY(this,e).delete(e);return this.size-=t?1:0,t}var gY=pY,xY=Xx;function vY(e){return xY(this,e).get(e)}var yY=vY,bY=Xx;function jY(e){return bY(this,e).has(e)}var wY=jY,NY=Xx;function SY(e,t){var r=NY(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var kY=SY,CY=cY,AY=gY,PY=yY,EY=wY,TY=kY;function Ed(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Ed.prototype.clear=CY;Ed.prototype.delete=AY;Ed.prototype.get=PY;Ed.prototype.has=EY;Ed.prototype.set=TY;var pN=Ed,k5=pN,OY="Expected a function";function gN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(OY);var r=function(){var a=arguments,i=t?t.apply(this,a):a[0],s=r.cache;if(s.has(i))return s.get(i);var o=e.apply(this,a);return r.cache=s.set(i,o)||s,o};return r.cache=new(gN.Cache||k5),r}gN.Cache=k5;var C5=gN;const _Y=It(C5);var IY=C5,RY=500;function MY(e){var t=IY(e,function(a){return r.size===RY&&r.clear(),a}),r=t.cache;return t}var $Y=MY,DY=$Y,LY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FY=/\\(\\)?/g,BY=DY(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(LY,function(r,a,i,s){t.push(i?s.replace(FY,"$1"):a||r)}),t}),zY=BY;function UY(e,t){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=t(e[r],r,e);return i}var xN=UY,AC=Ch,VY=xN,qY=yn,WY=kd,HY=1/0,PC=AC?AC.prototype:void 0,EC=PC?PC.toString:void 0;function A5(e){if(typeof e=="string")return e;if(qY(e))return VY(e,A5)+"";if(WY(e))return EC?EC.call(e):"";var t=e+"";return t=="0"&&1/e==-HY?"-0":t}var KY=A5,GY=KY;function YY(e){return e==null?"":GY(e)}var P5=YY,QY=yn,XY=uN,JY=zY,ZY=P5;function eQ(e,t){return QY(e)?e:XY(e,t)?[e]:JY(ZY(e))}var E5=eQ,tQ=kd,rQ=1/0;function nQ(e){if(typeof e=="string"||tQ(e))return e;var t=e+"";return t=="0"&&1/e==-rQ?"-0":t}var Jx=nQ,aQ=E5,iQ=Jx;function sQ(e,t){t=aQ(t,e);for(var r=0,a=t.length;e!=null&&r<a;)e=e[iQ(t[r++])];return r&&r==a?e:void 0}var vN=sQ,oQ=vN;function lQ(e,t,r){var a=e==null?void 0:oQ(e,t);return a===void 0?r:a}var T5=lQ;const Xn=It(T5);function cQ(e){return e==null}var dQ=cQ;const ft=It(dQ);var uQ=Hi,fQ=yn,hQ=Ki,mQ="[object String]";function pQ(e){return typeof e=="string"||!fQ(e)&&hQ(e)&&uQ(e)==mQ}var gQ=pQ;const Ah=It(gQ);var O5={exports:{}},Et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN=Symbol.for("react.element"),bN=Symbol.for("react.portal"),Zx=Symbol.for("react.fragment"),ev=Symbol.for("react.strict_mode"),tv=Symbol.for("react.profiler"),rv=Symbol.for("react.provider"),nv=Symbol.for("react.context"),xQ=Symbol.for("react.server_context"),av=Symbol.for("react.forward_ref"),iv=Symbol.for("react.suspense"),sv=Symbol.for("react.suspense_list"),ov=Symbol.for("react.memo"),lv=Symbol.for("react.lazy"),vQ=Symbol.for("react.offscreen"),_5;_5=Symbol.for("react.module.reference");function aa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yN:switch(e=e.type,e){case Zx:case tv:case ev:case iv:case sv:return e;default:switch(e=e&&e.$$typeof,e){case xQ:case nv:case av:case lv:case ov:case rv:return e;default:return t}}case bN:return t}}}Et.ContextConsumer=nv;Et.ContextProvider=rv;Et.Element=yN;Et.ForwardRef=av;Et.Fragment=Zx;Et.Lazy=lv;Et.Memo=ov;Et.Portal=bN;Et.Profiler=tv;Et.StrictMode=ev;Et.Suspense=iv;Et.SuspenseList=sv;Et.isAsyncMode=function(){return!1};Et.isConcurrentMode=function(){return!1};Et.isContextConsumer=function(e){return aa(e)===nv};Et.isContextProvider=function(e){return aa(e)===rv};Et.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yN};Et.isForwardRef=function(e){return aa(e)===av};Et.isFragment=function(e){return aa(e)===Zx};Et.isLazy=function(e){return aa(e)===lv};Et.isMemo=function(e){return aa(e)===ov};Et.isPortal=function(e){return aa(e)===bN};Et.isProfiler=function(e){return aa(e)===tv};Et.isStrictMode=function(e){return aa(e)===ev};Et.isSuspense=function(e){return aa(e)===iv};Et.isSuspenseList=function(e){return aa(e)===sv};Et.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Zx||e===tv||e===ev||e===iv||e===sv||e===vQ||typeof e=="object"&&e!==null&&(e.$$typeof===lv||e.$$typeof===ov||e.$$typeof===rv||e.$$typeof===nv||e.$$typeof===av||e.$$typeof===_5||e.getModuleId!==void 0)};Et.typeOf=aa;O5.exports=Et;var yQ=O5.exports,bQ=Hi,jQ=Ki,wQ="[object Number]";function NQ(e){return typeof e=="number"||jQ(e)&&bQ(e)==wQ}var I5=NQ;const SQ=It(I5);var kQ=I5;function CQ(e){return kQ(e)&&e!=+e}var AQ=CQ;const Ph=It(AQ);var ka=function(t){return t===0?0:t>0?1:-1},bo=function(t){return Ah(t)&&t.indexOf("%")===t.length-1},Ne=function(t){return SQ(t)&&!Ph(t)},vr=function(t){return Ne(t)||Ah(t)},PQ=0,Eh=function(t){var r=++PQ;return"".concat(t||"").concat(r)},Qo=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(t)&&!Ah(t))return a;var s;if(bo(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return Ph(s)&&(s=a),i&&s>r&&(s=r),s},cs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},EQ=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},i=0;i<r;i++)if(!a[t[i]])a[t[i]]=!0;else return!0;return!1},ba=function(t,r){return Ne(t)&&Ne(r)?function(a){return t+a*(r-t)}:function(){return r}};function Qp(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):Xn(a,t))===r})}function rc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function G0(e){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G0(e)}var TQ=["viewBox","children"],OQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],TC=["points","pathLength"],Ly={svg:TQ,polygon:TC,polyline:TC},jN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Xp=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Cd(a))return null;var i={};return Object.keys(a).forEach(function(s){jN.includes(s)&&(i[s]=r||function(o){return a[s](a,o)})}),i},_Q=function(t,r,a){return function(i){return t(r,a,i),null}},Jp=function(t,r,a){if(!Cd(t)||G0(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];jN.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=_Q(o,r,a))}),i},IQ=["children"],RQ=["children"];function OC(e,t){if(e==null)return{};var r=MQ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function MQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Y0(e){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y0(e)}var _C={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ki=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},IC=null,Fy=null,wN=function e(t){if(t===IC&&Array.isArray(Fy))return Fy;var r=[];return x.Children.forEach(t,function(a){ft(a)||(yQ.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),Fy=r,IC=t,r};function Jn(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(i){return ki(i)}):a=[ki(t)],wN(e).forEach(function(i){var s=Xn(i,"type.displayName")||Xn(i,"type.name");a.indexOf(s)!==-1&&r.push(i)}),r}function Sn(e,t){var r=Jn(e,t);return r&&r[0]}var RC=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,i=r.height;return!(!Ne(a)||a<=0||!Ne(i)||i<=0)},$Q=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],DQ=function(t){return t&&t.type&&Ah(t.type)&&$Q.indexOf(t.type)>=0},LQ=function(t){return t&&Y0(t)==="object"&&"clipDot"in t},FQ=function(t,r,a,i){var s,o=(s=Ly==null?void 0:Ly[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!ot(t)&&(i&&o.includes(r)||OQ.includes(r))||a&&jN.includes(r)},pt=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(x.isValidElement(t)&&(i=t.props),!Cd(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;FQ((l=i)===null||l===void 0?void 0:l[o],o,r,a)&&(s[o]=i[o])}),s},Q0=function e(t,r){if(t===r)return!0;var a=x.Children.count(t);if(a!==x.Children.count(r))return!1;if(a===0)return!0;if(a===1)return MC(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<a;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!MC(s,o))return!1}return!0},MC=function(t,r){if(ft(t)&&ft(r))return!0;if(!ft(t)&&!ft(r)){var a=t.props||{},i=a.children,s=OC(a,IQ),o=r.props||{},l=o.children,c=OC(o,RQ);return i&&l?rc(s,c)&&Q0(i,l):!i&&!l?rc(s,c):!1}return!1},$C=function(t,r){var a=[],i={};return wN(t).forEach(function(s,o){if(DQ(s))a.push(s);else if(s){var l=ki(s.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!i[l])){var f=d(s,l,o);a.push(f),i[l]=!0}}}),a},BQ=function(t){var r=t&&t.type;return r&&_C[r]?_C[r]:null},zQ=function(t,r){return wN(r).indexOf(t)},UQ=["children","width","height","viewBox","className","style","title","desc"];function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},X0.apply(this,arguments)}function VQ(e,t){if(e==null)return{};var r=qQ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function J0(e){var t=e.children,r=e.width,a=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,d=VQ(e,UQ),u=i||{width:r,height:a,x:0,y:0},f=gt("recharts-surface",s);return F.createElement("svg",X0({},pt(d,!0,"svg"),{className:f,width:r,height:a,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),F.createElement("title",null,l),F.createElement("desc",null,c),t)}var WQ=["children","className"];function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Z0.apply(this,arguments)}function HQ(e,t){if(e==null)return{};var r=KQ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function KQ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var ar=F.forwardRef(function(e,t){var r=e.children,a=e.className,i=HQ(e,WQ),s=gt("recharts-layer",a);return F.createElement("g",Z0({className:s},pt(i,!0),{ref:t}),r)}),Ci=function(t,r){for(var a=arguments.length,i=new Array(a>2?a-2:0),s=2;s<a;s++)i[s-2]=arguments[s]};function GQ(e,t,r){var a=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+t];return s}var YQ=GQ,QQ=YQ;function XQ(e,t,r){var a=e.length;return r=r===void 0?a:r,!t&&r>=a?e:QQ(e,t,r)}var JQ=XQ,ZQ="\\ud800-\\udfff",eX="\\u0300-\\u036f",tX="\\ufe20-\\ufe2f",rX="\\u20d0-\\u20ff",nX=eX+tX+rX,aX="\\ufe0e\\ufe0f",iX="\\u200d",sX=RegExp("["+iX+ZQ+nX+aX+"]");function oX(e){return sX.test(e)}var R5=oX;function lX(e){return e.split("")}var cX=lX,M5="\\ud800-\\udfff",dX="\\u0300-\\u036f",uX="\\ufe20-\\ufe2f",fX="\\u20d0-\\u20ff",hX=dX+uX+fX,mX="\\ufe0e\\ufe0f",pX="["+M5+"]",ej="["+hX+"]",tj="\\ud83c[\\udffb-\\udfff]",gX="(?:"+ej+"|"+tj+")",$5="[^"+M5+"]",D5="(?:\\ud83c[\\udde6-\\uddff]){2}",L5="[\\ud800-\\udbff][\\udc00-\\udfff]",xX="\\u200d",F5=gX+"?",B5="["+mX+"]?",vX="(?:"+xX+"(?:"+[$5,D5,L5].join("|")+")"+B5+F5+")*",yX=B5+F5+vX,bX="(?:"+[$5+ej+"?",ej,D5,L5,pX].join("|")+")",jX=RegExp(tj+"(?="+tj+")|"+bX+yX,"g");function wX(e){return e.match(jX)||[]}var NX=wX,SX=cX,kX=R5,CX=NX;function AX(e){return kX(e)?CX(e):SX(e)}var PX=AX,EX=JQ,TX=R5,OX=PX,_X=P5;function IX(e){return function(t){t=_X(t);var r=TX(t)?OX(t):void 0,a=r?r[0]:t.charAt(0),i=r?EX(r,1).join(""):t.slice(1);return a[e]()+i}}var RX=IX,MX=RX,$X=MX("toUpperCase"),DX=$X;const cv=It(DX);function Mt(e){return function(){return e}}const z5=Math.cos,Zp=Math.sin,$a=Math.sqrt,eg=Math.PI,dv=2*eg,rj=Math.PI,nj=2*rj,fo=1e-6,LX=nj-fo;function U5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function FX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return U5;const r=10**t;return function(a){this._+=a[0];for(let i=1,s=a.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+a[i]}}class BX{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?U5:FX(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,i){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+i}`}bezierCurveTo(t,r,a,i,s,o){this._append`C${+t},${+r},${+a},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,a,i,s){if(t=+t,r=+r,a=+a,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=a-t,d=i-r,u=o-t,f=l-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>fo)if(!(Math.abs(f*c-d*u)>fo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=a-o,b=i-l,g=c*c+d*d,y=p*p+b*b,v=Math.sqrt(g),m=Math.sqrt(h),j=s*Math.tan((rj-Math.acos((g+h-y)/(2*v*m)))/2),N=j/m,w=j/v;Math.abs(N-1)>fo&&this._append`L${t+N*u},${r+N*f}`,this._append`A${s},${s},0,0,${+(f*p>u*b)},${this._x1=t+w*c},${this._y1=r+w*d}`}}arc(t,r,a,i,s,o){if(t=+t,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(i),c=a*Math.sin(i),d=t+l,u=r+c,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>fo||Math.abs(this._y1-u)>fo)&&this._append`L${d},${u}`,a&&(h<0&&(h=h%nj+nj),h>LX?this._append`A${a},${a},0,1,${f},${t-l},${r-c}A${a},${a},0,1,${f},${this._x1=d},${this._y1=u}`:h>fo&&this._append`A${a},${a},0,${+(h>=rj)},${f},${this._x1=t+a*Math.cos(s)},${this._y1=r+a*Math.sin(s)}`)}rect(t,r,a,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+i}h${-a}Z`}toString(){return this._}}function NN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new BX(t)}function SN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function V5(e){this._context=e}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function uv(e){return new V5(e)}function q5(e){return e[0]}function W5(e){return e[1]}function H5(e,t){var r=Mt(!0),a=null,i=uv,s=null,o=NN(l);e=typeof e=="function"?e:e===void 0?q5:Mt(e),t=typeof t=="function"?t:t===void 0?W5:Mt(t);function l(c){var d,u=(c=SN(c)).length,f,h=!1,p;for(a==null&&(s=i(p=o())),d=0;d<=u;++d)!(d<u&&r(f=c[d],d,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,d,c),+t(f,d,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Mt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Mt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Mt(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,a!=null&&(s=i(a)),l):i},l.context=function(c){return arguments.length?(c==null?a=s=null:s=i(a=c),l):a},l}function mm(e,t,r){var a=null,i=Mt(!0),s=null,o=uv,l=null,c=NN(d);e=typeof e=="function"?e:e===void 0?q5:Mt(+e),t=typeof t=="function"?t:Mt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?W5:Mt(+r);function d(f){var h,p,b,g=(f=SN(f)).length,y,v=!1,m,j=new Array(g),N=new Array(g);for(s==null&&(l=o(m=c())),h=0;h<=g;++h){if(!(h<g&&i(y=f[h],h,f))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=h-1;b>=p;--b)l.point(j[b],N[b]);l.lineEnd(),l.areaEnd()}v&&(j[h]=+e(y,h,f),N[h]=+t(y,h,f),l.point(a?+a(y,h,f):j[h],r?+r(y,h,f):N[h]))}if(m)return l=null,m+""||null}function u(){return H5().defined(i).curve(o).context(s)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:Mt(+f),a=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Mt(+f),d):e},d.x1=function(f){return arguments.length?(a=f==null?null:typeof f=="function"?f:Mt(+f),d):a},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:Mt(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Mt(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Mt(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(a).y(t)},d.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Mt(!!f),d):i},d.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),d):o},d.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),d):s},d}class K5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function zX(e){return new K5(e,!0)}function UX(e){return new K5(e,!1)}const kN={draw(e,t){const r=$a(t/eg);e.moveTo(r,0),e.arc(0,0,r,0,dv)}},VX={draw(e,t){const r=$a(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},G5=$a(1/3),qX=G5*2,WX={draw(e,t){const r=$a(t/qX),a=r*G5;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},HX={draw(e,t){const r=$a(t),a=-r/2;e.rect(a,a,r,r)}},KX=.8908130915292852,Y5=Zp(eg/10)/Zp(7*eg/10),GX=Zp(dv/10)*Y5,YX=-z5(dv/10)*Y5,QX={draw(e,t){const r=$a(t*KX),a=GX*r,i=YX*r;e.moveTo(0,-r),e.lineTo(a,i);for(let s=1;s<5;++s){const o=dv*s/5,l=z5(o),c=Zp(o);e.lineTo(c*r,-l*r),e.lineTo(l*a-c*i,c*a+l*i)}e.closePath()}},By=$a(3),XX={draw(e,t){const r=-$a(t/(By*3));e.moveTo(0,r*2),e.lineTo(-By*r,-r),e.lineTo(By*r,-r),e.closePath()}},Ln=-.5,Fn=$a(3)/2,aj=1/$a(12),JX=(aj/2+1)*3,ZX={draw(e,t){const r=$a(t/JX),a=r/2,i=r*aj,s=a,o=r*aj+r,l=-s,c=o;e.moveTo(a,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Ln*a-Fn*i,Fn*a+Ln*i),e.lineTo(Ln*s-Fn*o,Fn*s+Ln*o),e.lineTo(Ln*l-Fn*c,Fn*l+Ln*c),e.lineTo(Ln*a+Fn*i,Ln*i-Fn*a),e.lineTo(Ln*s+Fn*o,Ln*o-Fn*s),e.lineTo(Ln*l+Fn*c,Ln*c-Fn*l),e.closePath()}};function eJ(e,t){let r=null,a=NN(i);e=typeof e=="function"?e:Mt(e||kN),t=typeof t=="function"?t:Mt(t===void 0?64:+t);function i(){let s;if(r||(r=s=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Mt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Mt(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function tg(){}function rg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Q5(e){this._context=e}Q5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tJ(e){return new Q5(e)}function X5(e){this._context=e}X5.prototype={areaStart:tg,areaEnd:tg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rJ(e){return new X5(e)}function J5(e){this._context=e}J5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:rg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nJ(e){return new J5(e)}function Z5(e){this._context=e}Z5.prototype={areaStart:tg,areaEnd:tg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function aJ(e){return new Z5(e)}function DC(e){return e<0?-1:1}function LC(e,t,r){var a=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(a||i<0&&-0),o=(r-e._y1)/(i||a<0&&-0),l=(s*i+o*a)/(a+i);return(DC(s)+DC(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function FC(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function zy(e,t,r){var a=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-a)/3;e._context.bezierCurveTo(a+l,i+l*t,s-l,o-l*r,s,o)}function ng(e){this._context=e}ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zy(this,this._t0,FC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zy(this,FC(this,r=LC(this,e,t)),r);break;default:zy(this,this._t0,r=LC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function e$(e){this._context=new t$(e)}(e$.prototype=Object.create(ng.prototype)).point=function(e,t){ng.prototype.point.call(this,t,e)};function t$(e){this._context=e}t$.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,i,s){this._context.bezierCurveTo(t,e,a,r,s,i)}};function iJ(e){return new ng(e)}function sJ(e){return new e$(e)}function r$(e){this._context=e}r$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=BC(e),i=BC(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(a[0][s],i[0][s],a[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function BC(e){var t,r=e.length-1,a,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=i[t]/s[t-1],s[t]-=a,o[t]-=a*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function oJ(e){return new r$(e)}function fv(e,t){this._context=e,this._t=t}fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function lJ(e){return new fv(e,.5)}function cJ(e){return new fv(e,0)}function dJ(e){return new fv(e,1)}function Fc(e,t){if((o=e.length)>1)for(var r=1,a,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],a=0;a<l;++a)s[a][1]+=s[a][0]=isNaN(i[a][1])?i[a][0]:i[a][1]}function ij(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function uJ(e,t){return e[t]}function fJ(e){const t=[];return t.key=e,t}function hJ(){var e=Mt([]),t=ij,r=Fc,a=uJ;function i(s){var o=Array.from(e.apply(this,arguments),fJ),l,c=o.length,d=-1,u;for(const f of s)for(l=0,++d;l<c;++l)(o[l][d]=[0,+a(f,o[l].key,d,s)]).data=f;for(l=0,u=SN(t(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Mt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(a=typeof s=="function"?s:Mt(+s),i):a},i.order=function(s){return arguments.length?(t=s==null?ij:typeof s=="function"?s:Mt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Fc,i):r},i}function mJ(e,t){if((a=e.length)>0){for(var r,a,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<a;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<a;++r)e[r][i][1]/=o}Fc(e,t)}}function pJ(e,t){if((i=e.length)>0){for(var r=0,a=e[t[0]],i,s=a.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}Fc(e,t)}}function gJ(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,a=1,i,s,o;a<s;++a){for(var l=0,c=0,d=0;l<o;++l){for(var u=e[t[l]],f=u[a][1]||0,h=u[a-1][1]||0,p=(f-h)/2,b=0;b<l;++b){var g=e[t[b]],y=g[a][1]||0,v=g[a-1][1]||0;p+=y-v}c+=f,d+=p*f}i[a-1][1]+=i[a-1][0]=r,c&&(r-=d/c)}i[a-1][1]+=i[a-1][0]=r,Fc(e,t)}}function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}var xJ=["type","size","sizeType"];function sj(){return sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},sj.apply(this,arguments)}function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function UC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(a){vJ(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vJ(e,t,r){return t=yJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJ(e){var t=bJ(e,"string");return pf(t)=="symbol"?t:t+""}function bJ(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(pf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jJ(e,t){if(e==null)return{};var r=wJ(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wJ(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var n$={symbolCircle:kN,symbolCross:VX,symbolDiamond:WX,symbolSquare:HX,symbolStar:QX,symbolTriangle:XX,symbolWye:ZX},NJ=Math.PI/180,SJ=function(t){var r="symbol".concat(cv(t));return n$[r]||kN},kJ=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*NJ;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},CJ=function(t,r){n$["symbol".concat(cv(t))]=r},CN=function(t){var r=t.type,a=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=jJ(t,xJ),d=UC(UC({},c),{},{type:a,size:s,sizeType:l}),u=function(){var y=SJ(a),v=eJ().type(y).size(kJ(s,l,a));return v()},f=d.className,h=d.cx,p=d.cy,b=pt(d,!0);return h===+h&&p===+p&&s===+s?F.createElement("path",sj({},b,{className:gt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};CN.registerSymbol=CJ;function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function oj(){return oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},oj.apply(this,arguments)}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function AJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(a){gf(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EJ(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,i$(a.key),a)}}function TJ(e,t,r){return t&&EJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OJ(e,t,r){return t=ag(t),_J(e,a$()?Reflect.construct(t,r||[],ag(e).constructor):t.apply(e,r))}function _J(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IJ(e)}function IJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!e})()}function ag(e){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ag(e)}function RJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lj(e,t)}function lj(e,t){return lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},lj(e,t)}function gf(e,t,r){return t=i$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i$(e){var t=MJ(e,"string");return Bc(t)=="symbol"?t:t+""}function MJ(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Bc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bn=32,AN=function(e){function t(){return PJ(this,t),OJ(this,t,arguments)}return RJ(t,e),TJ(t,[{key:"renderIcon",value:function(a){var i=this.props.inactiveColor,s=Bn/2,o=Bn/6,l=Bn/3,c=a.inactive?i:a.color;if(a.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:s,x2:Bn,y2:s,className:"recharts-legend-icon"});if(a.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Bn,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(a.type==="rect")return F.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Bn/8,"h").concat(Bn,"v").concat(Bn*3/4,"h").concat(-Bn,"z"),className:"recharts-legend-icon"});if(F.isValidElement(a.legendIcon)){var d=AJ({},a);return delete d.legendIcon,F.cloneElement(a.legendIcon,d)}return F.createElement(CN,{fill:c,cx:s,cy:s,size:Bn,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,d=i.inactiveColor,u={x:0,y:0,width:Bn,height:Bn},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,b){var g=p.formatter||c,y=gt(gf(gf({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=ot(p.value)?null:p.value;Ci(!ot(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var m=p.inactive?d:p.color;return F.createElement("li",oj({className:y,style:f,key:"legend-item-".concat(b)},Jp(a.props,p,b)),F.createElement(J0,{width:o,height:o,viewBox:u,style:h},a.renderIcon(p)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g?g(v,p,b):v))})}},{key:"render",value:function(){var a=this.props,i=a.payload,s=a.layout,o=a.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);gf(AN,"displayName","Legend");gf(AN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $J=Qx;function DJ(){this.__data__=new $J,this.size=0}var LJ=DJ;function FJ(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var BJ=FJ;function zJ(e){return this.__data__.get(e)}var UJ=zJ;function VJ(e){return this.__data__.has(e)}var qJ=VJ,WJ=Qx,HJ=mN,KJ=pN,GJ=200;function YJ(e,t){var r=this.__data__;if(r instanceof WJ){var a=r.__data__;if(!HJ||a.length<GJ-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new KJ(a)}return r.set(e,t),this.size=r.size,this}var QJ=YJ,XJ=Qx,JJ=LJ,ZJ=BJ,eZ=UJ,tZ=qJ,rZ=QJ;function Td(e){var t=this.__data__=new XJ(e);this.size=t.size}Td.prototype.clear=JJ;Td.prototype.delete=ZJ;Td.prototype.get=eZ;Td.prototype.has=tZ;Td.prototype.set=rZ;var s$=Td,nZ="__lodash_hash_undefined__";function aZ(e){return this.__data__.set(e,nZ),this}var iZ=aZ;function sZ(e){return this.__data__.has(e)}var oZ=sZ,lZ=pN,cZ=iZ,dZ=oZ;function ig(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new lZ;++t<r;)this.add(e[t])}ig.prototype.add=ig.prototype.push=cZ;ig.prototype.has=dZ;var o$=ig;function uZ(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var l$=uZ;function fZ(e,t){return e.has(t)}var c$=fZ,hZ=o$,mZ=l$,pZ=c$,gZ=1,xZ=2;function vZ(e,t,r,a,i,s){var o=r&gZ,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var d=s.get(e),u=s.get(t);if(d&&u)return d==t&&u==e;var f=-1,h=!0,p=r&xZ?new hZ:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var b=e[f],g=t[f];if(a)var y=o?a(g,b,f,t,e,s):a(b,g,f,e,t,s);if(y!==void 0){if(y)continue;h=!1;break}if(p){if(!mZ(t,function(v,m){if(!pZ(p,m)&&(b===v||i(b,v,r,a,s)))return p.push(m)})){h=!1;break}}else if(!(b===g||i(b,g,r,a,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var d$=vZ,yZ=ii,bZ=yZ.Uint8Array,jZ=bZ;function wZ(e){var t=-1,r=Array(e.size);return e.forEach(function(a,i){r[++t]=[i,a]}),r}var NZ=wZ;function SZ(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var PN=SZ,qC=Ch,WC=jZ,kZ=hN,CZ=d$,AZ=NZ,PZ=PN,EZ=1,TZ=2,OZ="[object Boolean]",_Z="[object Date]",IZ="[object Error]",RZ="[object Map]",MZ="[object Number]",$Z="[object RegExp]",DZ="[object Set]",LZ="[object String]",FZ="[object Symbol]",BZ="[object ArrayBuffer]",zZ="[object DataView]",HC=qC?qC.prototype:void 0,Uy=HC?HC.valueOf:void 0;function UZ(e,t,r,a,i,s,o){switch(r){case zZ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case BZ:return!(e.byteLength!=t.byteLength||!s(new WC(e),new WC(t)));case OZ:case _Z:case MZ:return kZ(+e,+t);case IZ:return e.name==t.name&&e.message==t.message;case $Z:case LZ:return e==t+"";case RZ:var l=AZ;case DZ:var c=a&EZ;if(l||(l=PZ),e.size!=t.size&&!c)return!1;var d=o.get(e);if(d)return d==t;a|=TZ,o.set(e,t);var u=CZ(l(e),l(t),a,i,s,o);return o.delete(e),u;case FZ:if(Uy)return Uy.call(e)==Uy.call(t)}return!1}var VZ=UZ;function qZ(e,t){for(var r=-1,a=t.length,i=e.length;++r<a;)e[i+r]=t[r];return e}var u$=qZ,WZ=u$,HZ=yn;function KZ(e,t,r){var a=t(e);return HZ(e)?a:WZ(a,r(e))}var GZ=KZ;function YZ(e,t){for(var r=-1,a=e==null?0:e.length,i=0,s=[];++r<a;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}var QZ=YZ;function XZ(){return[]}var JZ=XZ,ZZ=QZ,eee=JZ,tee=Object.prototype,ree=tee.propertyIsEnumerable,KC=Object.getOwnPropertySymbols,nee=KC?function(e){return e==null?[]:(e=Object(e),ZZ(KC(e),function(t){return ree.call(e,t)}))}:eee,aee=nee;function iee(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var see=iee,oee=Hi,lee=Ki,cee="[object Arguments]";function dee(e){return lee(e)&&oee(e)==cee}var uee=dee,GC=uee,fee=Ki,f$=Object.prototype,hee=f$.hasOwnProperty,mee=f$.propertyIsEnumerable,pee=GC(function(){return arguments}())?GC:function(e){return fee(e)&&hee.call(e,"callee")&&!mee.call(e,"callee")},EN=pee,sg={exports:{}};function gee(){return!1}var xee=gee;sg.exports;(function(e,t){var r=ii,a=xee,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||a;e.exports=d})(sg,sg.exports);var h$=sg.exports,vee=9007199254740991,yee=/^(?:0|[1-9]\d*)$/;function bee(e,t){var r=typeof e;return t=t??vee,!!t&&(r=="number"||r!="symbol"&&yee.test(e))&&e>-1&&e%1==0&&e<t}var TN=bee,jee=9007199254740991;function wee(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=jee}var ON=wee,Nee=Hi,See=ON,kee=Ki,Cee="[object Arguments]",Aee="[object Array]",Pee="[object Boolean]",Eee="[object Date]",Tee="[object Error]",Oee="[object Function]",_ee="[object Map]",Iee="[object Number]",Ree="[object Object]",Mee="[object RegExp]",$ee="[object Set]",Dee="[object String]",Lee="[object WeakMap]",Fee="[object ArrayBuffer]",Bee="[object DataView]",zee="[object Float32Array]",Uee="[object Float64Array]",Vee="[object Int8Array]",qee="[object Int16Array]",Wee="[object Int32Array]",Hee="[object Uint8Array]",Kee="[object Uint8ClampedArray]",Gee="[object Uint16Array]",Yee="[object Uint32Array]",Ft={};Ft[zee]=Ft[Uee]=Ft[Vee]=Ft[qee]=Ft[Wee]=Ft[Hee]=Ft[Kee]=Ft[Gee]=Ft[Yee]=!0;Ft[Cee]=Ft[Aee]=Ft[Fee]=Ft[Pee]=Ft[Bee]=Ft[Eee]=Ft[Tee]=Ft[Oee]=Ft[_ee]=Ft[Iee]=Ft[Ree]=Ft[Mee]=Ft[$ee]=Ft[Dee]=Ft[Lee]=!1;function Qee(e){return kee(e)&&See(e.length)&&!!Ft[Nee(e)]}var Xee=Qee;function Jee(e){return function(t){return e(t)}}var m$=Jee,og={exports:{}};og.exports;(function(e,t){var r=w5,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(og,og.exports);var Zee=og.exports,ete=Xee,tte=m$,YC=Zee,QC=YC&&YC.isTypedArray,rte=QC?tte(QC):ete,p$=rte,nte=see,ate=EN,ite=yn,ste=h$,ote=TN,lte=p$,cte=Object.prototype,dte=cte.hasOwnProperty;function ute(e,t){var r=ite(e),a=!r&&ate(e),i=!r&&!a&&ste(e),s=!r&&!a&&!i&&lte(e),o=r||a||i||s,l=o?nte(e.length,String):[],c=l.length;for(var d in e)(t||dte.call(e,d))&&!(o&&(d=="length"||i&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||ote(d,c)))&&l.push(d);return l}var fte=ute,hte=Object.prototype;function mte(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||hte;return e===r}var pte=mte;function gte(e,t){return function(r){return e(t(r))}}var g$=gte,xte=g$,vte=xte(Object.keys,Object),yte=vte,bte=pte,jte=yte,wte=Object.prototype,Nte=wte.hasOwnProperty;function Ste(e){if(!bte(e))return jte(e);var t=[];for(var r in Object(e))Nte.call(e,r)&&r!="constructor"&&t.push(r);return t}var kte=Ste,Cte=fN,Ate=ON;function Pte(e){return e!=null&&Ate(e.length)&&!Cte(e)}var Th=Pte,Ete=fte,Tte=kte,Ote=Th;function _te(e){return Ote(e)?Ete(e):Tte(e)}var hv=_te,Ite=GZ,Rte=aee,Mte=hv;function $te(e){return Ite(e,Mte,Rte)}var Dte=$te,XC=Dte,Lte=1,Fte=Object.prototype,Bte=Fte.hasOwnProperty;function zte(e,t,r,a,i,s){var o=r&Lte,l=XC(e),c=l.length,d=XC(t),u=d.length;if(c!=u&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Bte.call(t,h)))return!1}var p=s.get(e),b=s.get(t);if(p&&b)return p==t&&b==e;var g=!0;s.set(e,t),s.set(t,e);for(var y=o;++f<c;){h=l[f];var v=e[h],m=t[h];if(a)var j=o?a(m,v,h,t,e,s):a(v,m,h,e,t,s);if(!(j===void 0?v===m||i(v,m,r,a,s):j)){g=!1;break}y||(y=h=="constructor")}if(g&&!y){var N=e.constructor,w=t.constructor;N!=w&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof w=="function"&&w instanceof w)&&(g=!1)}return s.delete(e),s.delete(t),g}var Ute=zte,Vte=ol,qte=ii,Wte=Vte(qte,"DataView"),Hte=Wte,Kte=ol,Gte=ii,Yte=Kte(Gte,"Promise"),Qte=Yte,Xte=ol,Jte=ii,Zte=Xte(Jte,"Set"),x$=Zte,ere=ol,tre=ii,rre=ere(tre,"WeakMap"),nre=rre,cj=Hte,dj=mN,uj=Qte,fj=x$,hj=nre,v$=Hi,Od=S5,JC="[object Map]",are="[object Object]",ZC="[object Promise]",eA="[object Set]",tA="[object WeakMap]",rA="[object DataView]",ire=Od(cj),sre=Od(dj),ore=Od(uj),lre=Od(fj),cre=Od(hj),ho=v$;(cj&&ho(new cj(new ArrayBuffer(1)))!=rA||dj&&ho(new dj)!=JC||uj&&ho(uj.resolve())!=ZC||fj&&ho(new fj)!=eA||hj&&ho(new hj)!=tA)&&(ho=function(e){var t=v$(e),r=t==are?e.constructor:void 0,a=r?Od(r):"";if(a)switch(a){case ire:return rA;case sre:return JC;case ore:return ZC;case lre:return eA;case cre:return tA}return t});var dre=ho,Vy=s$,ure=d$,fre=VZ,hre=Ute,nA=dre,aA=yn,iA=h$,mre=p$,pre=1,sA="[object Arguments]",oA="[object Array]",pm="[object Object]",gre=Object.prototype,lA=gre.hasOwnProperty;function xre(e,t,r,a,i,s){var o=aA(e),l=aA(t),c=o?oA:nA(e),d=l?oA:nA(t);c=c==sA?pm:c,d=d==sA?pm:d;var u=c==pm,f=d==pm,h=c==d;if(h&&iA(e)){if(!iA(t))return!1;o=!0,u=!1}if(h&&!u)return s||(s=new Vy),o||mre(e)?ure(e,t,r,a,i,s):fre(e,t,c,r,a,i,s);if(!(r&pre)){var p=u&&lA.call(e,"__wrapped__"),b=f&&lA.call(t,"__wrapped__");if(p||b){var g=p?e.value():e,y=b?t.value():t;return s||(s=new Vy),i(g,y,r,a,s)}}return h?(s||(s=new Vy),hre(e,t,r,a,i,s)):!1}var vre=xre,yre=vre,cA=Ki;function y$(e,t,r,a,i){return e===t?!0:e==null||t==null||!cA(e)&&!cA(t)?e!==e&&t!==t:yre(e,t,r,a,y$,i)}var _N=y$,bre=s$,jre=_N,wre=1,Nre=2;function Sre(e,t,r,a){var i=r.length,s=i,o=!a;if(e==null)return!s;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){l=r[i];var c=l[0],d=e[c],u=l[1];if(o&&l[2]){if(d===void 0&&!(c in e))return!1}else{var f=new bre;if(a)var h=a(d,u,c,e,t,f);if(!(h===void 0?jre(u,d,wre|Nre,a,f):h))return!1}}return!0}var kre=Sre,Cre=eo;function Are(e){return e===e&&!Cre(e)}var b$=Are,Pre=b$,Ere=hv;function Tre(e){for(var t=Ere(e),r=t.length;r--;){var a=t[r],i=e[a];t[r]=[a,i,Pre(i)]}return t}var Ore=Tre;function _re(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var j$=_re,Ire=kre,Rre=Ore,Mre=j$;function $re(e){var t=Rre(e);return t.length==1&&t[0][2]?Mre(t[0][0],t[0][1]):function(r){return r===e||Ire(r,e,t)}}var Dre=$re;function Lre(e,t){return e!=null&&t in Object(e)}var Fre=Lre,Bre=E5,zre=EN,Ure=yn,Vre=TN,qre=ON,Wre=Jx;function Hre(e,t,r){t=Bre(t,e);for(var a=-1,i=t.length,s=!1;++a<i;){var o=Wre(t[a]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++a!=i?s:(i=e==null?0:e.length,!!i&&qre(i)&&Vre(o,i)&&(Ure(e)||zre(e)))}var Kre=Hre,Gre=Fre,Yre=Kre;function Qre(e,t){return e!=null&&Yre(e,t,Gre)}var Xre=Qre,Jre=_N,Zre=T5,ene=Xre,tne=uN,rne=b$,nne=j$,ane=Jx,ine=1,sne=2;function one(e,t){return tne(e)&&rne(t)?nne(ane(e),t):function(r){var a=Zre(r,e);return a===void 0&&a===t?ene(r,e):Jre(t,a,ine|sne)}}var lne=one;function cne(e){return e}var _d=cne;function dne(e){return function(t){return t==null?void 0:t[e]}}var une=dne,fne=vN;function hne(e){return function(t){return fne(t,e)}}var mne=hne,pne=une,gne=mne,xne=uN,vne=Jx;function yne(e){return xne(e)?pne(vne(e)):gne(e)}var bne=yne,jne=Dre,wne=lne,Nne=_d,Sne=yn,kne=bne;function Cne(e){return typeof e=="function"?e:e==null?Nne:typeof e=="object"?Sne(e)?wne(e[0],e[1]):jne(e):kne(e)}var to=Cne;function Ane(e,t,r,a){for(var i=e.length,s=r+(a?1:-1);a?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var w$=Ane;function Pne(e){return e!==e}var Ene=Pne;function Tne(e,t,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===t)return a;return-1}var One=Tne,_ne=w$,Ine=Ene,Rne=One;function Mne(e,t,r){return t===t?Rne(e,t,r):_ne(e,Ine,r)}var $ne=Mne,Dne=$ne;function Lne(e,t){var r=e==null?0:e.length;return!!r&&Dne(e,t,0)>-1}var Fne=Lne;function Bne(e,t,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(t,e[a]))return!0;return!1}var zne=Bne;function Une(){}var Vne=Une,qy=x$,qne=Vne,Wne=PN,Hne=1/0,Kne=qy&&1/Wne(new qy([,-0]))[1]==Hne?function(e){return new qy(e)}:qne,Gne=Kne,Yne=o$,Qne=Fne,Xne=zne,Jne=c$,Zne=Gne,eae=PN,tae=200;function rae(e,t,r){var a=-1,i=Qne,s=e.length,o=!0,l=[],c=l;if(r)o=!1,i=Xne;else if(s>=tae){var d=t?null:Zne(e);if(d)return eae(d);o=!1,i=Jne,c=new Yne}else c=t?[]:l;e:for(;++a<s;){var u=e[a],f=t?t(u):u;if(u=r||u!==0?u:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(u)}else i(c,f,r)||(c!==l&&c.push(f),l.push(u))}return l}var nae=rae,aae=to,iae=nae;function sae(e,t){return e&&e.length?iae(e,aae(t)):[]}var oae=sae;const dA=It(oae);function N$(e,t,r){return t===!0?dA(e,r):ot(t)?dA(e,t):e}function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}var lae=["ref"];function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(a){mv(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function cae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fA(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,k$(a.key),a)}}function dae(e,t,r){return t&&fA(e.prototype,t),r&&fA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uae(e,t,r){return t=lg(t),fae(e,S$()?Reflect.construct(t,r||[],lg(e).constructor):t.apply(e,r))}function fae(e,t){if(t&&(zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hae(e)}function hae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!e})()}function lg(e){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lg(e)}function mae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mj(e,t)}function mj(e,t){return mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},mj(e,t)}function mv(e,t,r){return t=k$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k$(e){var t=pae(e,"string");return zc(t)=="symbol"?t:t+""}function pae(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(zc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gae(e,t){if(e==null)return{};var r=xae(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function xae(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function vae(e){return e.value}function yae(e,t){if(F.isValidElement(e))return F.cloneElement(e,t);if(typeof e=="function")return F.createElement(e,t);t.ref;var r=gae(t,lae);return F.createElement(AN,r)}var hA=1,nc=function(e){function t(){var r;cae(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=uae(this,t,[].concat(i)),mv(r,"lastBoundingBox",{width:-1,height:-1}),r}return mae(t,e),dae(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>hA||Math.abs(i.height-this.lastBoundingBox.height)>hA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,a&&a(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?di({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,d=i.chartWidth,u=i.chartHeight,f,h;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((d||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();h={top:((u||0)-b.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return di(di({},f),h)}},{key:"render",value:function(){var a=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,d=i.payloadUniqBy,u=i.payload,f=di(di({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){a.wrapperNode=p}},yae(s,di(di({},this.props),{},{payload:N$(u,d,vae)})))}}],[{key:"getWithHeight",value:function(a,i){var s=di(di({},this.defaultProps),a.props),o=s.layout;return o==="vertical"&&Ne(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||i}:null}}])}(x.PureComponent);mv(nc,"displayName","Legend");mv(nc,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mA=Ch,bae=EN,jae=yn,pA=mA?mA.isConcatSpreadable:void 0;function wae(e){return jae(e)||bae(e)||!!(pA&&e&&e[pA])}var Nae=wae,Sae=u$,kae=Nae;function C$(e,t,r,a,i){var s=-1,o=e.length;for(r||(r=kae),i||(i=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?C$(l,t-1,r,a,i):Sae(i,l):a||(i[i.length]=l)}return i}var A$=C$;function Cae(e){return function(t,r,a){for(var i=-1,s=Object(t),o=a(t),l=o.length;l--;){var c=o[e?l:++i];if(r(s[c],c,s)===!1)break}return t}}var Aae=Cae,Pae=Aae,Eae=Pae(),Tae=Eae,Oae=Tae,_ae=hv;function Iae(e,t){return e&&Oae(e,t,_ae)}var P$=Iae,Rae=Th;function Mae(e,t){return function(r,a){if(r==null)return r;if(!Rae(r))return e(r,a);for(var i=r.length,s=t?i:-1,o=Object(r);(t?s--:++s<i)&&a(o[s],s,o)!==!1;);return r}}var $ae=Mae,Dae=P$,Lae=$ae,Fae=Lae(Dae),IN=Fae,Bae=IN,zae=Th;function Uae(e,t){var r=-1,a=zae(e)?Array(e.length):[];return Bae(e,function(i,s,o){a[++r]=t(i,s,o)}),a}var E$=Uae;function Vae(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var qae=Vae,gA=kd;function Wae(e,t){if(e!==t){var r=e!==void 0,a=e===null,i=e===e,s=gA(e),o=t!==void 0,l=t===null,c=t===t,d=gA(t);if(!l&&!d&&!s&&e>t||s&&o&&c&&!l&&!d||a&&o&&c||!r&&c||!i)return 1;if(!a&&!s&&!d&&e<t||d&&r&&i&&!a&&!s||l&&r&&i||!o&&i||!c)return-1}return 0}var Hae=Wae,Kae=Hae;function Gae(e,t,r){for(var a=-1,i=e.criteria,s=t.criteria,o=i.length,l=r.length;++a<o;){var c=Kae(i[a],s[a]);if(c){if(a>=l)return c;var d=r[a];return c*(d=="desc"?-1:1)}}return e.index-t.index}var Yae=Gae,Wy=xN,Qae=vN,Xae=to,Jae=E$,Zae=qae,eie=m$,tie=Yae,rie=_d,nie=yn;function aie(e,t,r){t.length?t=Wy(t,function(s){return nie(s)?function(o){return Qae(o,s.length===1?s[0]:s)}:s}):t=[rie];var a=-1;t=Wy(t,eie(Xae));var i=Jae(e,function(s,o,l){var c=Wy(t,function(d){return d(s)});return{criteria:c,index:++a,value:s}});return Zae(i,function(s,o){return tie(s,o,r)})}var iie=aie;function sie(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var oie=sie,lie=oie,xA=Math.max;function cie(e,t,r){return t=xA(t===void 0?e.length-1:t,0),function(){for(var a=arguments,i=-1,s=xA(a.length-t,0),o=Array(s);++i<s;)o[i]=a[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=a[i];return l[t]=r(o),lie(e,this,l)}}var die=cie;function uie(e){return function(){return e}}var fie=uie,hie=ol,mie=function(){try{var e=hie(Object,"defineProperty");return e({},"",{}),e}catch{}}(),T$=mie,pie=fie,vA=T$,gie=_d,xie=vA?function(e,t){return vA(e,"toString",{configurable:!0,enumerable:!1,value:pie(t),writable:!0})}:gie,vie=xie,yie=800,bie=16,jie=Date.now;function wie(e){var t=0,r=0;return function(){var a=jie(),i=bie-(a-r);if(r=a,i>0){if(++t>=yie)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Nie=wie,Sie=vie,kie=Nie,Cie=kie(Sie),Aie=Cie,Pie=_d,Eie=die,Tie=Aie;function Oie(e,t){return Tie(Eie(e,t,Pie),e+"")}var _ie=Oie,Iie=hN,Rie=Th,Mie=TN,$ie=eo;function Die(e,t,r){if(!$ie(r))return!1;var a=typeof t;return(a=="number"?Rie(r)&&Mie(t,r.length):a=="string"&&t in r)?Iie(r[t],e):!1}var pv=Die,Lie=A$,Fie=iie,Bie=_ie,yA=pv,zie=Bie(function(e,t){if(e==null)return[];var r=t.length;return r>1&&yA(e,t[0],t[1])?t=[]:r>2&&yA(t[0],t[1],t[2])&&(t=[t[0]]),Fie(e,Lie(t,1),[])}),Uie=zie;const RN=It(Uie);function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function pj(){return pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pj.apply(this,arguments)}function Vie(e,t){return Kie(e)||Hie(e,t)||Wie(e,t)||qie()}function qie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wie(e,t){if(e){if(typeof e=="string")return bA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bA(e,t)}}function bA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Hie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Kie(e){if(Array.isArray(e))return e}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Hy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(a){Gie(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Gie(e,t,r){return t=Yie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yie(e){var t=Qie(e,"string");return xf(t)=="symbol"?t:t+""}function Qie(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(xf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xie(e){return Array.isArray(e)&&vr(e[0])&&vr(e[1])?e.join(" ~ "):e}var Jie=function(t){var r=t.separator,a=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,d=c===void 0?{}:c,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,b=t.labelClassName,g=t.label,y=t.labelFormatter,v=t.accessibilityLayer,m=v===void 0?!1:v,j=function(){if(u&&u.length){var P={padding:0,margin:0},R=(h?RN(u,h):u).map(function($,E){if($.type==="none")return null;var _=Hy({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),M=$.formatter||f||Xie,T=$.value,D=$.name,B=T,ee=D;if(M&&B!=null&&ee!=null){var re=M(T,D,$,E,u);if(Array.isArray(re)){var oe=Vie(re,2);B=oe[0],ee=oe[1]}else B=re}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:_},vr(ee)?F.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,vr(ee)?F.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,F.createElement("span",{className:"recharts-tooltip-item-value"},B),F.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:P},R)}return null},N=Hy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),w=Hy({margin:0},d),S=!ft(g),k=S?g:"",C=gt("recharts-default-tooltip",p),A=gt("recharts-tooltip-label",b);S&&y&&u!==void 0&&u!==null&&(k=y(g,u));var O=m?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",pj({className:C,style:N},O),F.createElement("p",{className:A,style:w},F.isValidElement(k)?k:"".concat(k)),j())};function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function gm(e,t,r){return t=Zie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zie(e){var t=ese(e,"string");return vf(t)=="symbol"?t:t+""}function ese(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(vf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jd="recharts-tooltip-wrapper",tse={visibility:"hidden"};function rse(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return gt(Jd,gm(gm(gm(gm({},"".concat(Jd,"-right"),Ne(r)&&t&&Ne(t.x)&&r>=t.x),"".concat(Jd,"-left"),Ne(r)&&t&&Ne(t.x)&&r<t.x),"".concat(Jd,"-bottom"),Ne(a)&&t&&Ne(t.y)&&a>=t.y),"".concat(Jd,"-top"),Ne(a)&&t&&Ne(t.y)&&a<t.y))}function wA(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,d=e.viewBoxDimension;if(s&&Ne(s[a]))return s[a];var u=r[a]-l-i,f=r[a]+i;if(t[a])return o[a]?u:f;if(o[a]){var h=u,p=c[a];return h<p?Math.max(f,c[a]):Math.max(u,c[a])}var b=f+l,g=c[a]+d;return b>g?Math.max(u,c[a]):Math.max(f,c[a])}function nse(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ase(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,d,u,f;return o.height>0&&o.width>0&&r?(u=wA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=wA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=nse({translateX:u,translateY:f,useTranslate3d:l})):d=tse,{cssProperties:d,cssClasses:rse({translateX:u,translateY:f,coordinate:r})}}function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function SA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(a){xj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sse(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,_$(a.key),a)}}function ose(e,t,r){return t&&sse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lse(e,t,r){return t=cg(t),cse(e,O$()?Reflect.construct(t,r||[],cg(e).constructor):t.apply(e,r))}function cse(e,t){if(t&&(Uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dse(e)}function dse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O$=function(){return!!e})()}function cg(e){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cg(e)}function use(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gj(e,t)}function gj(e,t){return gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},gj(e,t)}function xj(e,t,r){return t=_$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _$(e){var t=fse(e,"string");return Uc(t)=="symbol"?t:t+""}function fse(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Uc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kA=1,hse=function(e){function t(){var r;ise(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=lse(this,t,[].concat(i)),xj(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),xj(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return use(t,e),ose(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>kA||Math.abs(a.height-this.state.lastBoundingBox.height)>kA)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.children,u=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,b=i.position,g=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,m=i.wrapperStyle,j=ase({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:b,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),N=j.cssClasses,w=j.cssProperties,S=SA(SA({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},m);return F.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(C){a.wrapperNode=C}},d)}}])}(x.PureComponent),mse=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ai={isSsr:mse(),get:function(t){return Ai[t]},set:function(t,r){if(typeof t=="string")Ai[t]=r;else{var a=Object.keys(t);a&&a.length&&a.forEach(function(i){Ai[i]=t[i]})}}};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function CA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function AA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(r),!0).forEach(function(a){MN(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gse(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,R$(a.key),a)}}function xse(e,t,r){return t&&gse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vse(e,t,r){return t=dg(t),yse(e,I$()?Reflect.construct(t,r||[],dg(e).constructor):t.apply(e,r))}function yse(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bse(e)}function bse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I$=function(){return!!e})()}function dg(e){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dg(e)}function jse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vj(e,t)}function vj(e,t){return vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},vj(e,t)}function MN(e,t,r){return t=R$(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R$(e){var t=wse(e,"string");return Vc(t)=="symbol"?t:t+""}function wse(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Vc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nse(e){return e.dataKey}function Sse(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(Jie,t)}var pa=function(e){function t(){return pse(this,t),vse(this,t,arguments)}return jse(t,e),xse(t,[{key:"render",value:function(){var a=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,d=i.content,u=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,b=i.payload,g=i.payloadUniqBy,y=i.position,v=i.reverseDirection,m=i.useTranslate3d,j=i.viewBox,N=i.wrapperStyle,w=b??[];f&&w.length&&(w=N$(b.filter(function(k){return k.value!=null&&(k.hide!==!0||a.props.includeHidden)}),g,Nse));var S=w.length>0;return F.createElement(hse,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:u,hasPayload:S,offset:p,position:y,reverseDirection:v,useTranslate3d:m,viewBox:j,wrapperStyle:N},Sse(d,AA(AA({},this.props),{},{payload:w})))}}])}(x.PureComponent);MN(pa,"displayName","Tooltip");MN(pa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ai.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kse=ii,Cse=function(){return kse.Date.now()},Ase=Cse,Pse=/\s/;function Ese(e){for(var t=e.length;t--&&Pse.test(e.charAt(t)););return t}var Tse=Ese,Ose=Tse,_se=/^\s+/;function Ise(e){return e&&e.slice(0,Ose(e)+1).replace(_se,"")}var Rse=Ise,Mse=Rse,PA=eo,$se=kd,EA=NaN,Dse=/^[-+]0x[0-9a-f]+$/i,Lse=/^0b[01]+$/i,Fse=/^0o[0-7]+$/i,Bse=parseInt;function zse(e){if(typeof e=="number")return e;if($se(e))return EA;if(PA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=PA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Mse(e);var r=Lse.test(e);return r||Fse.test(e)?Bse(e.slice(2),r?2:8):Dse.test(e)?EA:+e}var M$=zse,Use=eo,Ky=Ase,TA=M$,Vse="Expected a function",qse=Math.max,Wse=Math.min;function Hse(e,t,r){var a,i,s,o,l,c,d=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Vse);t=TA(t)||0,Use(r)&&(u=!!r.leading,f="maxWait"in r,s=f?qse(TA(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function p(S){var k=a,C=i;return a=i=void 0,d=S,o=e.apply(C,k),o}function b(S){return d=S,l=setTimeout(v,t),u?p(S):o}function g(S){var k=S-c,C=S-d,A=t-k;return f?Wse(A,s-C):A}function y(S){var k=S-c,C=S-d;return c===void 0||k>=t||k<0||f&&C>=s}function v(){var S=Ky();if(y(S))return m(S);l=setTimeout(v,g(S))}function m(S){return l=void 0,h&&a?p(S):(a=i=void 0,o)}function j(){l!==void 0&&clearTimeout(l),d=0,a=c=i=l=void 0}function N(){return l===void 0?o:m(Ky())}function w(){var S=Ky(),k=y(S);if(a=arguments,i=this,c=S,k){if(l===void 0)return b(c);if(f)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),o}return w.cancel=j,w.flush=N,w}var Kse=Hse,Gse=Kse,Yse=eo,Qse="Expected a function";function Xse(e,t,r){var a=!0,i=!0;if(typeof e!="function")throw new TypeError(Qse);return Yse(r)&&(a="leading"in r?!!r.leading:a,i="trailing"in r?!!r.trailing:i),Gse(e,t,{leading:a,maxWait:t,trailing:i})}var Jse=Xse;const $$=It(Jse);function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(a){Zse(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zse(e,t,r){return t=eoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eoe(e){var t=toe(e,"string");return yf(t)=="symbol"?t:t+""}function toe(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(yf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function roe(e,t){return soe(e)||ioe(e,t)||aoe(e,t)||noe()}function noe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aoe(e,t){if(e){if(typeof e=="string")return _A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _A(e,t)}}function _A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ioe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function soe(e){if(Array.isArray(e))return e}var IA=x.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,i=a===void 0?{width:-1,height:-1}:a,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,h=e.maxHeight,p=e.children,b=e.debounce,g=b===void 0?0:b,y=e.id,v=e.className,m=e.onResize,j=e.style,N=j===void 0?{}:j,w=x.useRef(null),S=x.useRef();S.current=m,x.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var k=x.useState({containerWidth:i.width,containerHeight:i.height}),C=roe(k,2),A=C[0],O=C[1],I=x.useCallback(function(R,$){O(function(E){var _=Math.round(R),M=Math.round($);return E.containerWidth===_&&E.containerHeight===M?E:{containerWidth:_,containerHeight:M}})},[]);x.useEffect(function(){var R=function(D){var B,ee=D[0].contentRect,re=ee.width,oe=ee.height;I(re,oe),(B=S.current)===null||B===void 0||B.call(S,re,oe)};g>0&&(R=$$(R,g,{trailing:!0,leading:!1}));var $=new ResizeObserver(R),E=w.current.getBoundingClientRect(),_=E.width,M=E.height;return I(_,M),$.observe(w.current),function(){$.disconnect()}},[I,g]);var P=x.useMemo(function(){var R=A.containerWidth,$=A.containerHeight;if(R<0||$<0)return null;Ci(bo(o)||bo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ci(!r||r>0,"The aspect(%s) must be greater than zero.",r);var E=bo(o)?R:o,_=bo(c)?$:c;r&&r>0&&(E?_=E/r:_&&(E=_*r),h&&_>h&&(_=h)),Ci(E>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,_,o,c,u,f,r);var M=!Array.isArray(p)&&ki(p.type).endsWith("Chart");return F.Children.map(p,function(T){return F.isValidElement(T)?x.cloneElement(T,xm({width:E,height:_},M?{style:xm({height:"100%",width:"100%",maxHeight:_,maxWidth:E},T.props.style)}:{})):T})},[r,p,c,h,f,u,A,o]);return F.createElement("div",{id:y?"".concat(y):void 0,className:gt("recharts-responsive-container",v),style:xm(xm({},N),{},{width:o,height:c,minWidth:u,minHeight:f,maxHeight:h}),ref:w},P)}),$N=function(t){return null};$N.displayName="Cell";function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function RA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(r),!0).forEach(function(a){ooe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ooe(e,t,r){return t=loe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function loe(e){var t=coe(e,"string");return bf(t)=="symbol"?t:t+""}function coe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(bf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vl={widthCache:{},cacheCount:0},doe=2e3,uoe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MA="recharts_measurement_span";function foe(e){var t=yj({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Iu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ai.isSsr)return{width:0,height:0};var a=foe(r),i=JSON.stringify({text:t,copyStyle:a});if(vl.widthCache[i])return vl.widthCache[i];try{var s=document.getElementById(MA);s||(s=document.createElement("span"),s.setAttribute("id",MA),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=yj(yj({},uoe),a);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return vl.widthCache[i]=c,++vl.cacheCount>doe&&(vl.cacheCount=0,vl.widthCache={}),c}catch{return{width:0,height:0}}},hoe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function ug(e,t){return xoe(e)||goe(e,t)||poe(e,t)||moe()}function moe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function poe(e,t){if(e){if(typeof e=="string")return $A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $A(e,t)}}function $A(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function goe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function xoe(e){if(Array.isArray(e))return e}function voe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DA(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,boe(a.key),a)}}function yoe(e,t,r){return t&&DA(e.prototype,t),r&&DA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function boe(e){var t=joe(e,"string");return jf(t)=="symbol"?t:t+""}function joe(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(jf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,woe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Noe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,D$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Soe=Object.keys(D$),Fl="NaN";function koe(e,t){return e*D$[t]}var vm=function(){function e(t,r){voe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!woe.test(r)&&(this.num=NaN,this.unit=""),Soe.includes(r)&&(this.num=koe(t,r),this.unit="px")}return yoe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,i=(a=Noe.exec(r))!==null&&a!==void 0?a:[],s=ug(i,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function L$(e){if(e.includes(Fl))return Fl;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=LA.exec(t))!==null&&r!==void 0?r:[],i=ug(a,4),s=i[1],o=i[2],l=i[3],c=vm.parse(s??""),d=vm.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Fl;t=t.replace(LA,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=FA.exec(t))!==null&&f!==void 0?f:[],p=ug(h,4),b=p[1],g=p[2],y=p[3],v=vm.parse(b??""),m=vm.parse(y??""),j=g==="+"?v.add(m):v.subtract(m);if(j.isNaN())return Fl;t=t.replace(FA,j.toString())}return t}var BA=/\(([^()]*)\)/;function Coe(e){for(var t=e;t.includes("(");){var r=BA.exec(t),a=ug(r,2),i=a[1];t=t.replace(BA,L$(i))}return t}function Aoe(e){var t=e.replace(/\s+/g,"");return t=Coe(t),t=L$(t),t}function Poe(e){try{return Aoe(e)}catch{return Fl}}function Gy(e){var t=Poe(e.slice(5,-1));return t===Fl?"":t}var Eoe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Toe=["dx","dy","angle","className","breakAll"];function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},bj.apply(this,arguments)}function zA(e,t){if(e==null)return{};var r=Ooe(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ooe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function UA(e,t){return Moe(e)||Roe(e,t)||Ioe(e,t)||_oe()}function _oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ioe(e,t){if(e){if(typeof e=="string")return VA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VA(e,t)}}function VA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Roe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Moe(e){if(Array.isArray(e))return e}var F$=/[ \f\n\r\t\v\u2028\u2029]+/,B$=function(t){var r=t.children,a=t.breakAll,i=t.style;try{var s=[];ft(r)||(a?s=r.toString().split(""):s=r.toString().split(F$));var o=s.map(function(c){return{word:c,width:Iu(c,i).width}}),l=a?0:Iu("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},$oe=function(t,r,a,i,s){var o=t.maxLines,l=t.children,c=t.style,d=t.breakAll,u=Ne(o),f=l,h=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce(function(_,M){var T=M.word,D=M.width,B=_[_.length-1];if(B&&(i==null||s||B.width+D+a<Number(i)))B.words.push(T),B.width+=D+a;else{var ee={words:[T],width:D};_.push(ee)}return _},[])},p=h(r),b=function(E){return E.reduce(function(_,M){return _.width>M.width?_:M})};if(!u)return p;for(var g="",y=function(E){var _=f.slice(0,E),M=B$({breakAll:d,style:c,children:_+g}).wordsWithComputedWidth,T=h(M),D=T.length>o||b(T).width>Number(i);return[D,T]},v=0,m=f.length-1,j=0,N;v<=m&&j<=f.length-1;){var w=Math.floor((v+m)/2),S=w-1,k=y(S),C=UA(k,2),A=C[0],O=C[1],I=y(w),P=UA(I,1),R=P[0];if(!A&&!R&&(v=w+1),A&&R&&(m=w-1),!A&&R){N=O;break}j++}return N||p},qA=function(t){var r=ft(t)?[]:t.toString().split(F$);return[{words:r}]},Doe=function(t){var r=t.width,a=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||a)&&!Ai.isSsr){var c,d,u=B$({breakAll:o,children:i,style:s});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;c=f,d=h}else return qA(i);return $oe({breakAll:o,children:i,maxLines:l,style:s},c,d,r,a)}return qA(i)},WA="#808080",fg=function(t){var r=t.x,a=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,d=c===void 0?"0.71em":c,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,b=t.verticalAnchor,g=b===void 0?"end":b,y=t.fill,v=y===void 0?WA:y,m=zA(t,Eoe),j=x.useMemo(function(){return Doe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width})},[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),N=m.dx,w=m.dy,S=m.angle,k=m.className,C=m.breakAll,A=zA(m,Toe);if(!vr(a)||!vr(s))return null;var O=a+(Ne(N)?N:0),I=s+(Ne(w)?w:0),P;switch(g){case"start":P=Gy("calc(".concat(d,")"));break;case"middle":P=Gy("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:P=Gy("calc(".concat(j.length-1," * -").concat(l,")"));break}var R=[];if(f){var $=j[0].width,E=m.width;R.push("scale(".concat((Ne(E)?E/$:1)/$,")"))}return S&&R.push("rotate(".concat(S,", ").concat(O,", ").concat(I,")")),R.length&&(A.transform=R.join(" ")),F.createElement("text",bj({},pt(A,!0),{x:O,y:I,className:gt("recharts-text",k),textAnchor:p,fill:v.includes("url")?WA:v}),j.map(function(_,M){var T=_.words.join(C?"":" ");return F.createElement("tspan",{x:O,dy:M===0?P:l,key:"".concat(T,"-").concat(M)},T)}))};function Ds(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Loe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function DN(e){let t,r,a;e.length!==2?(t=Ds,r=(l,c)=>Ds(e(l),c),a=(l,c)=>e(l)-c):(t=e===Ds||e===Loe?e:Foe,r=e,a=e);function i(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<0?d=f+1:u=f}while(d<u)}return d}function s(l,c,d=0,u=l.length){if(d<u){if(t(c,c)!==0)return u;do{const f=d+u>>>1;r(l[f],c)<=0?d=f+1:u=f}while(d<u)}return d}function o(l,c,d=0,u=l.length){const f=i(l,c,d,u-1);return f>d&&a(l[f-1],c)>-a(l[f],c)?f-1:f}return{left:i,center:o,right:s}}function Foe(){return 0}function z$(e){return e===null?NaN:+e}function*Boe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const zoe=DN(Ds),Oh=zoe.right;DN(z$).center;class HA extends Map{constructor(t,r=qoe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,i]of t)this.set(a,i)}get(t){return super.get(KA(this,t))}has(t){return super.has(KA(this,t))}set(t,r){return super.set(Uoe(this,t),r)}delete(t){return super.delete(Voe(this,t))}}function KA({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function Uoe({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function Voe({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function qoe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Woe(e=Ds){if(e===Ds)return U$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function U$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Hoe=Math.sqrt(50),Koe=Math.sqrt(10),Goe=Math.sqrt(2);function hg(e,t,r){const a=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(a)),s=a/Math.pow(10,i),o=s>=Hoe?10:s>=Koe?5:s>=Goe?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(e*d),c=Math.round(t*d),l/d<e&&++l,c/d>t&&--c,d=-d):(d=Math.pow(10,i)*o,l=Math.round(e/d),c=Math.round(t/d),l*d<e&&++l,c*d>t&&--c),c<l&&.5<=r&&r<2?hg(e,t,r*2):[l,c,d]}function jj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[i,s,o]=a?hg(t,e,r):hg(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(a)if(o<0)for(let d=0;d<l;++d)c[d]=(s-d)/-o;else for(let d=0;d<l;++d)c[d]=(s-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(i+d)/-o;else for(let d=0;d<l;++d)c[d]=(i+d)*o;return c}function wj(e,t,r){return t=+t,e=+e,r=+r,hg(e,t,r)[2]}function Nj(e,t,r){t=+t,e=+e,r=+r;const a=t<e,i=a?wj(t,e,r):wj(e,t,r);return(a?-1:1)*(i<0?1/-i:i)}function GA(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function YA(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function V$(e,t,r=0,a=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(i=i===void 0?U$:Woe(i);a>r;){if(a-r>600){const c=a-r+1,d=t-r+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(t-d*f/c+h)),b=Math.min(a,Math.floor(t+(c-d)*f/c+h));V$(e,t,p,b,i)}const s=e[t];let o=r,l=a;for(Zd(e,r,t),i(e[a],s)>0&&Zd(e,r,a);o<l;){for(Zd(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?Zd(e,r,l):(++l,Zd(e,l,a)),l<=t&&(r=l+1),t<=l&&(a=l-1)}return e}function Zd(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function Yoe(e,t,r){if(e=Float64Array.from(Boe(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return YA(e);if(t>=1)return GA(e);var a,i=(a-1)*t,s=Math.floor(i),o=GA(V$(e,s).subarray(0,s+1)),l=YA(e.subarray(s+1));return o+(l-o)*(i-s)}}function Qoe(e,t,r=z$){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,i=(a-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function Xoe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var a=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++a<i;)s[a]=e+a*r;return s}function ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Sj=Symbol("implicit");function LN(){var e=new HA,t=[],r=[],a=Sj;function i(s){let o=e.get(s);if(o===void 0){if(a!==Sj)return a;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new HA;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return LN(t,r).unknown(a)},ia.apply(i,arguments),i}function wf(){var e=LN().unknown(void 0),t=e.domain,r=e.range,a=0,i=1,s,o,l=!1,c=0,d=0,u=.5;delete e.unknown;function f(){var h=t().length,p=i<a,b=p?i:a,g=p?a:i;s=(g-b)/Math.max(1,h-c+d*2),l&&(s=Math.floor(s)),b+=(g-b-s*(h-c))*u,o=s*(1-c),l&&(b=Math.round(b),o=Math.round(o));var y=Xoe(h).map(function(v){return b+s*v});return r(p?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([a,i]=h,a=+a,i=+i,f()):[a,i]},e.rangeRound=function(h){return[a,i]=h,a=+a,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return wf(t(),[a,i]).round(l).paddingInner(c).paddingOuter(d).align(u)},ia.apply(f(),arguments)}function q$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return q$(t())},e}function Ru(){return q$(wf.apply(null,arguments).paddingInner(1))}function FN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function W$(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function _h(){}var Nf=.7,mg=1/Nf,ac="\\s*([+-]?\\d+)\\s*",Sf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Joe=/^#([0-9a-f]{3,8})$/,Zoe=new RegExp(`^rgb\\(${ac},${ac},${ac}\\)$`),ele=new RegExp(`^rgb\\(${Xa},${Xa},${Xa}\\)$`),tle=new RegExp(`^rgba\\(${ac},${ac},${ac},${Sf}\\)$`),rle=new RegExp(`^rgba\\(${Xa},${Xa},${Xa},${Sf}\\)$`),nle=new RegExp(`^hsl\\(${Sf},${Xa},${Xa}\\)$`),ale=new RegExp(`^hsla\\(${Sf},${Xa},${Xa},${Sf}\\)$`),QA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FN(_h,kf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XA,formatHex:XA,formatHex8:ile,formatHsl:sle,formatRgb:JA,toString:JA});function XA(){return this.rgb().formatHex()}function ile(){return this.rgb().formatHex8()}function sle(){return H$(this).formatHsl()}function JA(){return this.rgb().formatRgb()}function kf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Joe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ZA(t):r===3?new fn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ym(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ym(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zoe.exec(e))?new fn(t[1],t[2],t[3],1):(t=ele.exec(e))?new fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tle.exec(e))?ym(t[1],t[2],t[3],t[4]):(t=rle.exec(e))?ym(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nle.exec(e))?rP(t[1],t[2]/100,t[3]/100,1):(t=ale.exec(e))?rP(t[1],t[2]/100,t[3]/100,t[4]):QA.hasOwnProperty(e)?ZA(QA[e]):e==="transparent"?new fn(NaN,NaN,NaN,0):null}function ZA(e){return new fn(e>>16&255,e>>8&255,e&255,1)}function ym(e,t,r,a){return a<=0&&(e=t=r=NaN),new fn(e,t,r,a)}function ole(e){return e instanceof _h||(e=kf(e)),e?(e=e.rgb(),new fn(e.r,e.g,e.b,e.opacity)):new fn}function kj(e,t,r,a){return arguments.length===1?ole(e):new fn(e,t,r,a??1)}function fn(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}FN(fn,kj,W$(_h,{brighter(e){return e=e==null?mg:Math.pow(mg,e),new fn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nf:Math.pow(Nf,e),new fn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fn(Ro(this.r),Ro(this.g),Ro(this.b),pg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eP,formatHex:eP,formatHex8:lle,formatRgb:tP,toString:tP}));function eP(){return`#${jo(this.r)}${jo(this.g)}${jo(this.b)}`}function lle(){return`#${jo(this.r)}${jo(this.g)}${jo(this.b)}${jo((isNaN(this.opacity)?1:this.opacity)*255)}`}function tP(){const e=pg(this.opacity);return`${e===1?"rgb(":"rgba("}${Ro(this.r)}, ${Ro(this.g)}, ${Ro(this.b)}${e===1?")":`, ${e})`}`}function pg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ro(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jo(e){return e=Ro(e),(e<16?"0":"")+e.toString(16)}function rP(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Na(e,t,r,a)}function H$(e){if(e instanceof Na)return new Na(e.h,e.s,e.l,e.opacity);if(e instanceof _h||(e=kf(e)),!e)return new Na;if(e instanceof Na)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,i=Math.min(t,r,a),s=Math.max(t,r,a),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-a)/l+(r<a)*6:r===s?o=(a-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Na(o,l,c,e.opacity)}function cle(e,t,r,a){return arguments.length===1?H$(e):new Na(e,t,r,a??1)}function Na(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}FN(Na,cle,W$(_h,{brighter(e){return e=e==null?mg:Math.pow(mg,e),new Na(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nf:Math.pow(Nf,e),new Na(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,i=2*r-a;return new fn(Yy(e>=240?e-240:e+120,i,a),Yy(e,i,a),Yy(e<120?e+240:e-120,i,a),this.opacity)},clamp(){return new Na(nP(this.h),bm(this.s),bm(this.l),pg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pg(this.opacity);return`${e===1?"hsl(":"hsla("}${nP(this.h)}, ${bm(this.s)*100}%, ${bm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nP(e){return e=(e||0)%360,e<0?e+360:e}function bm(e){return Math.max(0,Math.min(1,e||0))}function Yy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const BN=e=>()=>e;function dle(e,t){return function(r){return e+r*t}}function ule(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function fle(e){return(e=+e)==1?K$:function(t,r){return r-t?ule(t,r,e):BN(isNaN(t)?r:t)}}function K$(e,t){var r=t-e;return r?dle(e,r):BN(isNaN(e)?t:e)}const aP=function e(t){var r=fle(t);function a(i,s){var o=r((i=kj(i)).r,(s=kj(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),d=K$(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=l(u),i.b=c(u),i.opacity=d(u),i+""}}return a.gamma=e,a}(1);function hle(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),i;return function(s){for(i=0;i<r;++i)a[i]=e[i]*(1-s)+t[i]*s;return a}}function mle(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ple(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,i=new Array(a),s=new Array(r),o;for(o=0;o<a;++o)i[o]=Id(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<a;++o)s[o]=i[o](l);return s}}function gle(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function gg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function xle(e,t){var r={},a={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Id(e[i],t[i]):a[i]=t[i];return function(s){for(i in r)a[i]=r[i](s);return a}}var Cj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qy=new RegExp(Cj.source,"g");function vle(e){return function(){return e}}function yle(e){return function(t){return e(t)+""}}function ble(e,t){var r=Cj.lastIndex=Qy.lastIndex=0,a,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(a=Cj.exec(e))&&(i=Qy.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(a=a[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:gg(a,i)})),r=Qy.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?yle(c[0].x):vle(t):(t=c.length,function(d){for(var u=0,f;u<t;++u)l[(f=c[u]).i]=f.x(d);return l.join("")})}function Id(e,t){var r=typeof t,a;return t==null||r==="boolean"?BN(t):(r==="number"?gg:r==="string"?(a=kf(t))?(t=a,aP):ble:t instanceof kf?aP:t instanceof Date?gle:mle(t)?hle:Array.isArray(t)?ple:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xle:gg)(e,t)}function zN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function jle(e,t){t===void 0&&(t=e,e=Id);for(var r=0,a=t.length-1,i=t[0],s=new Array(a<0?0:a);r<a;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return s[l](o-l)}}function wle(e){return function(){return e}}function xg(e){return+e}var iP=[0,1];function tn(e){return e}function Aj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:wle(isNaN(t)?NaN:.5)}function Nle(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function Sle(e,t,r){var a=e[0],i=e[1],s=t[0],o=t[1];return i<a?(a=Aj(i,a),s=r(o,s)):(a=Aj(a,i),s=r(s,o)),function(l){return s(a(l))}}function kle(e,t,r){var a=Math.min(e.length,t.length)-1,i=new Array(a),s=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)i[o]=Aj(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=Oh(e,l,1,a)-1;return s[c](i[c](l))}}function Ih(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gv(){var e=iP,t=iP,r=Id,a,i,s,o=tn,l,c,d;function u(){var h=Math.min(e.length,t.length);return o!==tn&&(o=Nle(e[0],e[h-1])),l=h>2?kle:Sle,c=d=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(a),t,r)))(a(o(h)))}return f.invert=function(h){return o(i((d||(d=l(t,e.map(a),gg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,xg),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=zN,u()},f.clamp=function(h){return arguments.length?(o=h?!0:tn,u()):o!==tn},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return a=h,i=p,u()}}function UN(){return gv()(tn,tn)}function Cle(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function qc(e){return e=vg(Math.abs(e)),e?e[1]:NaN}function Ale(e,t){return function(r,a){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>a&&(l=Math.max(1,a-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>a));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Ple(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Ele=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cf(e){if(!(t=Ele.exec(e)))throw new Error("invalid format: "+e);var t;return new VN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cf.prototype=VN.prototype;function VN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}VN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Tle(e){e:for(var t=e.length,r=1,a=-1,i;r<t;++r)switch(e[r]){case".":a=i=r;break;case"0":a===0&&(a=r),i=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(i+1):e}var G$;function Ole(e,t){var r=vg(e,t);if(!r)return e+"";var a=r[0],i=r[1],s=i-(G$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=a.length;return s===o?a:s>o?a+new Array(s-o+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+vg(e,Math.max(0,t+s-1))[0]}function sP(e,t){var r=vg(e,t);if(!r)return e+"";var a=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+a:a.length>i+1?a.slice(0,i+1)+"."+a.slice(i+1):a+new Array(i-a.length+2).join("0")}const oP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Cle,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sP(e*100,t),r:sP,s:Ole,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lP(e){return e}var cP=Array.prototype.map,dP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _le(e){var t=e.grouping===void 0||e.thousands===void 0?lP:Ale(cP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?lP:Ple(cP.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(f){f=Cf(f);var h=f.fill,p=f.align,b=f.sign,g=f.symbol,y=f.zero,v=f.width,m=f.comma,j=f.precision,N=f.trim,w=f.type;w==="n"?(m=!0,w="g"):oP[w]||(j===void 0&&(j=12),N=!0,w="g"),(y||h==="0"&&p==="=")&&(y=!0,h="0",p="=");var S=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k=g==="$"?a:/[%p]/.test(w)?o:"",C=oP[w],A=/[defgprs%]/.test(w);j=j===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function O(I){var P=S,R=k,$,E,_;if(w==="c")R=C(I)+R,I="";else{I=+I;var M=I<0||1/I<0;if(I=isNaN(I)?c:C(Math.abs(I),j),N&&(I=Tle(I)),M&&+I==0&&b!=="+"&&(M=!1),P=(M?b==="("?b:l:b==="-"||b==="("?"":b)+P,R=(w==="s"?dP[8+G$/3]:"")+R+(M&&b==="("?")":""),A){for($=-1,E=I.length;++$<E;)if(_=I.charCodeAt($),48>_||_>57){R=(_===46?i+I.slice($+1):I.slice($))+R,I=I.slice(0,$);break}}}m&&!y&&(I=t(I,1/0));var T=P.length+I.length+R.length,D=T<v?new Array(v-T+1).join(h):"";switch(m&&y&&(I=t(D+I,D.length?v-R.length:1/0),D=""),p){case"<":I=P+I+R+D;break;case"=":I=P+D+I+R;break;case"^":I=D.slice(0,T=D.length>>1)+P+I+R+D.slice(T);break;default:I=D+P+I+R;break}return s(I)}return O.toString=function(){return f+""},O}function u(f,h){var p=d((f=Cf(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(qc(h)/3)))*3,g=Math.pow(10,-b),y=dP[8+b/3];return function(v){return p(g*v)+y}}return{format:d,formatPrefix:u}}var jm,qN,Y$;Ile({thousands:",",grouping:[3],currency:["$",""]});function Ile(e){return jm=_le(e),qN=jm.format,Y$=jm.formatPrefix,jm}function Rle(e){return Math.max(0,-qc(Math.abs(e)))}function Mle(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qc(t)/3)))*3-qc(Math.abs(e)))}function $le(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qc(t)-qc(e))+1}function Q$(e,t,r,a){var i=Nj(e,t,r),s;switch(a=Cf(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(s=Mle(i,o))&&(a.precision=s),Y$(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(s=$le(i,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=s-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(s=Rle(i))&&(a.precision=s-(a.type==="%")*2);break}}return qN(a)}function ro(e){var t=e.domain;return e.ticks=function(r){var a=t();return jj(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var i=t();return Q$(i[0],i[i.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),i=0,s=a.length-1,o=a[i],l=a[s],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=i,i=s,s=d);u-- >0;){if(d=wj(o,l,r),d===c)return a[i]=o,a[s]=l,t(a);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return e},e}function yg(){var e=UN();return e.copy=function(){return Ih(e,yg())},ia.apply(e,arguments),ro(e)}function X$(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,xg),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return X$(e).unknown(t)},e=arguments.length?Array.from(e,xg):[0,1],ro(r)}function J$(e,t){e=e.slice();var r=0,a=e.length-1,i=e[r],s=e[a],o;return s<i&&(o=r,r=a,a=o,o=i,i=s,s=o),e[r]=t.floor(i),e[a]=t.ceil(s),e}function uP(e){return Math.log(e)}function fP(e){return Math.exp(e)}function Dle(e){return-Math.log(-e)}function Lle(e){return-Math.exp(-e)}function Fle(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ble(e){return e===10?Fle:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zle(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function hP(e){return(t,r)=>-e(-t,r)}function WN(e){const t=e(uP,fP),r=t.domain;let a=10,i,s;function o(){return i=zle(a),s=Ble(a),r()[0]<0?(i=hP(i),s=hP(s),e(Dle,Lle)):e(uP,fP),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const f=u<d;f&&([d,u]=[u,d]);let h=i(d),p=i(u),b,g;const y=l==null?10:+l;let v=[];if(!(a%1)&&p-h<y){if(h=Math.floor(h),p=Math.ceil(p),d>0){for(;h<=p;++h)for(b=1;b<a;++b)if(g=h<0?b/s(-h):b*s(h),!(g<d)){if(g>u)break;v.push(g)}}else for(;h<=p;++h)for(b=a-1;b>=1;--b)if(g=h>0?b/s(-h):b*s(h),!(g<d)){if(g>u)break;v.push(g)}v.length*2<y&&(v=jj(d,u,y))}else v=jj(h,p,Math.min(p-h,y)).map(s);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=Cf(c)).precision==null&&(c.trim=!0),c=qN(c)),l===1/0)return c;const d=Math.max(1,a*l/t.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*a<a-.5&&(f*=a),f<=d?c(u):""}},t.nice=()=>r(J$(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function Z$(){const e=WN(gv()).domain([1,10]);return e.copy=()=>Ih(e,Z$()).base(e.base()),ia.apply(e,arguments),e}function mP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function HN(e){var t=1,r=e(mP(t),pP(t));return r.constant=function(a){return arguments.length?e(mP(t=+a),pP(t)):t},ro(r)}function eD(){var e=HN(gv());return e.copy=function(){return Ih(e,eD()).constant(e.constant())},ia.apply(e,arguments)}function gP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Ule(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Vle(e){return e<0?-e*e:e*e}function KN(e){var t=e(tn,tn),r=1;function a(){return r===1?e(tn,tn):r===.5?e(Ule,Vle):e(gP(r),gP(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,a()):r},ro(t)}function GN(){var e=KN(gv());return e.copy=function(){return Ih(e,GN()).exponent(e.exponent())},ia.apply(e,arguments),e}function qle(){return GN.apply(null,arguments).exponent(.5)}function xP(e){return Math.sign(e)*e*e}function Wle(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function tD(){var e=UN(),t=[0,1],r=!1,a;function i(s){var o=Wle(e(s));return isNaN(o)?a:r?Math.round(o):o}return i.invert=function(s){return e.invert(xP(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,xg)).map(xP)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(a=s,i):a},i.copy=function(){return tD(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},ia.apply(i,arguments),ro(i)}function rD(){var e=[],t=[],r=[],a;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Qoe(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?a:t[Oh(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ds),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.quantiles=function(){return r.slice()},s.copy=function(){return rD().domain(e).range(t).unknown(a)},ia.apply(s,arguments)}function nD(){var e=0,t=1,r=1,a=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Oh(a,c,0,r)]:s}function l(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[e,a[0]]:d>=r?[a[r-1],t]:[a[d-1],a[d]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return a.slice()},o.copy=function(){return nD().domain([e,t]).range(i).unknown(s)},ia.apply(ro(o),arguments)}function aD(){var e=[.5],t=[0,1],r,a=1;function i(s){return s!=null&&s<=s?t[Oh(e,s,0,a)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),a=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),a=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return aD().domain(e).range(t).unknown(r)},ia.apply(i,arguments)}const Xy=new Date,Jy=new Date;function wr(e,t,r,a){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let d;do c.push(d=new Date(+s)),t(s,l),e(s);while(d<s&&s<o);return c},i.filter=s=>wr(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(Xy.setTime(+s),Jy.setTime(+o),e(Xy),e(Jy),Math.floor(r(Xy,Jy))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(a?o=>a(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const bg=wr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):bg);bg.range;const vi=1e3,Gn=vi*60,yi=Gn*60,Bi=yi*24,YN=Bi*7,vP=Bi*30,Zy=Bi*365,wo=wr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCSeconds());wo.range;const QN=wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getMinutes());QN.range;const XN=wr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getUTCMinutes());XN.range;const JN=wr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi-e.getMinutes()*Gn)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getHours());JN.range;const ZN=wr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getUTCHours());ZN.range;const Rh=wr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Gn)/Bi,e=>e.getDate()-1);Rh.range;const xv=wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>e.getUTCDate()-1);xv.range;const iD=wr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>Math.floor(e/Bi));iD.range;function ll(e){return wr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Gn)/YN)}const vv=ll(0),jg=ll(1),Hle=ll(2),Kle=ll(3),Wc=ll(4),Gle=ll(5),Yle=ll(6);vv.range;jg.range;Hle.range;Kle.range;Wc.range;Gle.range;Yle.range;function cl(e){return wr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/YN)}const yv=cl(0),wg=cl(1),Qle=cl(2),Xle=cl(3),Hc=cl(4),Jle=cl(5),Zle=cl(6);yv.range;wg.range;Qle.range;Xle.range;Hc.range;Jle.range;Zle.range;const eS=wr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());eS.range;const tS=wr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tS.range;const zi=wr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});zi.range;const Ui=wr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ui.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ui.range;function sD(e,t,r,a,i,s){const o=[[wo,1,vi],[wo,5,5*vi],[wo,15,15*vi],[wo,30,30*vi],[s,1,Gn],[s,5,5*Gn],[s,15,15*Gn],[s,30,30*Gn],[i,1,yi],[i,3,3*yi],[i,6,6*yi],[i,12,12*yi],[a,1,Bi],[a,2,2*Bi],[r,1,YN],[t,1,vP],[t,3,3*vP],[e,1,Zy]];function l(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const p=f&&typeof f.range=="function"?f:c(d,u,f),b=p?p.range(d,+u+1):[];return h?b.reverse():b}function c(d,u,f){const h=Math.abs(u-d)/f,p=DN(([,,y])=>y).right(o,h);if(p===o.length)return e.every(Nj(d/Zy,u/Zy,f));if(p===0)return bg.every(Math.max(Nj(d,u,f),1));const[b,g]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return b.every(g)}return[l,c]}const[ece,tce]=sD(Ui,tS,yv,iD,ZN,XN),[rce,nce]=sD(zi,eS,vv,Rh,JN,QN);function eb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function eu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ace(e){var t=e.dateTime,r=e.date,a=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,d=tu(i),u=ru(i),f=tu(s),h=ru(s),p=tu(o),b=ru(o),g=tu(l),y=ru(l),v=tu(c),m=ru(c),j={a:M,A:T,b:D,B,c:null,d:SP,e:SP,f:Ace,g:Dce,G:Fce,H:Sce,I:kce,j:Cce,L:oD,m:Pce,M:Ece,p:ee,q:re,Q:AP,s:PP,S:Tce,u:Oce,U:_ce,V:Ice,w:Rce,W:Mce,x:null,X:null,y:$ce,Y:Lce,Z:Bce,"%":CP},N={a:oe,A:ve,b:ce,B:Oe,c:null,d:kP,e:kP,f:qce,g:ede,G:rde,H:zce,I:Uce,j:Vce,L:cD,m:Wce,M:Hce,p:me,q:Ce,Q:AP,s:PP,S:Kce,u:Gce,U:Yce,V:Qce,w:Xce,W:Jce,x:null,X:null,y:Zce,Y:tde,Z:nde,"%":CP},w={a:O,A:I,b:P,B:R,c:$,d:wP,e:wP,f:bce,g:jP,G:bP,H:NP,I:NP,j:gce,L:yce,m:pce,M:xce,p:A,q:mce,Q:wce,s:Nce,S:vce,u:cce,U:dce,V:uce,w:lce,W:fce,x:E,X:_,y:jP,Y:bP,Z:hce,"%":jce};j.x=S(r,j),j.X=S(a,j),j.c=S(t,j),N.x=S(r,N),N.X=S(a,N),N.c=S(t,N);function S(te,W){return function(z){var Q=[],Ve=-1,de=0,Ae=te.length,Ge,st,Tt;for(z instanceof Date||(z=new Date(+z));++Ve<Ae;)te.charCodeAt(Ve)===37&&(Q.push(te.slice(de,Ve)),(st=yP[Ge=te.charAt(++Ve)])!=null?Ge=te.charAt(++Ve):st=Ge==="e"?" ":"0",(Tt=W[Ge])&&(Ge=Tt(z,st)),Q.push(Ge),de=Ve+1);return Q.push(te.slice(de,Ve)),Q.join("")}}function k(te,W){return function(z){var Q=eu(1900,void 0,1),Ve=C(Q,te,z+="",0),de,Ae;if(Ve!=z.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(W&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(de=tb(eu(Q.y,0,1)),Ae=de.getUTCDay(),de=Ae>4||Ae===0?wg.ceil(de):wg(de),de=xv.offset(de,(Q.V-1)*7),Q.y=de.getUTCFullYear(),Q.m=de.getUTCMonth(),Q.d=de.getUTCDate()+(Q.w+6)%7):(de=eb(eu(Q.y,0,1)),Ae=de.getDay(),de=Ae>4||Ae===0?jg.ceil(de):jg(de),de=Rh.offset(de,(Q.V-1)*7),Q.y=de.getFullYear(),Q.m=de.getMonth(),Q.d=de.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),Ae="Z"in Q?tb(eu(Q.y,0,1)).getUTCDay():eb(eu(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(Ae+5)%7:Q.w+Q.U*7-(Ae+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,tb(Q)):eb(Q)}}function C(te,W,z,Q){for(var Ve=0,de=W.length,Ae=z.length,Ge,st;Ve<de;){if(Q>=Ae)return-1;if(Ge=W.charCodeAt(Ve++),Ge===37){if(Ge=W.charAt(Ve++),st=w[Ge in yP?W.charAt(Ve++):Ge],!st||(Q=st(te,z,Q))<0)return-1}else if(Ge!=z.charCodeAt(Q++))return-1}return Q}function A(te,W,z){var Q=d.exec(W.slice(z));return Q?(te.p=u.get(Q[0].toLowerCase()),z+Q[0].length):-1}function O(te,W,z){var Q=p.exec(W.slice(z));return Q?(te.w=b.get(Q[0].toLowerCase()),z+Q[0].length):-1}function I(te,W,z){var Q=f.exec(W.slice(z));return Q?(te.w=h.get(Q[0].toLowerCase()),z+Q[0].length):-1}function P(te,W,z){var Q=v.exec(W.slice(z));return Q?(te.m=m.get(Q[0].toLowerCase()),z+Q[0].length):-1}function R(te,W,z){var Q=g.exec(W.slice(z));return Q?(te.m=y.get(Q[0].toLowerCase()),z+Q[0].length):-1}function $(te,W,z){return C(te,t,W,z)}function E(te,W,z){return C(te,r,W,z)}function _(te,W,z){return C(te,a,W,z)}function M(te){return o[te.getDay()]}function T(te){return s[te.getDay()]}function D(te){return c[te.getMonth()]}function B(te){return l[te.getMonth()]}function ee(te){return i[+(te.getHours()>=12)]}function re(te){return 1+~~(te.getMonth()/3)}function oe(te){return o[te.getUTCDay()]}function ve(te){return s[te.getUTCDay()]}function ce(te){return c[te.getUTCMonth()]}function Oe(te){return l[te.getUTCMonth()]}function me(te){return i[+(te.getUTCHours()>=12)]}function Ce(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var W=S(te+="",j);return W.toString=function(){return te},W},parse:function(te){var W=k(te+="",!1);return W.toString=function(){return te},W},utcFormat:function(te){var W=S(te+="",N);return W.toString=function(){return te},W},utcParse:function(te){var W=k(te+="",!0);return W.toString=function(){return te},W}}}var yP={"-":"",_:" ",0:"0"},Pr=/^\s*\d+/,ice=/^%/,sce=/[\\^$*+?|[\]().{}]/g;function bt(e,t,r){var a=e<0?"-":"",i=(a?-e:e)+"",s=i.length;return a+(s<r?new Array(r-s+1).join(t)+i:i)}function oce(e){return e.replace(sce,"\\$&")}function tu(e){return new RegExp("^(?:"+e.map(oce).join("|")+")","i")}function ru(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function lce(e,t,r){var a=Pr.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function cce(e,t,r){var a=Pr.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function dce(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function uce(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function fce(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function bP(e,t,r){var a=Pr.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function jP(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function hce(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function mce(e,t,r){var a=Pr.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function pce(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function wP(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function gce(e,t,r){var a=Pr.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function NP(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function xce(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function vce(e,t,r){var a=Pr.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function yce(e,t,r){var a=Pr.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function bce(e,t,r){var a=Pr.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function jce(e,t,r){var a=ice.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function wce(e,t,r){var a=Pr.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function Nce(e,t,r){var a=Pr.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function SP(e,t){return bt(e.getDate(),t,2)}function Sce(e,t){return bt(e.getHours(),t,2)}function kce(e,t){return bt(e.getHours()%12||12,t,2)}function Cce(e,t){return bt(1+Rh.count(zi(e),e),t,3)}function oD(e,t){return bt(e.getMilliseconds(),t,3)}function Ace(e,t){return oD(e,t)+"000"}function Pce(e,t){return bt(e.getMonth()+1,t,2)}function Ece(e,t){return bt(e.getMinutes(),t,2)}function Tce(e,t){return bt(e.getSeconds(),t,2)}function Oce(e){var t=e.getDay();return t===0?7:t}function _ce(e,t){return bt(vv.count(zi(e)-1,e),t,2)}function lD(e){var t=e.getDay();return t>=4||t===0?Wc(e):Wc.ceil(e)}function Ice(e,t){return e=lD(e),bt(Wc.count(zi(e),e)+(zi(e).getDay()===4),t,2)}function Rce(e){return e.getDay()}function Mce(e,t){return bt(jg.count(zi(e)-1,e),t,2)}function $ce(e,t){return bt(e.getFullYear()%100,t,2)}function Dce(e,t){return e=lD(e),bt(e.getFullYear()%100,t,2)}function Lce(e,t){return bt(e.getFullYear()%1e4,t,4)}function Fce(e,t){var r=e.getDay();return e=r>=4||r===0?Wc(e):Wc.ceil(e),bt(e.getFullYear()%1e4,t,4)}function Bce(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bt(t/60|0,"0",2)+bt(t%60,"0",2)}function kP(e,t){return bt(e.getUTCDate(),t,2)}function zce(e,t){return bt(e.getUTCHours(),t,2)}function Uce(e,t){return bt(e.getUTCHours()%12||12,t,2)}function Vce(e,t){return bt(1+xv.count(Ui(e),e),t,3)}function cD(e,t){return bt(e.getUTCMilliseconds(),t,3)}function qce(e,t){return cD(e,t)+"000"}function Wce(e,t){return bt(e.getUTCMonth()+1,t,2)}function Hce(e,t){return bt(e.getUTCMinutes(),t,2)}function Kce(e,t){return bt(e.getUTCSeconds(),t,2)}function Gce(e){var t=e.getUTCDay();return t===0?7:t}function Yce(e,t){return bt(yv.count(Ui(e)-1,e),t,2)}function dD(e){var t=e.getUTCDay();return t>=4||t===0?Hc(e):Hc.ceil(e)}function Qce(e,t){return e=dD(e),bt(Hc.count(Ui(e),e)+(Ui(e).getUTCDay()===4),t,2)}function Xce(e){return e.getUTCDay()}function Jce(e,t){return bt(wg.count(Ui(e)-1,e),t,2)}function Zce(e,t){return bt(e.getUTCFullYear()%100,t,2)}function ede(e,t){return e=dD(e),bt(e.getUTCFullYear()%100,t,2)}function tde(e,t){return bt(e.getUTCFullYear()%1e4,t,4)}function rde(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Hc(e):Hc.ceil(e),bt(e.getUTCFullYear()%1e4,t,4)}function nde(){return"+0000"}function CP(){return"%"}function AP(e){return+e}function PP(e){return Math.floor(+e/1e3)}var yl,uD,fD;ade({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ade(e){return yl=ace(e),uD=yl.format,yl.parse,fD=yl.utcFormat,yl.utcParse,yl}function ide(e){return new Date(e)}function sde(e){return e instanceof Date?+e:+new Date(+e)}function rS(e,t,r,a,i,s,o,l,c,d){var u=UN(),f=u.invert,h=u.domain,p=d(".%L"),b=d(":%S"),g=d("%I:%M"),y=d("%I %p"),v=d("%a %d"),m=d("%b %d"),j=d("%B"),N=d("%Y");function w(S){return(c(S)<S?p:l(S)<S?b:o(S)<S?g:s(S)<S?y:a(S)<S?i(S)<S?v:m:r(S)<S?j:N)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?h(Array.from(S,sde)):h().map(ide)},u.ticks=function(S){var k=h();return e(k[0],k[k.length-1],S??10)},u.tickFormat=function(S,k){return k==null?w:d(k)},u.nice=function(S){var k=h();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?h(J$(k,S)):u},u.copy=function(){return Ih(u,rS(e,t,r,a,i,s,o,l,c,d))},u}function ode(){return ia.apply(rS(rce,nce,zi,eS,vv,Rh,JN,QN,wo,uD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lde(){return ia.apply(rS(ece,tce,Ui,tS,yv,xv,ZN,XN,wo,fD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bv(){var e=0,t=1,r,a,i,s,o=tn,l=!1,c;function d(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),a=s(t=+t),i=r===a?0:1/(a-r),d):[e,t]},d.clamp=function(f){return arguments.length?(l=!!f,d):l},d.interpolator=function(f){return arguments.length?(o=f,d):o};function u(f){return function(h){var p,b;return arguments.length?([p,b]=h,o=f(p,b),d):[o(0),o(1)]}}return d.range=u(Id),d.rangeRound=u(zN),d.unknown=function(f){return arguments.length?(c=f,d):c},function(f){return s=f,r=f(e),a=f(t),i=r===a?0:1/(a-r),d}}function no(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hD(){var e=ro(bv()(tn));return e.copy=function(){return no(e,hD())},Gi.apply(e,arguments)}function mD(){var e=WN(bv()).domain([1,10]);return e.copy=function(){return no(e,mD()).base(e.base())},Gi.apply(e,arguments)}function pD(){var e=HN(bv());return e.copy=function(){return no(e,pD()).constant(e.constant())},Gi.apply(e,arguments)}function nS(){var e=KN(bv());return e.copy=function(){return no(e,nS()).exponent(e.exponent())},Gi.apply(e,arguments)}function cde(){return nS.apply(null,arguments).exponent(.5)}function gD(){var e=[],t=tn;function r(a){if(a!=null&&!isNaN(a=+a))return t((Oh(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let i of a)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ds),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,i)=>t(i/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(i,s)=>Yoe(e,s/a))},r.copy=function(){return gD(t).domain(e)},Gi.apply(r,arguments)}function jv(){var e=0,t=.5,r=1,a=1,i,s,o,l,c,d=tn,u,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-s)*(a*g<a*s?l:c),d(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,i=u(e=+e),s=u(t=+t),o=u(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),a=s<i?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(d=g,p):d};function b(g){return function(y){var v,m,j;return arguments.length?([v,m,j]=y,d=jle(g,[v,m,j]),p):[d(0),d(.5),d(1)]}}return p.range=b(Id),p.rangeRound=b(zN),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,i=g(e),s=g(t),o=g(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),a=s<i?-1:1,p}}function xD(){var e=ro(jv()(tn));return e.copy=function(){return no(e,xD())},Gi.apply(e,arguments)}function vD(){var e=WN(jv()).domain([.1,1,10]);return e.copy=function(){return no(e,vD()).base(e.base())},Gi.apply(e,arguments)}function yD(){var e=HN(jv());return e.copy=function(){return no(e,yD()).constant(e.constant())},Gi.apply(e,arguments)}function aS(){var e=KN(jv());return e.copy=function(){return no(e,aS()).exponent(e.exponent())},Gi.apply(e,arguments)}function dde(){return aS.apply(null,arguments).exponent(.5)}const EP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:wf,scaleDiverging:xD,scaleDivergingLog:vD,scaleDivergingPow:aS,scaleDivergingSqrt:dde,scaleDivergingSymlog:yD,scaleIdentity:X$,scaleImplicit:Sj,scaleLinear:yg,scaleLog:Z$,scaleOrdinal:LN,scalePoint:Ru,scalePow:GN,scaleQuantile:rD,scaleQuantize:nD,scaleRadial:tD,scaleSequential:hD,scaleSequentialLog:mD,scaleSequentialPow:nS,scaleSequentialQuantile:gD,scaleSequentialSqrt:cde,scaleSequentialSymlog:pD,scaleSqrt:qle,scaleSymlog:eD,scaleThreshold:aD,scaleTime:ode,scaleUtc:lde,tickFormat:Q$},Symbol.toStringTag,{value:"Module"}));var ude=kd;function fde(e,t,r){for(var a=-1,i=e.length;++a<i;){var s=e[a],o=t(s);if(o!=null&&(l===void 0?o===o&&!ude(o):r(o,l)))var l=o,c=s}return c}var bD=fde;function hde(e,t){return e>t}var mde=hde,pde=bD,gde=mde,xde=_d;function vde(e){return e&&e.length?pde(e,xde,gde):void 0}var yde=vde;const wv=It(yde);function bde(e,t){return e<t}var jde=bde,wde=bD,Nde=jde,Sde=_d;function kde(e){return e&&e.length?wde(e,Sde,Nde):void 0}var Cde=kde;const Nv=It(Cde);var Ade=xN,Pde=to,Ede=E$,Tde=yn;function Ode(e,t){var r=Tde(e)?Ade:Ede;return r(e,Pde(t))}var _de=Ode,Ide=A$,Rde=_de;function Mde(e,t){return Ide(Rde(e,t),1)}var $de=Mde;const Dde=It($de);var Lde=_N;function Fde(e,t){return Lde(e,t)}var Bde=Fde;const Sv=It(Bde);var Rd=1e9,zde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sS,qt=!0,ta="[DecimalError] ",Mo=ta+"Invalid argument: ",iS=ta+"Exponent out of range: ",Md=Math.floor,mo=Math.pow,Ude=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,An,Sr=1e7,Bt=7,jD=9007199254740991,Ng=Md(jD/Bt),Me={};Me.absoluteValue=Me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Me.comparedTo=Me.cmp=function(e){var t,r,a,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(a=s.d.length,i=e.d.length,t=0,r=a<i?a:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return a===i?0:a>i^s.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Bt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Me.dividedBy=Me.div=function(e){return Pi(this,new this.constructor(e))};Me.dividedToIntegerBy=Me.idiv=function(e){var t=this,r=t.constructor;return Rt(Pi(t,new r(e),0,1),r.precision)};Me.equals=Me.eq=function(e){return!this.cmp(e)};Me.exponent=function(){return fr(this)};Me.greaterThan=Me.gt=function(e){return this.cmp(e)>0};Me.greaterThanOrEqualTo=Me.gte=function(e){return this.cmp(e)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(e){return this.cmp(e)<0};Me.lessThanOrEqualTo=Me.lte=function(e){return this.cmp(e)<1};Me.logarithm=Me.log=function(e){var t,r=this,a=r.constructor,i=a.precision,s=i+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(An))throw Error(ta+"NaN");if(r.s<1)throw Error(ta+(r.s?"NaN":"-Infinity"));return r.eq(An)?new a(0):(qt=!1,t=Pi(Af(r,s),Af(e,s),s),qt=!0,Rt(t,i))};Me.minus=Me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SD(t,e):wD(t,(e.s=-e.s,e))};Me.modulo=Me.mod=function(e){var t,r=this,a=r.constructor,i=a.precision;if(e=new a(e),!e.s)throw Error(ta+"NaN");return r.s?(qt=!1,t=Pi(r,e,0,1).times(e),qt=!0,r.minus(t)):Rt(new a(r),i)};Me.naturalExponential=Me.exp=function(){return ND(this)};Me.naturalLogarithm=Me.ln=function(){return Af(this)};Me.negated=Me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Me.plus=Me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wD(t,e):SD(t,(e.s=-e.s,e))};Me.precision=Me.sd=function(e){var t,r,a,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Mo+e);if(t=fr(i)+1,a=i.d.length-1,r=a*Bt+1,a=i.d[a],a){for(;a%10==0;a/=10)r--;for(a=i.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Me.squareRoot=Me.sqrt=function(){var e,t,r,a,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ta+"NaN")}for(e=fr(l),qt=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Ha(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Md((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new c(t)):a=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=a,a=s.plus(Pi(l,s,o+2)).times(.5),Ha(s.d).slice(0,o)===(t=Ha(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Rt(s,r+1,0),s.times(s).eq(l)){a=s;break}}else if(t!="9999")break;o+=4}return qt=!0,Rt(a,r)};Me.times=Me.mul=function(e){var t,r,a,i,s,o,l,c,d,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,c=h.length,d=p.length,c<d&&(s=h,h=p,p=s,o=c,c=d,d=o),s=[],o=c+d,a=o;a--;)s.push(0);for(a=d;--a>=0;){for(t=0,i=c+a;i>a;)l=s[i]+p[a]*h[i-a-1]+t,s[i--]=l%Sr|0,t=l/Sr|0;s[i]=(s[i]+t)%Sr|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,qt?Rt(e,f.precision):e};Me.toDecimalPlaces=Me.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(ri(e,0,Rd),t===void 0?t=a.rounding:ri(t,0,8),Rt(r,e+fr(r)+1,t))};Me.toExponential=function(e,t){var r,a=this,i=a.constructor;return e===void 0?r=Xo(a,!0):(ri(e,0,Rd),t===void 0?t=i.rounding:ri(t,0,8),a=Rt(new i(a),e+1,t),r=Xo(a,!0,e+1)),r};Me.toFixed=function(e,t){var r,a,i=this,s=i.constructor;return e===void 0?Xo(i):(ri(e,0,Rd),t===void 0?t=s.rounding:ri(t,0,8),a=Rt(new s(i),e+fr(i)+1,t),r=Xo(a.abs(),!1,e+fr(a)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Me.toInteger=Me.toint=function(){var e=this,t=e.constructor;return Rt(new t(e),fr(e)+1,t.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(e){var t,r,a,i,s,o,l=this,c=l.constructor,d=12,u=+(e=new c(e));if(!e.s)return new c(An);if(l=new c(l),!l.s){if(e.s<1)throw Error(ta+"Infinity");return l}if(l.eq(An))return l;if(a=c.precision,e.eq(An))return Rt(l,a);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=u<0?-u:u)<=jD){for(i=new c(An),t=Math.ceil(a/Bt+4),qt=!1;r%2&&(i=i.times(l),OP(i.d,t)),r=Md(r/2),r!==0;)l=l.times(l),OP(l.d,t);return qt=!0,e.s<0?new c(An).div(i):Rt(i,a)}}else if(s<0)throw Error(ta+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,qt=!1,i=e.times(Af(l,a+d)),qt=!0,i=ND(i),i.s=s,i};Me.toPrecision=function(e,t){var r,a,i=this,s=i.constructor;return e===void 0?(r=fr(i),a=Xo(i,r<=s.toExpNeg||r>=s.toExpPos)):(ri(e,1,Rd),t===void 0?t=s.rounding:ri(t,0,8),i=Rt(new s(i),e,t),r=fr(i),a=Xo(i,e<=r||r<=s.toExpNeg,e)),a};Me.toSignificantDigits=Me.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(ri(e,1,Rd),t===void 0?t=a.rounding:ri(t,0,8)),Rt(new a(r),e,t)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=fr(e),r=e.constructor;return Xo(e,t<=r.toExpNeg||t>=r.toExpPos)};function wD(e,t){var r,a,i,s,o,l,c,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),qt?Rt(t,f):t;if(c=e.d,d=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(a=c,s=-s,l=d.length):(a=d,i=o,l=c.length),o=Math.ceil(f/Bt),l=o>l?o+1:l+1,s>l&&(s=l,a.length=1),a.reverse();s--;)a.push(0);a.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,a=d,d=c,c=a),r=0;s;)r=(c[--s]=c[s]+d[s]+r)/Sr|0,c[s]%=Sr;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,qt?Rt(t,f):t}function ri(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Mo+e)}function Ha(e){var t,r,a,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)a=e[t]+"",r=Bt-a.length,r&&(s+=is(r)),s+=a;o=e[t],a=o+"",r=Bt-a.length,r&&(s+=is(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Pi=function(){function e(a,i){var s,o=0,l=a.length;for(a=a.slice();l--;)s=a[l]*i+o,a[l]=s%Sr|0,o=s/Sr|0;return o&&a.unshift(o),a}function t(a,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(a[l]!=i[l]){c=a[l]>i[l]?1:-1;break}return c}function r(a,i,s){for(var o=0;s--;)a[s]-=o,o=a[s]<i[s]?1:0,a[s]=o*Sr+a[s]-i[s];for(;!a[0]&&a.length>1;)a.shift()}return function(a,i,s,o){var l,c,d,u,f,h,p,b,g,y,v,m,j,N,w,S,k,C,A=a.constructor,O=a.s==i.s?1:-1,I=a.d,P=i.d;if(!a.s)return new A(a);if(!i.s)throw Error(ta+"Division by zero");for(c=a.e-i.e,k=P.length,w=I.length,p=new A(O),b=p.d=[],d=0;P[d]==(I[d]||0);)++d;if(P[d]>(I[d]||0)&&--c,s==null?m=s=A.precision:o?m=s+(fr(a)-fr(i))+1:m=s,m<0)return new A(0);if(m=m/Bt+2|0,d=0,k==1)for(u=0,P=P[0],m++;(d<w||u)&&m--;d++)j=u*Sr+(I[d]||0),b[d]=j/P|0,u=j%P|0;else{for(u=Sr/(P[0]+1)|0,u>1&&(P=e(P,u),I=e(I,u),k=P.length,w=I.length),N=k,g=I.slice(0,k),y=g.length;y<k;)g[y++]=0;C=P.slice(),C.unshift(0),S=P[0],P[1]>=Sr/2&&++S;do u=0,l=t(P,g,k,y),l<0?(v=g[0],k!=y&&(v=v*Sr+(g[1]||0)),u=v/S|0,u>1?(u>=Sr&&(u=Sr-1),f=e(P,u),h=f.length,y=g.length,l=t(f,g,h,y),l==1&&(u--,r(f,k<h?C:P,h))):(u==0&&(l=u=1),f=P.slice()),h=f.length,h<y&&f.unshift(0),r(g,f,y),l==-1&&(y=g.length,l=t(P,g,k,y),l<1&&(u++,r(g,k<y?C:P,y))),y=g.length):l===0&&(u++,g=[0]),b[d++]=u,l&&g[0]?g[y++]=I[N]||0:(g=[I[N]],y=1);while((N++<w||g[0]!==void 0)&&m--)}return b[0]||b.shift(),p.e=c,Rt(p,o?s+fr(p)+1:s)}}();function ND(e,t){var r,a,i,s,o,l,c=0,d=0,u=e.constructor,f=u.precision;if(fr(e)>16)throw Error(iS+fr(e));if(!e.s)return new u(An);for(t==null?(qt=!1,l=f):l=t,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(a=Math.log(mo(2,d))/Math.LN10*2+5|0,l+=a,r=i=s=new u(An),u.precision=l;;){if(i=Rt(i.times(e),l),r=r.times(++c),o=s.plus(Pi(i,r,l)),Ha(o.d).slice(0,l)===Ha(s.d).slice(0,l)){for(;d--;)s=Rt(s.times(s),l);return u.precision=f,t==null?(qt=!0,Rt(s,f)):s}s=o}}function fr(e){for(var t=e.e*Bt,r=e.d[0];r>=10;r/=10)t++;return t}function rb(e,t,r){if(t>e.LN10.sd())throw qt=!0,r&&(e.precision=r),Error(ta+"LN10 precision limit exceeded");return Rt(new e(e.LN10),t)}function is(e){for(var t="";e--;)t+="0";return t}function Af(e,t){var r,a,i,s,o,l,c,d,u,f=1,h=10,p=e,b=p.d,g=p.constructor,y=g.precision;if(p.s<1)throw Error(ta+(p.s?"NaN":"-Infinity"));if(p.eq(An))return new g(0);if(t==null?(qt=!1,d=y):d=t,p.eq(10))return t==null&&(qt=!0),rb(g,d);if(d+=h,g.precision=d,r=Ha(b),a=r.charAt(0),s=fr(p),Math.abs(s)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)p=p.times(e),r=Ha(p.d),a=r.charAt(0),f++;s=fr(p),a>1?(p=new g("0."+r),s++):p=new g(a+"."+r.slice(1))}else return c=rb(g,d+2,y).times(s+""),p=Af(new g(a+"."+r.slice(1)),d-h).plus(c),g.precision=y,t==null?(qt=!0,Rt(p,y)):p;for(l=o=p=Pi(p.minus(An),p.plus(An),d),u=Rt(p.times(p),d),i=3;;){if(o=Rt(o.times(u),d),c=l.plus(Pi(o,new g(i),d)),Ha(c.d).slice(0,d)===Ha(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(rb(g,d+2,y).times(s+""))),l=Pi(l,new g(f),d),g.precision=y,t==null?(qt=!0,Rt(l,y)):l;l=c,i+=2}}function TP(e,t){var r,a,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(a,i),t){if(i-=a,r=r-a-1,e.e=Md(r/Bt),e.d=[],a=(r+1)%Bt,r<0&&(a+=Bt),a<i){for(a&&e.d.push(+t.slice(0,a)),i-=Bt;a<i;)e.d.push(+t.slice(a,a+=Bt));t=t.slice(a),a=Bt-t.length}else a-=i;for(;a--;)t+="0";if(e.d.push(+t),qt&&(e.e>Ng||e.e<-Ng))throw Error(iS+r)}else e.s=0,e.e=0,e.d=[0];return e}function Rt(e,t,r){var a,i,s,o,l,c,d,u,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(a=t-o,a<0)a+=Bt,i=t,d=f[u=0];else{if(u=Math.ceil((a+1)/Bt),s=f.length,u>=s)return e;for(d=s=f[u],o=1;s>=10;s/=10)o++;a%=Bt,i=a-Bt+o}if(r!==void 0&&(s=mo(10,o-i-1),l=d/s%10|0,c=t<0||f[u+1]!==void 0||d%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(a>0?i>0?d/mo(10,o-i):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=fr(e),f.length=1,t=t-s-1,f[0]=mo(10,(Bt-t%Bt)%Bt),e.e=Md(-t/Bt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(a==0?(f.length=u,s=1,u--):(f.length=u+1,s=mo(10,Bt-a),f[u]=i>0?(d/mo(10,o-i)%mo(10,i)|0)*s:0),c)for(;;)if(u==0){(f[0]+=s)==Sr&&(f[0]=1,++e.e);break}else{if(f[u]+=s,f[u]!=Sr)break;f[u--]=0,s=1}for(a=f.length;f[--a]===0;)f.pop();if(qt&&(e.e>Ng||e.e<-Ng))throw Error(iS+fr(e));return e}function SD(e,t){var r,a,i,s,o,l,c,d,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),qt?Rt(t,p):t;if(c=e.d,f=t.d,a=t.e,d=e.e,c=c.slice(),o=d-a,o){for(u=o<0,u?(r=c,o=-o,l=f.length):(r=f,a=d,l=c.length),i=Math.max(Math.ceil(p/Bt),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,u=i<l,u&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){u=c[i]<f[i];break}o=0}for(u&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=Sr-1;--c[s],c[i]+=Sr}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(t.d=c,t.e=a,qt?Rt(t,p):t):new h(0)}function Xo(e,t,r){var a,i=fr(e),s=Ha(e.d),o=s.length;return t?(r&&(a=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+is(a):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+is(-i-1)+s,r&&(a=r-o)>0&&(s+=is(a))):i>=o?(s+=is(i+1-o),r&&(a=r-i-1)>0&&(s=s+"."+is(a))):((a=i+1)<o&&(s=s.slice(0,a)+"."+s.slice(a)),r&&(a=r-o)>0&&(i+1===o&&(s+="."),s+=is(a))),e.s<0?"-"+s:s}function OP(e,t){if(e.length>t)return e.length=t,!0}function kD(e){var t,r,a;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Mo+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return TP(o,s.toString())}else if(typeof s!="string")throw Error(Mo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Ude.test(s))TP(o,s);else throw Error(Mo+s)}if(i.prototype=Me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=kD,i.config=i.set=Vde,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return i.config(e),i}function Vde(e){if(!e||typeof e!="object")throw Error(ta+"Object expected");var t,r,a,i=["precision",1,Rd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((a=e[r=i[t]])!==void 0)if(Md(a)===a&&a>=i[t+1]&&a<=i[t+2])this[r]=a;else throw Error(Mo+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Mo+r+": "+a);return this}var sS=kD(zde);An=new sS(1);const Ot=sS;function qde(e){return Gde(e)||Kde(e)||Hde(e)||Wde()}function Wde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(e,t){if(e){if(typeof e=="string")return Pj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pj(e,t)}}function Kde(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Gde(e){if(Array.isArray(e))return Pj(e)}function Pj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Yde=function(t){return t},CD={"@@functional/placeholder":!0},AD=function(t){return t===CD},_P=function(t){return function r(){return arguments.length===0||arguments.length===1&&AD(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Qde=function e(t,r){return t===1?r:_P(function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==CD}).length;return o>=t?r.apply(void 0,i):e(t-o,_P(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=i.map(function(f){return AD(f)?c.shift():f});return r.apply(void 0,qde(u).concat(c))}))})},kv=function(t){return Qde(t.length,t)},Ej=function(t,r){for(var a=[],i=t;i<r;++i)a[i-t]=i;return a},Xde=kv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Jde=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return Yde;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Tj=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},PD=function(t){var r=null,a=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,a=t.apply(void 0,s)),a}};function Zde(e){var t;return e===0?t=1:t=Math.floor(new Ot(e).abs().log(10).toNumber())+1,t}function eue(e,t,r){for(var a=new Ot(e),i=0,s=[];a.lt(t)&&i<1e5;)s.push(a.toNumber()),a=a.add(r),i++;return s}var tue=kv(function(e,t,r){var a=+e,i=+t;return a+r*(i-a)}),rue=kv(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),nue=kv(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const Cv={rangeStep:eue,getDigitCount:Zde,interpolateNumber:tue,uninterpolateNumber:rue,uninterpolateTruncation:nue};function Oj(e){return sue(e)||iue(e)||ED(e)||aue()}function aue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iue(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function sue(e){if(Array.isArray(e))return _j(e)}function Pf(e,t){return cue(e)||lue(e,t)||ED(e,t)||oue()}function oue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ED(e,t){if(e){if(typeof e=="string")return _j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _j(e,t)}}function _j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function lue(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(c){i=!0,s=c}finally{try{!a&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function cue(e){if(Array.isArray(e))return e}function TD(e){var t=Pf(e,2),r=t[0],a=t[1],i=r,s=a;return r>a&&(i=a,s=r),[i,s]}function OD(e,t,r){if(e.lte(0))return new Ot(0);var a=Cv.getDigitCount(e.toNumber()),i=new Ot(10).pow(a),s=e.div(i),o=a!==1?.05:.1,l=new Ot(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new Ot(Math.ceil(c))}function due(e,t,r){var a=1,i=new Ot(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(a=new Ot(10).pow(Cv.getDigitCount(e)-1),i=new Ot(Math.floor(i.div(a).toNumber())).mul(a)):s>1&&(i=new Ot(Math.floor(e)))}else e===0?i=new Ot(Math.floor((t-1)/2)):r||(i=new Ot(Math.floor(e)));var o=Math.floor((t-1)/2),l=Jde(Xde(function(c){return i.add(new Ot(c-o).mul(a)).toNumber()}),Ej);return l(0,t)}function _D(e,t,r,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var s=OD(new Ot(t).sub(e).div(r-1),a,i),o;e<=0&&t>=0?o=new Ot(0):(o=new Ot(e).add(t).div(2),o=o.sub(new Ot(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Ot(t).sub(o).div(s).toNumber()),d=l+c+1;return d>r?_D(e,t,r,a,i+1):(d<r&&(c=t>0?c+(r-d):c,l=t>0?l:l+(r-d)),{step:s,tickMin:o.sub(new Ot(l).mul(s)),tickMax:o.add(new Ot(c).mul(s))})}function uue(e){var t=Pf(e,2),r=t[0],a=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=TD([r,a]),c=Pf(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(Oj(Ej(0,i-1).map(function(){return 1/0}))):[].concat(Oj(Ej(0,i-1).map(function(){return-1/0})),[u]);return r>a?Tj(f):f}if(d===u)return due(d,i,s);var h=_D(d,u,o,s),p=h.step,b=h.tickMin,g=h.tickMax,y=Cv.rangeStep(b,g.add(new Ot(.1).mul(p)),p);return r>a?Tj(y):y}function fue(e,t){var r=Pf(e,2),a=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=TD([a,i]),l=Pf(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[a,i];if(c===d)return[c];var u=Math.max(t,2),f=OD(new Ot(d).sub(c).div(u-1),s,0),h=[].concat(Oj(Cv.rangeStep(new Ot(c),new Ot(d).sub(new Ot(.99).mul(f)),f)),[d]);return a>i?Tj(h):h}var hue=PD(uue),mue=PD(fue),pue="Invariant failed";function Jo(e,t){throw new Error(pue)}var gue=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function Sg(){return Sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sg.apply(this,arguments)}function xue(e,t){return jue(e)||bue(e,t)||yue(e,t)||vue()}function vue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yue(e,t){if(e){if(typeof e=="string")return IP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IP(e,t)}}function IP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function bue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function jue(e){if(Array.isArray(e))return e}function wue(e,t){if(e==null)return{};var r=Nue(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Nue(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Sue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kue(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,MD(a.key),a)}}function Cue(e,t,r){return t&&kue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aue(e,t,r){return t=kg(t),Pue(e,ID()?Reflect.construct(t,r||[],kg(e).constructor):t.apply(e,r))}function Pue(e,t){if(t&&(Kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eue(e)}function Eue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ID(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ID=function(){return!!e})()}function kg(e){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kg(e)}function Tue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ij(e,t)}function Ij(e,t){return Ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Ij(e,t)}function RD(e,t,r){return t=MD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MD(e){var t=Oue(e,"string");return Kc(t)=="symbol"?t:t+""}function Oue(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Kc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mh=function(e){function t(){return Sue(this,t),Aue(this,t,arguments)}return Tue(t,e),Cue(t,[{key:"render",value:function(){var a=this.props,i=a.offset,s=a.layout,o=a.width,l=a.dataKey,c=a.data,d=a.dataPointFormatter,u=a.xAxis,f=a.yAxis,h=wue(a,gue),p=pt(h,!1);this.props.direction==="x"&&u.type!=="number"&&Jo();var b=c.map(function(g){var y=d(g,l),v=y.x,m=y.y,j=y.value,N=y.errorVal;if(!N)return null;var w=[],S,k;if(Array.isArray(N)){var C=xue(N,2);S=C[0],k=C[1]}else S=k=N;if(s==="vertical"){var A=u.scale,O=m+i,I=O+o,P=O-o,R=A(j-S),$=A(j+k);w.push({x1:$,y1:I,x2:$,y2:P}),w.push({x1:R,y1:O,x2:$,y2:O}),w.push({x1:R,y1:I,x2:R,y2:P})}else if(s==="horizontal"){var E=f.scale,_=v+i,M=_-o,T=_+o,D=E(j-S),B=E(j+k);w.push({x1:M,y1:B,x2:T,y2:B}),w.push({x1:_,y1:D,x2:_,y2:B}),w.push({x1:M,y1:D,x2:T,y2:D})}return F.createElement(ar,Sg({className:"recharts-errorBar",key:"bar-".concat(w.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},p),w.map(function(ee){return F.createElement("line",Sg({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return F.createElement(ar,{className:"recharts-errorBars"},b)}}])}(F.Component);RD(Mh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});RD(Mh,"displayName","ErrorBar");function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(a){_ue(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _ue(e,t,r){return t=Iue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iue(e){var t=Rue(e,"string");return Ef(t)=="symbol"?t:t+""}function Rue(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ef(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $D=function(t){var r=t.children,a=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=Sn(r,nc);if(!o)return null;var l=nc.defaultProps,c=l!==void 0?so(so({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:s==="children"?d=(a||[]).reduce(function(u,f){var h=f.item,p=f.props,b=p.sectors||p.data||[];return u.concat(b.map(function(g){return{type:o.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):d=(a||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?so(so({},h),f.props):{},b=p.dataKey,g=p.name,y=p.legendType,v=p.hide;return{inactive:v,dataKey:b,type:c.iconType||y||"square",color:oS(f),value:g||b,payload:p}}),so(so(so({},c),nc.getWithHeight(o,i)),{},{payload:d,item:o})};function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function MP(e){return Lue(e)||Due(e)||$ue(e)||Mue()}function Mue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ue(e,t){if(e){if(typeof e=="string")return Rj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rj(e,t)}}function Due(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lue(e){if(Array.isArray(e))return Rj(e)}function Rj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(a){ic(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ic(e,t,r){return t=Fue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fue(e){var t=Bue(e,"string");return Tf(t)=="symbol"?t:t+""}function Bue(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Tf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mn(e,t,r){return ft(e)||ft(t)?r:vr(t)?Xn(e,t,r):ot(t)?t(e):r}function Mu(e,t,r,a){var i=Dde(e,function(l){return Mn(l,t)});if(r==="number"){var s=i.filter(function(l){return Ne(l)||parseFloat(l)});return s.length?[Nv(s),wv(s)]:[1/0,-1/0]}var o=a?i.filter(function(l){return!ft(l)}):i;return o.map(function(l){return vr(l)||l instanceof Date?l:""})}var zue=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,d=0;d<l;d++){var u=d>0?i[d-1].coordinate:i[l-1].coordinate,f=i[d].coordinate,h=d>=l-1?i[0].coordinate:i[d+1].coordinate,p=void 0;if(ka(f-u)!==ka(h-f)){var b=[];if(ka(h-f)===ka(c[1]-c[0])){p=h;var g=f+c[1]-c[0];b[0]=Math.min(g,(g+u)/2),b[1]=Math.max(g,(g+u)/2)}else{p=u;var y=h+c[1]-c[0];b[0]=Math.min(f,(y+f)/2),b[1]=Math.max(f,(y+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=b[0]&&t<=b[1]){o=i[d].index;break}}else{var m=Math.min(u,h),j=Math.max(u,h);if(t>(m+f)/2&&t<=(j+f)/2){o=i[d].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(a[N].coordinate+a[N+1].coordinate)/2||N>0&&N<l-1&&t>(a[N].coordinate+a[N-1].coordinate)/2&&t<=(a[N].coordinate+a[N+1].coordinate)/2||N===l-1&&t>(a[N].coordinate+a[N-1].coordinate)/2){o=a[N].index;break}return o},oS=function(t){var r,a=t,i=a.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Uue=function(t){var r=t.barSize,a=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,d=l.length;c<d;c++)for(var u=s[l[c]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var b=u[f[h]],g=b.items,y=b.cateAxisId,v=g.filter(function(k){return ki(k.type).indexOf("Bar")>=0});if(v&&v.length){var m=v[0].type.defaultProps,j=m!==void 0?Jt(Jt({},m),v[0].props):v[0].props,N=j.barSize,w=j[y];o[w]||(o[w]=[]);var S=ft(N)?r:N;o[w].push({item:v[0],stackList:v.slice(1),barSize:ft(S)?void 0:Qo(S,a,0)})}}return o},Vue=function(t){var r=t.barGap,a=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var d=Qo(r,i,0,!0),u,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=i/c,b=o.reduce(function(N,w){return N+w.barSize||0},0);b+=(c-1)*d,b>=i&&(b-=(c-1)*d,d=0),b>=i&&p>0&&(h=!0,p*=.9,b=c*p);var g=(i-b)/2>>0,y={offset:g-d,size:0};u=o.reduce(function(N,w){var S={item:w.item,position:{offset:y.offset+y.size+d,size:h?p:w.barSize}},k=[].concat(MP(N),[S]);return y=k[k.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){k.push({item:C,position:y})}),k},f)}else{var v=Qo(a,i,0,!0);i-2*v-(c-1)*d<=0&&(d=0);var m=(i-2*v-(c-1)*d)/c;m>1&&(m>>=0);var j=l===+l?Math.min(m,l):m;u=o.reduce(function(N,w,S){var k=[].concat(MP(N),[{item:w.item,position:{offset:v+(m+d)*S+(m-j)/2,size:j}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(C){k.push({item:C,position:k[k.length-1].position})}),k},f)}return u},que=function(t,r,a,i){var s=a.children,o=a.width,l=a.margin,c=o-(l.left||0)-(l.right||0),d=$D({children:s,legendWidth:c});if(d){var u=i||{},f=u.width,h=u.height,p=d.align,b=d.verticalAlign,g=d.layout;if((g==="vertical"||g==="horizontal"&&b==="middle")&&p!=="center"&&Ne(t[p]))return Jt(Jt({},t),{},ic({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&b!=="middle"&&Ne(t[b]))return Jt(Jt({},t),{},ic({},b,t[b]+(h||0)))}return t},Wue=function(t,r,a){return ft(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},DD=function(t,r,a,i,s){var o=r.props.children,l=Jn(o,Mh).filter(function(d){return Wue(i,s,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=Mn(u,a);if(ft(f))return d;var h=Array.isArray(f)?[Nv(f),wv(f)]:[f,f],p=c.reduce(function(b,g){var y=Mn(u,g,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),m=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,b[0]),Math.max(m,b[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},Hue=function(t,r,a,i,s){var o=r.map(function(l){return DD(t,l,a,s,i)}).filter(function(l){return!ft(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},LD=function(t,r,a,i,s){var o=r.map(function(c){var d=c.props.dataKey;return a==="number"&&d&&DD(t,c,d,i)||Mu(t,d,a,s)});if(a==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,f=d.length;u<f;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},FD=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},BD=function(t,r,a,i){if(i)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===a&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(a),l},bi=function(t,r,a){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(r||a)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(d=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ka(l[0]-l[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+d,value:f,offset:d}});return u.filter(function(f){return!Ph(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+d,value:f,index:h,offset:d}}):i.ticks&&!a?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+d,value:f,offset:d}}):i.domain().map(function(f,h){return{coordinate:i(f)+d,value:s?s[f]:f,index:h,offset:d}})},nb=new WeakMap,wm=function(t,r){if(typeof r!="function")return t;nb.has(t)||nb.set(t,new WeakMap);var a=nb.get(t);if(a.has(r))return a.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,i),i},Kue=function(t,r,a){var i=t.scale,s=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:wf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:yg(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Ru(),realScaleType:"point"}:s==="category"?{scale:wf(),realScaleType:"band"}:{scale:yg(),realScaleType:"linear"};if(Ah(i)){var c="scale".concat(cv(i));return{scale:(EP[c]||Ru)(),realScaleType:EP[c]?c:"point"}}return ot(i)?{scale:i}:{scale:Ru(),realScaleType:"point"}},DP=1e-4,Gue=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,i=t.range(),s=Math.min(i[0],i[1])-DP,o=Math.max(i[0],i[1])+DP,l=t(r[0]),c=t(r[a-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[a-1]])}},Yue=function(t,r){if(!t)return null;for(var a=0,i=t.length;a<i;a++)if(t[a].item===r)return t[a].position;return null},Que=function(t,r){if(!r||r.length!==2||!Ne(r[0])||!Ne(r[1]))return t;var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!Ne(t[0])||t[0]<a)&&(s[0]=a),(!Ne(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<a&&(s[1]=a),s},Xue=function(t){var r=t.length;if(!(r<=0))for(var a=0,i=t[0].length;a<i;++a)for(var s=0,o=0,l=0;l<r;++l){var c=Ph(t[l][a][1])?t[l][a][0]:t[l][a][1];c>=0?(t[l][a][0]=s,t[l][a][1]=s+c,s=t[l][a][1]):(t[l][a][0]=o,t[l][a][1]=o+c,o=t[l][a][1])}},Jue=function(t){var r=t.length;if(!(r<=0))for(var a=0,i=t[0].length;a<i;++a)for(var s=0,o=0;o<r;++o){var l=Ph(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=s,t[o][a][1]=s+l,s=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},Zue={sign:Xue,expand:mJ,none:Fc,silhouette:pJ,wiggle:gJ,positive:Jue},efe=function(t,r,a){var i=r.map(function(l){return l.props.dataKey}),s=Zue[a],o=hJ().keys(i).value(function(l,c){return+Mn(l,c,0)}).order(ij).offset(s);return o(t)},tfe=function(t,r,a,i,s,o){if(!t)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(f,h){var p,b=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Jt(Jt({},h.type.defaultProps),h.props):h.props,g=b.stackId,y=b.hide;if(y)return f;var v=b[a],m=f[v]||{hasStack:!1,stackGroups:{}};if(vr(g)){var j=m.stackGroups[g]||{numericAxisId:a,cateAxisId:i,items:[]};j.items.push(h),m.hasStack=!0,m.stackGroups[g]=j}else m.stackGroups[Eh("_stackId_")]={numericAxisId:a,cateAxisId:i,items:[h]};return Jt(Jt({},f),{},ic({},v,m))},c),u={};return Object.keys(d).reduce(function(f,h){var p=d[h];if(p.hasStack){var b={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,y){var v=p.stackGroups[y];return Jt(Jt({},g),{},ic({},y,{numericAxisId:a,cateAxisId:i,items:v.items,stackedData:efe(t,v.items,s)}))},b)}return Jt(Jt({},f),{},ic({},h,p))},u)},rfe=function(t,r){var a=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=a||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=hue(d,s,l);return t.domain([Nv(u),wv(u)]),{niceTicks:u}}if(s&&i==="number"){var f=t.domain(),h=mue(f,s,l);return{niceTicks:h}}return null};function LP(e){var t=e.axis,r=e.ticks,a=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ft(i[t.dataKey])){var l=Qp(r,"value",i[t.dataKey]);if(l)return l.coordinate+a/2}return r[s]?r[s].coordinate+a/2:null}var c=Mn(i,ft(o)?t.dataKey:o);return ft(c)?null:t.scale(c)}var FP=function(t){var r=t.axis,a=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return a[l]?a[l].coordinate+i:null;var c=Mn(o,r.dataKey,r.domain[l]);return ft(c)?null:r.scale(c)-s/2+i},nfe=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var i=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return i<=0&&s>=0?0:s<0?s:i}return a[0]},afe=function(t,r){var a,i=(a=t.type)!==null&&a!==void 0&&a.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(vr(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},ife=function(t){return t.reduce(function(r,a){return[Nv(a.concat([r[0]]).filter(Ne)),wv(a.concat([r[1]]).filter(Ne))]},[1/0,-1/0])},zD=function(t,r,a){return Object.keys(t).reduce(function(i,s){var o=t[s],l=o.stackedData,c=l.reduce(function(d,u){var f=ife(u.slice(r,a+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},BP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mj=function(t,r,a){if(ot(t))return t(r,a);if(!Array.isArray(t))return r;var i=[];if(Ne(t[0]))i[0]=a?t[0]:Math.min(t[0],r[0]);else if(BP.test(t[0])){var s=+BP.exec(t[0])[1];i[0]=r[0]-s}else ot(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(Ne(t[1]))i[1]=a?t[1]:Math.max(t[1],r[1]);else if(zP.test(t[1])){var o=+zP.exec(t[1])[1];i[1]=r[1]+o}else ot(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Cg=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!a||i>0)return i}if(t&&r&&r.length>=2){for(var s=RN(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var d=s[l],u=s[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},UP=function(t,r,a){return!t||!t.length||Sv(t,Xn(a,"type.defaultProps.domain"))?r:t},UD=function(t,r){var a=t.type.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,i=a.dataKey,s=a.name,o=a.unit,l=a.formatter,c=a.tooltipType,d=a.chartType,u=a.hide;return Jt(Jt({},pt(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:oS(t),value:Mn(r,i),type:c,payload:r,chartType:d,hide:u})};function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function qP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(a){sfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sfe(e,t,r){return t=ofe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ofe(e){var t=lfe(e,"string");return Of(t)=="symbol"?t:t+""}function lfe(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Of(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ag=Math.PI/180,cfe=function(t){return t*180/Math.PI},_r=function(t,r,a,i){return{x:t+Math.cos(-Ag*i)*a,y:r+Math.sin(-Ag*i)*a}},dfe=function(t,r){var a=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(a-s,2)+Math.pow(i-o,2))},ufe=function(t,r){var a=t.x,i=t.y,s=r.cx,o=r.cy,l=dfe({x:a,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(a-s)/l,d=Math.acos(c);return i>o&&(d=2*Math.PI-d),{radius:l,angle:cfe(d),angleInRadian:d}},ffe=function(t){var r=t.startAngle,a=t.endAngle,i=Math.floor(r/360),s=Math.floor(a/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:a-o*360}},hfe=function(t,r){var a=r.startAngle,i=r.endAngle,s=Math.floor(a/360),o=Math.floor(i/360),l=Math.min(s,o);return t+l*360},WP=function(t,r){var a=t.x,i=t.y,s=ufe({x:a,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=ffe(r),f=u.startAngle,h=u.endAngle,p=l,b;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;b=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;b=p>=h&&p<=f}return b?qP(qP({},r),{},{radius:o,angle:hfe(p,r)}):null};function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}var mfe=["offset"];function pfe(e){return yfe(e)||vfe(e)||xfe(e)||gfe()}function gfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xfe(e,t){if(e){if(typeof e=="string")return $j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $j(e,t)}}function vfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yfe(e){if(Array.isArray(e))return $j(e)}function $j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function bfe(e,t){if(e==null)return{};var r=jfe(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function jfe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(a){wfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wfe(e,t,r){return t=Nfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nfe(e){var t=Sfe(e,"string");return _f(t)=="symbol"?t:t+""}function Sfe(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(_f(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},If.apply(this,arguments)}var kfe=function(t){var r=t.value,a=t.formatter,i=ft(t.children)?r:t.children;return ot(a)?a(i):i},Cfe=function(t,r){var a=ka(r-t),i=Math.min(Math.abs(r-t),360);return a*i},Afe=function(t,r,a){var i=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,d=c.cx,u=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,b=c.endAngle,g=c.clockWise,y=(f+h)/2,v=Cfe(p,b),m=v>=0?1:-1,j,N;i==="insideStart"?(j=p+m*o,N=g):i==="insideEnd"?(j=b-m*o,N=!g):i==="end"&&(j=b+m*o,N=g),N=v<=0?N:!N;var w=_r(d,u,y,j),S=_r(d,u,y,j+(N?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),C=ft(t.id)?Eh("recharts-radial-line-"):t.id;return F.createElement("text",If({},a,{dominantBaseline:"central",className:gt("recharts-radial-bar-label",l)}),F.createElement("defs",null,F.createElement("path",{id:C,d:k})),F.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Pfe=function(t){var r=t.viewBox,a=t.offset,i=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,d=s.outerRadius,u=s.startAngle,f=s.endAngle,h=(u+f)/2;if(i==="outside"){var p=_r(o,l,d+a,h),b=p.x,g=p.y;return{x:b,y:g,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,v=_r(o,l,y,h),m=v.x,j=v.y;return{x:m,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Efe=function(t){var r=t.viewBox,a=t.parentViewBox,i=t.offset,s=t.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,f=u>=0?1:-1,h=f*i,p=f>0?"end":"start",b=f>0?"start":"end",g=d>=0?1:-1,y=g*i,v=g>0?"end":"start",m=g>0?"start":"end";if(s==="top"){var j={x:l+d/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return hr(hr({},j),a?{height:Math.max(c-a.y,0),width:d}:{})}if(s==="bottom"){var N={x:l+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:b};return hr(hr({},N),a?{height:Math.max(a.y+a.height-(c+u),0),width:d}:{})}if(s==="left"){var w={x:l-y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return hr(hr({},w),a?{width:Math.max(w.x-a.x,0),height:u}:{})}if(s==="right"){var S={x:l+d+y,y:c+u/2,textAnchor:m,verticalAnchor:"middle"};return hr(hr({},S),a?{width:Math.max(a.x+a.width-S.x,0),height:u}:{})}var k=a?{width:d,height:u}:{};return s==="insideLeft"?hr({x:l+y,y:c+u/2,textAnchor:m,verticalAnchor:"middle"},k):s==="insideRight"?hr({x:l+d-y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},k):s==="insideTop"?hr({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:b},k):s==="insideBottom"?hr({x:l+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:p},k):s==="insideTopLeft"?hr({x:l+y,y:c+h,textAnchor:m,verticalAnchor:b},k):s==="insideTopRight"?hr({x:l+d-y,y:c+h,textAnchor:v,verticalAnchor:b},k):s==="insideBottomLeft"?hr({x:l+y,y:c+u-h,textAnchor:m,verticalAnchor:p},k):s==="insideBottomRight"?hr({x:l+d-y,y:c+u-h,textAnchor:v,verticalAnchor:p},k):Cd(s)&&(Ne(s.x)||bo(s.x))&&(Ne(s.y)||bo(s.y))?hr({x:l+Qo(s.x,d),y:c+Qo(s.y,u),textAnchor:"end",verticalAnchor:"end"},k):hr({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Tfe=function(t){return"cx"in t&&Ne(t.cx)};function Vr(e){var t=e.offset,r=t===void 0?5:t,a=bfe(e,mfe),i=hr({offset:r},a),s=i.viewBox,o=i.position,l=i.value,c=i.children,d=i.content,u=i.className,f=u===void 0?"":u,h=i.textBreakAll;if(!s||ft(l)&&ft(c)&&!x.isValidElement(d)&&!ot(d))return null;if(x.isValidElement(d))return x.cloneElement(d,i);var p;if(ot(d)){if(p=x.createElement(d,i),x.isValidElement(p))return p}else p=kfe(i);var b=Tfe(s),g=pt(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Afe(i,p,g);var y=b?Pfe(i):Efe(i);return F.createElement(fg,If({className:gt("recharts-label",f)},g,y,{breakAll:h}),p)}Vr.displayName="Label";var VD=function(t){var r=t.cx,a=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,b=t.left,g=t.width,y=t.height,v=t.clockWise,m=t.labelViewBox;if(m)return m;if(Ne(g)&&Ne(y)){if(Ne(f)&&Ne(h))return{x:f,y:h,width:g,height:y};if(Ne(p)&&Ne(b))return{x:p,y:b,width:g,height:y}}return Ne(f)&&Ne(h)?{x:f,y:h,width:0,height:0}:Ne(r)&&Ne(a)?{cx:r,cy:a,startAngle:s||i||0,endAngle:o||i||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},Ofe=function(t,r){return t?t===!0?F.createElement(Vr,{key:"label-implicit",viewBox:r}):vr(t)?F.createElement(Vr,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===Vr?x.cloneElement(t,{key:"label-implicit",viewBox:r}):F.createElement(Vr,{key:"label-implicit",content:t,viewBox:r}):ot(t)?F.createElement(Vr,{key:"label-implicit",content:t,viewBox:r}):Cd(t)?F.createElement(Vr,If({viewBox:r},t,{key:"label-implicit"})):null:null},_fe=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var i=t.children,s=VD(t),o=Jn(i,Vr).map(function(c,d){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(d)})});if(!a)return o;var l=Ofe(t.label,r||s);return[l].concat(pfe(o))};Vr.parseViewBox=VD;Vr.renderCallByParent=_fe;function Ife(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Rfe=Ife;const Mfe=It(Rfe);function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}var $fe=["valueAccessor"],Dfe=["data","dataKey","clockWise","id","textBreakAll"];function Lfe(e){return Ufe(e)||zfe(e)||Bfe(e)||Ffe()}function Ffe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bfe(e,t){if(e){if(typeof e=="string")return Dj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dj(e,t)}}function zfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ufe(e){if(Array.isArray(e))return Dj(e)}function Dj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Pg(){return Pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Pg.apply(this,arguments)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function GP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(a){Vfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vfe(e,t,r){return t=qfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qfe(e){var t=Wfe(e,"string");return Rf(t)=="symbol"?t:t+""}function Wfe(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Rf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YP(e,t){if(e==null)return{};var r=Hfe(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Hfe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Kfe=function(t){return Array.isArray(t.value)?Mfe(t.value):t.value};function Ls(e){var t=e.valueAccessor,r=t===void 0?Kfe:t,a=YP(e,$fe),i=a.data,s=a.dataKey,o=a.clockWise,l=a.id,c=a.textBreakAll,d=YP(a,Dfe);return!i||!i.length?null:F.createElement(ar,{className:"recharts-label-list"},i.map(function(u,f){var h=ft(s)?r(u,f):Mn(u&&u.payload,s),p=ft(l)?{}:{id:"".concat(l,"-").concat(f)};return F.createElement(Vr,Pg({},pt(u,!0),d,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:Vr.parseViewBox(ft(o)?u:GP(GP({},u),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ls.displayName="LabelList";function Gfe(e,t){return e?e===!0?F.createElement(Ls,{key:"labelList-implicit",data:t}):F.isValidElement(e)||ot(e)?F.createElement(Ls,{key:"labelList-implicit",data:t,content:e}):Cd(e)?F.createElement(Ls,Pg({data:t},e,{key:"labelList-implicit"})):null:null}function Yfe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=Jn(a,Ls).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=Gfe(e.label,t);return[s].concat(Lfe(i))}Ls.renderCallByParent=Yfe;function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function Lj(){return Lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Lj.apply(this,arguments)}function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function XP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(a){Qfe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Qfe(e,t,r){return t=Xfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xfe(e){var t=Jfe(e,"string");return Mf(t)=="symbol"?t:t+""}function Jfe(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Mf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zfe=function(t,r){var a=ka(r-t),i=Math.min(Math.abs(r-t),359.999);return a*i},Nm=function(t){var r=t.cx,a=t.cy,i=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,d=t.cornerIsExternal,u=c*(l?1:-1)+i,f=Math.asin(c/u)/Ag,h=d?s:s+o*f,p=_r(r,a,u,h),b=_r(r,a,i,h),g=d?s-o*f:s,y=_r(r,a,u*Math.cos(f*Ag),g);return{center:p,circleTangency:b,lineTangency:y,theta:f}},qD=function(t){var r=t.cx,a=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Zfe(o,l),d=o+c,u=_r(r,a,s,o),f=_r(r,a,s,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=_r(r,a,i,o),b=_r(r,a,i,d);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(a," Z");return h},ehe=function(t){var r=t.cx,a=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=ka(u-d),h=Nm({cx:r,cy:a,radius:s,angle:d,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,b=h.lineTangency,g=h.theta,y=Nm({cx:r,cy:a,radius:s,angle:u,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=y.circleTangency,m=y.lineTangency,j=y.theta,N=c?Math.abs(d-u):Math.abs(d-u)-g-j;if(N<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):qD({cx:r,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:u});var w="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
  `);if(i>0){var S=Nm({cx:r,cy:a,radius:i,angle:d,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=S.circleTangency,C=S.lineTangency,A=S.theta,O=Nm({cx:r,cy:a,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=O.circleTangency,P=O.lineTangency,R=O.theta,$=c?Math.abs(d-u):Math.abs(d-u)-A-R;if($<0&&o===0)return"".concat(w,"L").concat(r,",").concat(a,"Z");w+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else w+="L".concat(r,",").concat(a,"Z");return w},the={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WD=function(t){var r=XP(XP({},the),t),a=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(o<s||u===f)return null;var p=gt("recharts-sector",h),b=o-s,g=Qo(l,b,0,!0),y;return g>0&&Math.abs(u-f)<360?y=ehe({cx:a,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(g,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:f}):y=qD({cx:a,cy:i,innerRadius:s,outerRadius:o,startAngle:u,endAngle:f}),F.createElement("path",Lj({},pt(r,!0),{className:p,d:y,role:"img"}))};function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fj.apply(this,arguments)}function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function ZP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(a){rhe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rhe(e,t,r){return t=nhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nhe(e){var t=ahe(e,"string");return $f(t)=="symbol"?t:t+""}function ahe(e,t){if($f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if($f(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eE={curveBasisClosed:rJ,curveBasisOpen:nJ,curveBasis:tJ,curveBumpX:zX,curveBumpY:UX,curveLinearClosed:aJ,curveLinear:uv,curveMonotoneX:iJ,curveMonotoneY:sJ,curveNatural:oJ,curveStep:lJ,curveStepAfter:dJ,curveStepBefore:cJ},Sm=function(t){return t.x===+t.x&&t.y===+t.y},nu=function(t){return t.x},au=function(t){return t.y},ihe=function(t,r){if(ot(t))return t;var a="curve".concat(cv(t));return(a==="curveMonotone"||a==="curveBump")&&r?eE["".concat(a).concat(r==="vertical"?"Y":"X")]:eE[a]||uv},she=function(t){var r=t.type,a=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,d=c===void 0?!1:c,u=ihe(a,l),f=d?s.filter(function(g){return Sm(g)}):s,h;if(Array.isArray(o)){var p=d?o.filter(function(g){return Sm(g)}):o,b=f.map(function(g,y){return ZP(ZP({},g),{},{base:p[y]})});return l==="vertical"?h=mm().y(au).x1(nu).x0(function(g){return g.base.x}):h=mm().x(nu).y1(au).y0(function(g){return g.base.y}),h.defined(Sm).curve(u),h(b)}return l==="vertical"&&Ne(o)?h=mm().y(au).x1(nu).x0(o):Ne(o)?h=mm().x(nu).y1(au).y0(o):h=H5().x(nu).y(au),h.defined(Sm).curve(u),h(f)},Bj=function(t){var r=t.className,a=t.points,i=t.path,s=t.pathRef;if((!a||!a.length)&&!i)return null;var o=a&&a.length?she(t):i;return F.createElement("path",Fj({},pt(t,!1),Xp(t),{className:gt("recharts-curve",r),d:o,ref:s}))},HD={exports:{}},ohe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lhe=ohe,che=lhe;function KD(){}function GD(){}GD.resetWarningCache=KD;var dhe=function(){function e(a,i,s,o,l,c){if(c!==che){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:GD,resetWarningCache:KD};return r.PropTypes=r,r};HD.exports=dhe();var uhe=HD.exports;const jt=It(uhe);var fhe=Object.getOwnPropertyNames,hhe=Object.getOwnPropertySymbols,mhe=Object.prototype.hasOwnProperty;function tE(e,t){return function(a,i,s){return e(a,i,s)&&t(a,i,s)}}function km(e){return function(r,a,i){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,i);var s=i.cache,o=s.get(r),l=s.get(a);if(o&&l)return o===a&&l===r;s.set(r,a),s.set(a,r);var c=e(r,a,i);return s.delete(r),s.delete(a),c}}function rE(e){return fhe(e).concat(hhe(e))}var phe=Object.hasOwn||function(e,t){return mhe.call(e,t)};function dl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var ghe="__v",xhe="__o",vhe="_owner",nE=Object.getOwnPropertyDescriptor,aE=Object.keys;function yhe(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function bhe(e,t){return dl(e.getTime(),t.getTime())}function jhe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function whe(e,t){return e===t}function iE(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var i=new Array(a),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var d=t.entries(),u=!1,f=0;(l=d.next())&&!l.done;){if(i[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1;c++}return!0}var Nhe=dl;function She(e,t,r){var a=aE(e),i=a.length;if(aE(t).length!==i)return!1;for(;i-- >0;)if(!YD(e,t,r,a[i]))return!1;return!0}function iu(e,t,r){var a=rE(e),i=a.length;if(rE(t).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=a[i],!YD(e,t,r,s)||(o=nE(e,s),l=nE(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function khe(e,t){return dl(e.valueOf(),t.valueOf())}function Che(e,t){return e.source===t.source&&e.flags===t.flags}function sE(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var i=new Array(a),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!i[u]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){d=i[u]=!0;break}u++}if(!d)return!1}return!0}function Ahe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function Phe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function YD(e,t,r,a){return(a===vhe||a===xhe||a===ghe)&&(e.$$typeof||t.$$typeof)?!0:phe(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var Ehe="[object Arguments]",The="[object Boolean]",Ohe="[object Date]",_he="[object Error]",Ihe="[object Map]",Rhe="[object Number]",Mhe="[object Object]",$he="[object RegExp]",Dhe="[object Set]",Lhe="[object String]",Fhe="[object URL]",Bhe=Array.isArray,oE=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,lE=Object.assign,zhe=Object.prototype.toString.call.bind(Object.prototype.toString);function Uhe(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(b,g,y){if(b===g)return!0;if(b==null||g==null)return!1;var v=typeof b;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?o(b,g,y):v==="function"?i(b,g,y):!1;var m=b.constructor;if(m!==g.constructor)return!1;if(m===Object)return l(b,g,y);if(Bhe(b))return t(b,g,y);if(oE!=null&&oE(b))return f(b,g,y);if(m===Date)return r(b,g,y);if(m===RegExp)return d(b,g,y);if(m===Map)return s(b,g,y);if(m===Set)return u(b,g,y);var j=zhe(b);return j===Ohe?r(b,g,y):j===$he?d(b,g,y):j===Ihe?s(b,g,y):j===Dhe?u(b,g,y):j===Mhe?typeof b.then!="function"&&typeof g.then!="function"&&l(b,g,y):j===Fhe?h(b,g,y):j===_he?a(b,g,y):j===Ehe?l(b,g,y):j===The||j===Rhe||j===Lhe?c(b,g,y):!1}}function Vhe(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,i={areArraysEqual:a?iu:yhe,areDatesEqual:bhe,areErrorsEqual:jhe,areFunctionsEqual:whe,areMapsEqual:a?tE(iE,iu):iE,areNumbersEqual:Nhe,areObjectsEqual:a?iu:She,arePrimitiveWrappersEqual:khe,areRegExpsEqual:Che,areSetsEqual:a?tE(sE,iu):sE,areTypedArraysEqual:a?iu:Ahe,areUrlsEqual:Phe};if(r&&(i=lE({},i,r(i))),t){var s=km(i.areArraysEqual),o=km(i.areMapsEqual),l=km(i.areObjectsEqual),c=km(i.areSetsEqual);i=lE({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function qhe(e){return function(t,r,a,i,s,o,l){return e(t,r,l)}}function Whe(e){var t=e.circular,r=e.comparator,a=e.createState,i=e.equals,s=e.strict;if(a)return function(c,d){var u=a(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,p=u.meta;return r(c,d,{cache:h,equals:i,meta:p,strict:s})};if(t)return function(c,d){return r(c,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,d){return r(c,d,o)}}var Hhe=ao();ao({strict:!0});ao({circular:!0});ao({circular:!0,strict:!0});ao({createInternalComparator:function(){return dl}});ao({strict:!0,createInternalComparator:function(){return dl}});ao({circular:!0,createInternalComparator:function(){return dl}});ao({circular:!0,createInternalComparator:function(){return dl},strict:!0});function ao(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,i=e.createState,s=e.strict,o=s===void 0?!1:s,l=Vhe(e),c=Uhe(l),d=a?a(c):qhe(c);return Whe({circular:r,comparator:c,createState:i,equals:d,strict:o})}function Khe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function cE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):Khe(i)};requestAnimationFrame(a)}function zj(e){"@babel/helpers - typeof";return zj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zj(e)}function Ghe(e){return Jhe(e)||Xhe(e)||Qhe(e)||Yhe()}function Yhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qhe(e,t){if(e){if(typeof e=="string")return dE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dE(e,t)}}function dE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Xhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jhe(e){if(Array.isArray(e))return e}function Zhe(){var e={},t=function(){return null},r=!1,a=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=Ghe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){cE(i.bind(null,d),c);return}i(c),cE(i.bind(null,d));return}zj(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,a(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function fE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(a){QD(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function QD(e,t,r){return t=eme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eme(e){var t=tme(e,"string");return Df(t)==="symbol"?t:String(t)}function tme(e,t){if(Df(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Df(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rme=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,i){return a.filter(function(s){return i.includes(s)})})},nme=function(t){return t},ame=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},$u=function(t,r){return Object.keys(r).reduce(function(a,i){return fE(fE({},a),{},QD({},i,t(i,r[i])))},{})},hE=function(t,r,a){return t.map(function(i){return"".concat(ame(i)," ").concat(r,"ms ").concat(a)}).join(",")};function ime(e,t){return lme(e)||ome(e,t)||XD(e,t)||sme()}function sme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ome(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function lme(e){if(Array.isArray(e))return e}function cme(e){return fme(e)||ume(e)||XD(e)||dme()}function dme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XD(e,t){if(e){if(typeof e=="string")return Uj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uj(e,t)}}function ume(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fme(e){if(Array.isArray(e))return Uj(e)}function Uj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Eg=1e-4,JD=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},ZD=function(t,r){return t.map(function(a,i){return a*Math.pow(r,i)}).reduce(function(a,i){return a+i})},mE=function(t,r){return function(a){var i=JD(t,r);return ZD(i,a)}},hme=function(t,r){return function(a){var i=JD(t,r),s=[].concat(cme(i.map(function(o,l){return o*l}).slice(1)),[0]);return ZD(s,a)}},pE=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=ime(d,4);i=u[0],s=u[1],o=u[2],l=u[3]}}}var f=mE(i,o),h=mE(s,l),p=hme(i,o),b=function(v){return v>1?1:v<0?0:v},g=function(v){for(var m=v>1?1:v,j=m,N=0;N<8;++N){var w=f(j)-m,S=p(j);if(Math.abs(w-m)<Eg||S<Eg)return h(j);j=b(j-w/S)}return h(j)};return g.isStepper=!1,g},mme=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(u,f,h){var p=-(u-f)*a,b=h*s,g=h+(p-b)*l/1e3,y=h*l/1e3+u;return Math.abs(y-f)<Eg&&Math.abs(g)<Eg?[f,0]:[y,g]};return c.isStepper=!0,c.dt=l,c},pme=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pE(i);case"spring":return mme();default:if(i.split("(")[0]==="cubic-bezier")return pE(i)}return typeof i=="function"?i:null};function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function gE(e){return vme(e)||xme(e)||eL(e)||gme()}function gme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vme(e){if(Array.isArray(e))return qj(e)}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(a){Vj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Vj(e,t,r){return t=yme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yme(e){var t=bme(e,"string");return Lf(t)==="symbol"?t:String(t)}function bme(e,t){if(Lf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Lf(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jme(e,t){return Sme(e)||Nme(e,t)||eL(e,t)||wme()}function wme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eL(e,t){if(e){if(typeof e=="string")return qj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qj(e,t)}}function qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Nme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Sme(e){if(Array.isArray(e))return e}var Tg=function(t,r,a){return t+(r-t)*a},Wj=function(t){var r=t.from,a=t.to;return r!==a},kme=function e(t,r,a){var i=$u(function(s,o){if(Wj(o)){var l=t(o.from,o.to,o.velocity),c=jme(l,2),d=c[0],u=c[1];return Tr(Tr({},o),{},{from:d,velocity:u})}return o},r);return a<1?$u(function(s,o){return Wj(o)?Tr(Tr({},o),{},{velocity:Tg(o.velocity,i[s].velocity,a),from:Tg(o.from,i[s].from,a)}):o},r):e(t,i,a-1)};const Cme=function(e,t,r,a,i){var s=rme(e,t),o=s.reduce(function(y,v){return Tr(Tr({},y),{},Vj({},v,[e[v],t[v]]))},{}),l=s.reduce(function(y,v){return Tr(Tr({},y),{},Vj({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,d,u,f=function(){return null},h=function(){return $u(function(v,m){return m.from},l)},p=function(){return!Object.values(l).filter(Wj).length},b=function(v){d||(d=v);var m=v-d,j=m/r.dt;l=kme(r,l,j),i(Tr(Tr(Tr({},e),t),h())),d=v,p()||(c=requestAnimationFrame(f))},g=function(v){u||(u=v);var m=(v-u)/a,j=$u(function(w,S){return Tg.apply(void 0,gE(S).concat([r(m)]))},o);if(i(Tr(Tr(Tr({},e),t),j)),m<1)c=requestAnimationFrame(f);else{var N=$u(function(w,S){return Tg.apply(void 0,gE(S).concat([r(1)]))},o);i(Tr(Tr(Tr({},e),t),N))}};return f=r.isStepper?b:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}var Ame=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Pme(e,t){if(e==null)return{};var r=Eme(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Eme(e,t){if(e==null)return{};var r={},a=Object.keys(e),i,s;for(s=0;s<a.length;s++)i=a[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ab(e){return Ime(e)||_me(e)||Ome(e)||Tme()}function Tme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ome(e,t){if(e){if(typeof e=="string")return Hj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hj(e,t)}}function _me(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ime(e){if(Array.isArray(e))return Hj(e)}function Hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function vE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(r),!0).forEach(function(a){gu(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gu(e,t,r){return t=tL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mme(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,tL(a.key),a)}}function $me(e,t,r){return t&&Mme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tL(e){var t=Dme(e,"string");return Gc(t)==="symbol"?t:String(t)}function Dme(e,t){if(Gc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Gc(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kj(e,t)}function Kj(e,t){return Kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Kj(e,t)}function Fme(e){var t=Bme();return function(){var a=Og(e),i;if(t){var s=Og(this).constructor;i=Reflect.construct(a,arguments,s)}else i=a.apply(this,arguments);return Gj(this,i)}}function Gj(e,t){if(t&&(Gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yj(e)}function Yj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bme(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(e)}var Vi=function(e){Lme(r,e);var t=Fme(r);function r(a,i){var s;Rme(this,r),s=t.call(this,a,i);var o=s.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,f=o.steps,h=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Yj(s)),s.changeStyle=s.changeStyle.bind(Yj(s)),!l||p<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:u}),Gj(s);if(f&&f.length)s.state={style:f[0].style};else if(d){if(typeof h=="function")return s.state={style:d},Gj(s);s.state={style:c?gu({},c,d):d}}else s.state={style:{}};return s}return $me(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,d=s.shouldReAnimate,u=s.to,f=s.from,h=this.state.style;if(l){if(!o){var p={style:c?gu({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(p);return}if(!(Hhe(i.to,u)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=b||d?f:i.to;if(this.state&&h){var y={style:c?gu({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(y)}this.runAnimation(ca(ca({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,d=i.easing,u=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=Cme(o,l,pme(d),c,this.changeStyle),b=function(){s.stopJSAnimation=p()};this.manager.start([h,u,b,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,d=o[0],u=d.style,f=d.duration,h=f===void 0?0:f,p=function(g,y,v){if(v===0)return g;var m=y.duration,j=y.easing,N=j===void 0?"ease":j,w=y.style,S=y.properties,k=y.onAnimationEnd,C=v>0?o[v-1]:y,A=S||Object.keys(w);if(typeof N=="function"||N==="spring")return[].concat(ab(g),[s.runJSAnimation.bind(s,{from:C.style,to:w,duration:m,easing:N}),m]);var O=hE(A,m,N),I=ca(ca(ca({},C.style),w),{},{transition:O});return[].concat(ab(g),[I,m,k]).filter(nme)};return this.manager.start([c].concat(ab(o.reduce(p,[u,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Zhe());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,d=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=l?gu({},l,c):c,y=hE(Object.keys(g),o,d);b.start([u,s,ca(ca({},g),{},{transition:y}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Pme(i,Ame),d=x.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!l||d===0||o<=0)return s;var f=function(p){var b=p.props,g=b.style,y=g===void 0?{}:g,v=b.className,m=x.cloneElement(p,ca(ca({},c),{},{style:ca(ca({},y),u),className:v}));return m};return d===1?f(x.Children.only(s)):F.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);Vi.displayName="Animate";Vi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vi.propTypes={from:jt.oneOfType([jt.object,jt.string]),to:jt.oneOfType([jt.object,jt.string]),attributeName:jt.string,duration:jt.number,begin:jt.number,easing:jt.oneOfType([jt.string,jt.func]),steps:jt.arrayOf(jt.shape({duration:jt.number.isRequired,style:jt.object.isRequired,easing:jt.oneOfType([jt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jt.func]),properties:jt.arrayOf("string"),onAnimationEnd:jt.func})),children:jt.oneOfType([jt.node,jt.func]),isActive:jt.bool,canBegin:jt.bool,onAnimationEnd:jt.func,shouldReAnimate:jt.bool,onAnimationStart:jt.func,onAnimationReStart:jt.func};function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_g.apply(this,arguments)}function zme(e,t){return Wme(e)||qme(e,t)||Vme(e,t)||Ume()}function Ume(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vme(e,t){if(e){if(typeof e=="string")return yE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yE(e,t)}}function yE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function qme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Wme(e){if(Array.isArray(e))return e}function bE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function jE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bE(Object(r),!0).forEach(function(a){Hme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hme(e,t,r){return t=Kme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kme(e){var t=Gme(e,"string");return Ff(t)=="symbol"?t:t+""}function Gme(e,t){if(Ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ff(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wE=function(t,r,a,i,s){var o=Math.min(Math.abs(a)/2,Math.abs(i)/2),l=i>=0?1:-1,c=a>=0?1:-1,d=i>=0&&a>=0||i<0&&a<0?1:0,u;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=s[h]>o?o:s[h];u="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(r)),u+="L ".concat(t+a-c*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+a,",").concat(r+l*f[1])),u+="L ".concat(t+a,",").concat(r+i-l*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+a-c*f[2],",").concat(r+i)),u+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+i-l*f[3])),u+="Z"}else if(o>0&&s===+s&&s>0){var b=Math.min(o,s);u="M ".concat(t,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+c*b,",").concat(r,`
            L `).concat(t+a-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+a,",").concat(r+l*b,`
            L `).concat(t+a,",").concat(r+i-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t+a-c*b,",").concat(r+i,`
            L `).concat(t+c*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(t,",").concat(r+i-l*b," Z")}else u="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(i," h ").concat(-a," Z");return u},Yme=function(t,r){if(!t||!r)return!1;var a=t.x,i=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(s,s+l),u=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return a>=d&&a<=u&&i>=f&&i<=h}return!1},Qme={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lS=function(t){var r=jE(jE({},Qme),t),a=x.useRef(),i=x.useState(-1),s=zme(i,2),o=s[0],l=s[1];x.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var N=a.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,d=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,b=r.animationEasing,g=r.animationDuration,y=r.animationBegin,v=r.isAnimationActive,m=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var j=gt("recharts-rectangle",p);return m?F.createElement(Vi,{canBegin:o>0,from:{width:u,height:f,x:c,y:d},to:{width:u,height:f,x:c,y:d},duration:g,animationEasing:b,isActive:m},function(N){var w=N.width,S=N.height,k=N.x,C=N.y;return F.createElement(Vi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:v,easing:b},F.createElement("path",_g({},pt(r,!0),{className:j,d:wE(k,C,w,S,h),ref:a})))}):F.createElement("path",_g({},pt(r,!0),{className:j,d:wE(c,d,u,f,h)}))};function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Qj.apply(this,arguments)}var cS=function(t){var r=t.cx,a=t.cy,i=t.r,s=t.className,o=gt("recharts-dot",s);return r===+r&&a===+a&&i===+i?F.createElement("circle",Qj({},pt(t,!1),Xp(t),{className:o,cx:r,cy:a,r:i})):null};function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}var Xme=["x","y","top","left","width","height","className"];function Xj(){return Xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xj.apply(this,arguments)}function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Jme(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(a){Zme(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zme(e,t,r){return t=epe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function epe(e){var t=tpe(e,"string");return Bf(t)=="symbol"?t:t+""}function tpe(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Bf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rpe(e,t){if(e==null)return{};var r=npe(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function npe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var ape=function(t,r,a,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(a)},ipe=function(t){var r=t.x,a=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,d=c===void 0?0:c,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,b=t.className,g=rpe(t,Xme),y=Jme({x:a,y:s,top:l,left:d,width:f,height:p},g);return!Ne(a)||!Ne(s)||!Ne(f)||!Ne(p)||!Ne(l)||!Ne(d)?null:F.createElement("path",Xj({},pt(y,!0),{className:gt("recharts-cross",b),d:ape(a,s,f,p,l,d)}))},spe=g$,ope=spe(Object.getPrototypeOf,Object),lpe=ope,cpe=Hi,dpe=lpe,upe=Ki,fpe="[object Object]",hpe=Function.prototype,mpe=Object.prototype,rL=hpe.toString,ppe=mpe.hasOwnProperty,gpe=rL.call(Object);function xpe(e){if(!upe(e)||cpe(e)!=fpe)return!1;var t=dpe(e);if(t===null)return!0;var r=ppe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&rL.call(r)==gpe}var vpe=xpe;const ype=It(vpe);var bpe=Hi,jpe=Ki,wpe="[object Boolean]";function Npe(e){return e===!0||e===!1||jpe(e)&&bpe(e)==wpe}var Spe=Npe;const kpe=It(Spe);function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ig.apply(this,arguments)}function Cpe(e,t){return Tpe(e)||Epe(e,t)||Ppe(e,t)||Ape()}function Ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ppe(e,t){if(e){if(typeof e=="string")return SE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SE(e,t)}}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Epe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function Tpe(e){if(Array.isArray(e))return e}function kE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function CE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kE(Object(r),!0).forEach(function(a){Ope(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ope(e,t,r){return t=_pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _pe(e){var t=Ipe(e,"string");return zf(t)=="symbol"?t:t+""}function Ipe(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(zf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AE=function(t,r,a,i,s){var o=a-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+a,",").concat(r),l+="L ".concat(t+a-o/2,",").concat(r+s),l+="L ".concat(t+a-o/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},Rpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Mpe=function(t){var r=CE(CE({},Rpe),t),a=x.useRef(),i=x.useState(-1),s=Cpe(i,2),o=s[0],l=s[1];x.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var j=a.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,b=r.animationEasing,g=r.animationDuration,y=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var m=gt("recharts-trapezoid",p);return v?F.createElement(Vi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:f,height:h,x:c,y:d},duration:g,animationEasing:b,isActive:v},function(j){var N=j.upperWidth,w=j.lowerWidth,S=j.height,k=j.x,C=j.y;return F.createElement(Vi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:b},F.createElement("path",Ig({},pt(r,!0),{className:m,d:AE(k,C,N,w,S),ref:a})))}):F.createElement("g",null,F.createElement("path",Ig({},pt(r,!0),{className:m,d:AE(c,d,u,f,h)})))},$pe=["option","shapeType","propTransformer","activeClassName","isActive"];function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function Dpe(e,t){if(e==null)return{};var r=Lpe(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Lpe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function PE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PE(Object(r),!0).forEach(function(a){Fpe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Fpe(e,t,r){return t=Bpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bpe(e){var t=zpe(e,"string");return Uf(t)=="symbol"?t:t+""}function zpe(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Uf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Upe(e,t){return Rg(Rg({},t),e)}function Vpe(e,t){return e==="symbols"}function EE(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return F.createElement(lS,r);case"trapezoid":return F.createElement(Mpe,r);case"sector":return F.createElement(WD,r);case"symbols":if(Vpe(t))return F.createElement(CN,r);break;default:return null}}function qpe(e){return x.isValidElement(e)?e.props:e}function Wpe(e){var t=e.option,r=e.shapeType,a=e.propTransformer,i=a===void 0?Upe:a,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=Dpe(e,$pe),d;if(x.isValidElement(t))d=x.cloneElement(t,Rg(Rg({},c),qpe(t)));else if(ot(t))d=t(c);else if(ype(t)&&!kpe(t)){var u=i(t,c);d=F.createElement(EE,{shapeType:r,elementProps:u})}else{var f=c;d=F.createElement(EE,{shapeType:r,elementProps:f})}return l?F.createElement(ar,{className:o},d):d}function Av(e,t){return t!=null&&"trapezoids"in e.props}function Pv(e,t){return t!=null&&"sectors"in e.props}function Vf(e,t){return t!=null&&"points"in e.props}function Hpe(e,t){var r,a,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return i&&s}function Kpe(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function Gpe(e,t){var r=e.x===t.x,a=e.y===t.y,i=e.z===t.z;return r&&a&&i}function Ype(e,t){var r;return Av(e,t)?r=Hpe:Pv(e,t)?r=Kpe:Vf(e,t)&&(r=Gpe),r}function Qpe(e,t){var r;return Av(e,t)?r="trapezoids":Pv(e,t)?r="sectors":Vf(e,t)&&(r="points"),r}function Xpe(e,t){if(Av(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Pv(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return Vf(e,t)?t.payload:{}}function Jpe(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,i=Qpe(r,t),s=Xpe(r,t),o=a.filter(function(c,d){var u=Sv(s,c),f=r.props[i].filter(function(b){var g=Ype(r,t);return g(b,t)}),h=r.props[i].indexOf(f[f.length-1]),p=d===h;return u&&p}),l=a.indexOf(o[o.length-1]);return l}var Zpe=Math.ceil,ege=Math.max;function tge(e,t,r,a){for(var i=-1,s=ege(Zpe((t-e)/(r||1)),0),o=Array(s);s--;)o[a?s:++i]=e,e+=r;return o}var rge=tge,nge=M$,TE=1/0,age=17976931348623157e292;function ige(e){if(!e)return e===0?e:0;if(e=nge(e),e===TE||e===-TE){var t=e<0?-1:1;return t*age}return e===e?e:0}var nL=ige,sge=rge,oge=pv,ib=nL;function lge(e){return function(t,r,a){return a&&typeof a!="number"&&oge(t,r,a)&&(r=a=void 0),t=ib(t),r===void 0?(r=t,t=0):r=ib(r),a=a===void 0?t<r?1:-1:ib(a),sge(t,r,a,e)}}var cge=lge,dge=cge,uge=dge(),fge=uge;const Mg=It(fge);function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function OE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function _E(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(r),!0).forEach(function(a){aL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function aL(e,t,r){return t=hge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hge(e){var t=mge(e,"string");return qf(t)=="symbol"?t:t+""}function mge(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(qf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pge=["Webkit","Moz","O","ms"],gge=function(t,r){var a=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=pge.reduce(function(s,o){return _E(_E({},s),{},aL({},o+a,r))},{});return i[t]=r,i};function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$g.apply(this,arguments)}function IE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function sb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IE(Object(r),!0).forEach(function(a){jn(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RE(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,sL(a.key),a)}}function vge(e,t,r){return t&&RE(e.prototype,t),r&&RE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yge(e,t,r){return t=Dg(t),bge(e,iL()?Reflect.construct(t,r||[],Dg(e).constructor):t.apply(e,r))}function bge(e,t){if(t&&(Yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jge(e)}function jge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iL=function(){return!!e})()}function Dg(e){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dg(e)}function wge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jj(e,t)}function Jj(e,t){return Jj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},Jj(e,t)}function jn(e,t,r){return t=sL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sL(e){var t=Nge(e,"string");return Yc(t)=="symbol"?t:t+""}function Nge(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Yc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sge=function(t){var r=t.data,a=t.startIndex,i=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Ru().domain(Mg(0,c)).range([s,s+o-l]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(i),scale:d,scaleValues:u}},ME=function(t){return t.changedTouches&&!!t.changedTouches.length},Qc=function(e){function t(r){var a;return xge(this,t),a=yge(this,t,[r]),jn(a,"handleDrag",function(i){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(i):a.state.isSlideMoving&&a.handleSlideDrag(i)}),jn(a,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&a.handleDrag(i.changedTouches[0])}),jn(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=a.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),a.detachDragEndListener()}),jn(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),jn(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),jn(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),jn(a,"handleSlideDragStart",function(i){var s=ME(i)?i.changedTouches[0]:i;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return wge(t,e),vge(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var i=a.startX,s=a.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,f=Math.min(i,s),h=Math.max(i,s),p=t.getIndexInRange(o,f),b=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:b===u?u:b-b%c}}},{key:"getTextOfTick",value:function(a){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Mn(s[a],l,a);return ot(o)?o(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,d=c.x,u=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,b=c.onChange,g=a.pageX-s;g>0?g=Math.min(g,d+u-f-l,d+u-f-o):g<0&&(g=Math.max(g,d-o,d-l));var y=this.getIndex({startX:o+g,endX:l+g});(y.startIndex!==h||y.endIndex!==p)&&b&&b(y),this.setState({startX:o+g,endX:l+g,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,i){var s=ME(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,d=this.state[o],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,b=u.onChange,g=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},m=a.pageX-s;m>0?m=Math.min(m,f+h-p-d):m<0&&(m=Math.max(m,f-d)),v[o]=d+m;var j=this.getIndex(v),N=j.startIndex,w=j.endIndex,S=function(){var C=y.length-1;return o==="startX"&&(l>c?N%g===0:w%g===0)||l<c&&w===C||o==="endX"&&(l>c?w%g===0:N%g===0)||l>c&&w===C};this.setState(jn(jn({},o,d+m),"brushMoveStartX",a.pageX),function(){b&&S()&&b(j)})}},{key:"handleTravellerMoveKeyboard",value:function(a,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[i],f=l.indexOf(u);if(f!==-1){var h=f+a;if(!(h===-1||h>=l.length)){var p=l[h];i==="startX"&&p>=d||i==="endX"&&p<=c||this.setState(jn({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.fill,d=a.stroke;return F.createElement("rect",{stroke:d,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.data,d=a.children,u=a.padding,f=x.Children.only(d);return f?F.cloneElement(f,{x:i,y:s,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,i){var s,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,b=c.data,g=c.startIndex,y=c.endIndex,v=Math.max(a,this.props.x),m=sb(sb({},pt(this.props,!1)),{},{x:v,y:d,width:u,height:f}),j=p||"Min value: ".concat((s=b[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=b[y])===null||o===void 0?void 0:o.name);return F.createElement(ar,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,m))}},{key:"renderSlide",value:function(a,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,d=s.travellerWidth,u=Math.min(a,i)+d,f=Math.max(Math.abs(i-a)-d,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:f,height:l})}},{key:"renderText",value:function(){var a=this.props,i=a.startIndex,s=a.endIndex,o=a.y,l=a.height,c=a.travellerWidth,d=a.stroke,u=this.state,f=u.startX,h=u.endX,p=5,b={pointerEvents:"none",fill:d};return F.createElement(ar,{className:"recharts-brush-texts"},F.createElement(fg,$g({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},b),this.getTextOfTick(i)),F.createElement(fg,$g({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},b),this.getTextOfTick(s)))}},{key:"render",value:function(){var a=this.props,i=a.data,s=a.className,o=a.children,l=a.x,c=a.y,d=a.width,u=a.height,f=a.alwaysShowText,h=this.state,p=h.startX,b=h.endX,g=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,m=h.isTravellerFocused;if(!i||!i.length||!Ne(l)||!Ne(c)||!Ne(d)||!Ne(u)||d<=0||u<=0)return null;var j=gt("recharts-brush",s),N=F.Children.count(o)===1,w=gge("userSelect","none");return F.createElement(ar,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,b),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(b,"endX"),(g||y||v||m||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var i=a.x,s=a.y,o=a.width,l=a.height,c=a.stroke,d=Math.floor(s+l/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),F.createElement("line",{x1:i+1,y1:d,x2:i+o-1,y2:d,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:i+1,y1:d+2,x2:i+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,i){var s;return F.isValidElement(a)?s=F.cloneElement(a,i):ot(a)?s=a(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(a,i){var s=a.data,o=a.width,l=a.x,c=a.travellerWidth,d=a.updateId,u=a.startIndex,f=a.endIndex;if(s!==i.prevData||d!==i.prevUpdateId)return sb({prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},s&&s.length?Sge({data:s,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:i.scale(a.startIndex),endX:i.scale(a.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(a,i){for(var s=a.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);a[c]>i?l=c:o=c}return i>=a[l]?l:o}}])}(x.PureComponent);jn(Qc,"displayName","Brush");jn(Qc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var kge=IN;function Cge(e,t){var r;return kge(e,function(a,i,s){return r=t(a,i,s),!r}),!!r}var Age=Cge,Pge=l$,Ege=to,Tge=Age,Oge=yn,_ge=pv;function Ige(e,t,r){var a=Oge(e)?Pge:Tge;return r&&_ge(e,t,r)&&(t=void 0),a(e,Ege(t))}var Rge=Ige;const Mge=It(Rge);var Ja=function(t,r){var a=t.alwaysShow,i=t.ifOverflow;return a&&(i="extendDomain"),i===r},$E=T$;function $ge(e,t,r){t=="__proto__"&&$E?$E(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Dge=$ge,Lge=Dge,Fge=P$,Bge=to;function zge(e,t){var r={};return t=Bge(t),Fge(e,function(a,i,s){Lge(r,i,t(a,i,s))}),r}var Uge=zge;const Vge=It(Uge);function qge(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!t(e[r],r,e))return!1;return!0}var Wge=qge,Hge=IN;function Kge(e,t){var r=!0;return Hge(e,function(a,i,s){return r=!!t(a,i,s),r}),r}var Gge=Kge,Yge=Wge,Qge=Gge,Xge=to,Jge=yn,Zge=pv;function exe(e,t,r){var a=Jge(e)?Yge:Qge;return r&&Zge(e,t,r)&&(t=void 0),a(e,Xge(t))}var txe=exe;const oL=It(txe);var rxe=["x","y"];function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zj.apply(this,arguments)}function DE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function su(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(r),!0).forEach(function(a){nxe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nxe(e,t,r){return t=axe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function axe(e){var t=ixe(e,"string");return Wf(t)=="symbol"?t:t+""}function ixe(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Wf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sxe(e,t){if(e==null)return{};var r=oxe(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function oxe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function lxe(e,t){var r=e.x,a=e.y,i=sxe(e,rxe),s="".concat(r),o=parseInt(s,10),l="".concat(a),c=parseInt(l,10),d="".concat(t.height||i.height),u=parseInt(d,10),f="".concat(t.width||i.width),h=parseInt(f,10);return su(su(su(su(su({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function LE(e){return F.createElement(Wpe,Zj({shapeType:"rectangle",propTransformer:lxe,activeClassName:"recharts-active-bar"},e))}var cxe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,i){if(typeof t=="number")return t;var s=typeof a=="number";return s?t(a,i):(s||Jo(),r)}},dxe=["value","background"],lL;function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function uxe(e,t){if(e==null)return{};var r=fxe(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fxe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Lg(){return Lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Lg.apply(this,arguments)}function FE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(r),!0).forEach(function(a){Ns(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BE(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,dL(a.key),a)}}function mxe(e,t,r){return t&&BE(e.prototype,t),r&&BE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pxe(e,t,r){return t=Fg(t),gxe(e,cL()?Reflect.construct(t,r||[],Fg(e).constructor):t.apply(e,r))}function gxe(e,t){if(t&&(Xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xxe(e)}function xxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cL=function(){return!!e})()}function Fg(e){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fg(e)}function vxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ew(e,t)}function ew(e,t){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},ew(e,t)}function Ns(e,t,r){return t=dL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dL(e){var t=yxe(e,"string");return Xc(t)=="symbol"?t:t+""}function yxe(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Xc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ul=function(e){function t(){var r;hxe(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=pxe(this,t,[].concat(i)),Ns(r,"state",{isAnimationFinished:!1}),Ns(r,"id",Eh("recharts-bar-")),Ns(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ns(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return vxe(t,e),mxe(t,[{key:"renderRectanglesStatically",value:function(a){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,d=s.activeBar,u=pt(this.props,!1);return a&&a.map(function(f,h){var p=h===c,b=p?d:o,g=lr(lr(lr({},u),f),{},{isActive:p,option:b,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return F.createElement(ar,Lg({className:"recharts-bar-rectangle"},Jp(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),F.createElement(LE,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,d=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevData;return F.createElement(Vi,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var b=p.t,g=s.map(function(y,v){var m=h&&h[v];if(m){var j=ba(m.x,y.x),N=ba(m.y,y.y),w=ba(m.width,y.width),S=ba(m.height,y.height);return lr(lr({},y),{},{x:j(b),y:N(b),width:w(b),height:S(b)})}if(o==="horizontal"){var k=ba(0,y.height),C=k(b);return lr(lr({},y),{},{y:y.y+y.height-C,height:C})}var A=ba(0,y.width),O=A(b);return lr(lr({},y),{},{width:O})});return F.createElement(ar,null,a.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var a=this.props,i=a.data,s=a.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Sv(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var a=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=pt(this.props.background,!1);return s.map(function(d,u){d.value;var f=d.background,h=uxe(d,dxe);if(!f)return null;var p=lr(lr(lr(lr(lr({},h),{},{fill:"#eee"},f),c),Jp(a.props,d,u)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return F.createElement(LE,Lg({key:"background-bar-".concat(u),option:a.props.background,isActive:u===l},p))})}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,d=s.layout,u=s.children,f=Jn(u,Mh);if(!f)return null;var h=d==="vertical"?o[0].height/2:o[0].width/2,p=function(y,v){var m=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:m,errorVal:Mn(y,v)}},b={clipPath:a?"url(#clipPath-".concat(i,")"):null};return F.createElement(ar,b,f.map(function(g){return F.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var a=this.props,i=a.hide,s=a.data,o=a.className,l=a.xAxis,c=a.yAxis,d=a.left,u=a.top,f=a.width,h=a.height,p=a.isAnimationActive,b=a.background,g=a.id;if(i||!s||!s.length)return null;var y=this.state.isAnimationFinished,v=gt("recharts-bar",o),m=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,N=m||j,w=ft(g)?this.id:g;return F.createElement(ar,{className:v},m||j?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(w)},F.createElement("rect",{x:m?d:d-f/2,y:j?u:u-h/2,width:m?f:f*2,height:j?h:h*2}))):null,F.createElement(ar,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(w,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,w),(!p||y)&&Ls.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:i.curData}:a.data!==i.curData?{curData:a.data}:null}}])}(x.PureComponent);lL=ul;Ns(ul,"displayName","Bar");Ns(ul,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ai.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ns(ul,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Yue(a,r);if(!p)return null;var b=t.layout,g=r.type.defaultProps,y=g!==void 0?lr(lr({},g),r.props):r.props,v=y.dataKey,m=y.children,j=y.minPointSize,N=b==="horizontal"?o:s,w=d?N.scale.domain():null,S=nfe({numericAxis:N}),k=Jn(m,$N),C=f.map(function(A,O){var I,P,R,$,E,_;d?I=Que(d[u+O],w):(I=Mn(A,v),Array.isArray(I)||(I=[S,I]));var M=cxe(j,lL.defaultProps.minPointSize)(I[1],O);if(b==="horizontal"){var T,D=[o.scale(I[0]),o.scale(I[1])],B=D[0],ee=D[1];P=FP({axis:s,ticks:l,bandSize:i,offset:p.offset,entry:A,index:O}),R=(T=ee??B)!==null&&T!==void 0?T:void 0,$=p.size;var re=B-ee;if(E=Number.isNaN(re)?0:re,_={x:P,y:o.y,width:$,height:o.height},Math.abs(M)>0&&Math.abs(E)<Math.abs(M)){var oe=ka(E||M)*(Math.abs(M)-Math.abs(E));R-=oe,E+=oe}}else{var ve=[s.scale(I[0]),s.scale(I[1])],ce=ve[0],Oe=ve[1];if(P=ce,R=FP({axis:o,ticks:c,bandSize:i,offset:p.offset,entry:A,index:O}),$=Oe-ce,E=p.size,_={x:s.x,y:R,width:s.width,height:E},Math.abs(M)>0&&Math.abs($)<Math.abs(M)){var me=ka($||M)*(Math.abs(M)-Math.abs($));$+=me}}return lr(lr(lr({},A),{},{x:P,y:R,width:$,height:E,value:d?I:I[1],payload:A,background:_},k&&k[O]&&k[O].props),{},{tooltipPayload:[UD(r,A)],tooltipPosition:{x:P+$/2,y:R+E/2}})});return lr({data:C,layout:b},h)});function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function bxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zE(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,uL(a.key),a)}}function jxe(e,t,r){return t&&zE(e.prototype,t),r&&zE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(a){Ev(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ev(e,t,r){return t=uL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uL(e){var t=wxe(e,"string");return Hf(t)=="symbol"?t:t+""}function wxe(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Hf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fL=function(t,r,a,i,s){var o=t.width,l=t.height,c=t.layout,d=t.children,u=Object.keys(r),f={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},h=!!Sn(d,ul);return u.reduce(function(p,b){var g=r[b],y=g.orientation,v=g.domain,m=g.padding,j=m===void 0?{}:m,N=g.mirror,w=g.reversed,S="".concat(y).concat(N?"Mirror":""),k,C,A,O,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=v[1]-v[0],R=1/0,$=g.categoricalDomain.sort();if($.forEach(function(ve,ce){ce>0&&(R=Math.min((ve||0)-($[ce-1]||0),R))}),Number.isFinite(R)){var E=R/P,_=g.layout==="vertical"?a.height:a.width;if(g.padding==="gap"&&(k=E*_/2),g.padding==="no-gap"){var M=Qo(t.barCategoryGap,E*_),T=E*_/2;k=T-M-(T-M)/_*M}}}i==="xAxis"?C=[a.left+(j.left||0)+(k||0),a.left+a.width-(j.right||0)-(k||0)]:i==="yAxis"?C=c==="horizontal"?[a.top+a.height-(j.bottom||0),a.top+(j.top||0)]:[a.top+(j.top||0)+(k||0),a.top+a.height-(j.bottom||0)-(k||0)]:C=g.range,w&&(C=[C[1],C[0]]);var D=Kue(g,s,h),B=D.scale,ee=D.realScaleType;B.domain(v).range(C),Gue(B);var re=rfe(B,ga(ga({},g),{},{realScaleType:ee}));i==="xAxis"?(I=y==="top"&&!N||y==="bottom"&&N,A=a.left,O=f[S]-I*g.height):i==="yAxis"&&(I=y==="left"&&!N||y==="right"&&N,A=f[S]-I*g.width,O=a.top);var oe=ga(ga(ga({},g),re),{},{realScaleType:ee,x:A,y:O,scale:B,width:i==="xAxis"?a.width:g.width,height:i==="yAxis"?a.height:g.height});return oe.bandSize=Cg(oe,re),!g.hide&&i==="xAxis"?f[S]+=(I?-1:1)*oe.height:g.hide||(f[S]+=(I?-1:1)*oe.width),ga(ga({},p),{},Ev({},b,oe))},{})},hL=function(t,r){var a=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(a,s),y:Math.min(i,o),width:Math.abs(s-a),height:Math.abs(o-i)}},Nxe=function(t){var r=t.x1,a=t.y1,i=t.x2,s=t.y2;return hL({x:r,y:a},{x:i,y:s})},mL=function(){function e(t){bxe(this,e),this.scale=t}return jxe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,s=a.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),i=a[0],s=a[a.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();Ev(mL,"EPS",1e-4);var dS=function(t){var r=Object.keys(t).reduce(function(a,i){return ga(ga({},a),{},Ev({},i,mL.create(t[i])))},{});return ga(ga({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return Vge(i,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return oL(i,function(s,o){return r[o].isInRange(s)})}})};function Sxe(e){return(e%180+180)%180}var kxe=function(t){var r=t.width,a=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Sxe(i),o=s*Math.PI/180,l=Math.atan(a/r),c=o>l&&o<Math.PI-l?a/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Cxe=to,Axe=Th,Pxe=hv;function Exe(e){return function(t,r,a){var i=Object(t);if(!Axe(t)){var s=Cxe(r);t=Pxe(t),r=function(l){return s(i[l],l,i)}}var o=e(t,r,a);return o>-1?i[s?t[o]:o]:void 0}}var Txe=Exe,Oxe=nL;function _xe(e){var t=Oxe(e),r=t%1;return t===t?r?t-r:t:0}var Ixe=_xe,Rxe=w$,Mxe=to,$xe=Ixe,Dxe=Math.max;function Lxe(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var i=r==null?0:$xe(r);return i<0&&(i=Dxe(a+i,0)),Rxe(e,Mxe(t),i)}var Fxe=Lxe,Bxe=Txe,zxe=Fxe,Uxe=Bxe(zxe),Vxe=Uxe;const qxe=It(Vxe);var Wxe=_Y(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),uS=x.createContext(void 0),fS=x.createContext(void 0),pL=x.createContext(void 0),gL=x.createContext({}),xL=x.createContext(void 0),vL=x.createContext(0),yL=x.createContext(0),VE=function(t){var r=t.state,a=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,d=t.height,u=Wxe(s);return F.createElement(uS.Provider,{value:a},F.createElement(fS.Provider,{value:i},F.createElement(gL.Provider,{value:s},F.createElement(pL.Provider,{value:u},F.createElement(xL.Provider,{value:o},F.createElement(vL.Provider,{value:d},F.createElement(yL.Provider,{value:c},l)))))))},Hxe=function(){return x.useContext(xL)},bL=function(t){var r=x.useContext(uS);r==null&&Jo();var a=r[t];return a==null&&Jo(),a},Kxe=function(){var t=x.useContext(uS);return cs(t)},Gxe=function(){var t=x.useContext(fS),r=qxe(t,function(a){return oL(a.domain,Number.isFinite)});return r||cs(t)},jL=function(t){var r=x.useContext(fS);r==null&&Jo();var a=r[t];return a==null&&Jo(),a},Yxe=function(){var t=x.useContext(pL);return t},Qxe=function(){return x.useContext(gL)},hS=function(){return x.useContext(yL)},mS=function(){return x.useContext(vL)};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function Xxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jxe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,NL(a.key),a)}}function Zxe(e,t,r){return t&&Jxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eve(e,t,r){return t=Bg(t),tve(e,wL()?Reflect.construct(t,r||[],Bg(e).constructor):t.apply(e,r))}function tve(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rve(e)}function rve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wL=function(){return!!e})()}function Bg(e){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(e)}function nve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tw(e,t)}function tw(e,t){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},tw(e,t)}function qE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function WE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(r),!0).forEach(function(a){pS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function pS(e,t,r){return t=NL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NL(e){var t=ave(e,"string");return Jc(t)=="symbol"?t:t+""}function ave(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Jc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ive(e,t){return cve(e)||lve(e,t)||ove(e,t)||sve()}function sve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ove(e,t){if(e){if(typeof e=="string")return HE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HE(e,t)}}function HE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function lve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function cve(e){if(Array.isArray(e))return e}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rw.apply(this,arguments)}var dve=function(t,r){var a;return F.isValidElement(t)?a=F.cloneElement(t,r):ot(t)?a=t(r):a=F.createElement("line",rw({},r,{className:"recharts-reference-line-line"})),a},uve=function(t,r,a,i,s,o,l,c,d){var u=s.x,f=s.y,h=s.width,p=s.height;if(a){var b=d.y,g=t.y.apply(b,{position:o});if(Ja(d,"discard")&&!t.y.isInRange(g))return null;var y=[{x:u+h,y:g},{x:u,y:g}];return c==="left"?y.reverse():y}if(r){var v=d.x,m=t.x.apply(v,{position:o});if(Ja(d,"discard")&&!t.x.isInRange(m))return null;var j=[{x:m,y:f+p},{x:m,y:f}];return l==="top"?j.reverse():j}if(i){var N=d.segment,w=N.map(function(S){return t.apply(S,{position:o})});return Ja(d,"discard")&&Mge(w,function(S){return!t.isInRange(S)})?null:w}return null};function fve(e){var t=e.x,r=e.y,a=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,d=Hxe(),u=bL(i),f=jL(s),h=Yxe();if(!d||!h)return null;Ci(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=dS({x:u.scale,y:f.scale}),b=vr(t),g=vr(r),y=a&&a.length===2,v=uve(p,b,g,y,h,e.position,u.orientation,f.orientation,e);if(!v)return null;var m=ive(v,2),j=m[0],N=j.x,w=j.y,S=m[1],k=S.x,C=S.y,A=Ja(e,"hidden")?"url(#".concat(d,")"):void 0,O=WE(WE({clipPath:A},pt(e,!0)),{},{x1:N,y1:w,x2:k,y2:C});return F.createElement(ar,{className:gt("recharts-reference-line",l)},dve(o,O),Vr.renderCallByParent(e,Nxe({x1:N,y1:w,x2:k,y2:C})))}var gS=function(e){function t(){return Xxe(this,t),eve(this,t,arguments)}return nve(t,e),Zxe(t,[{key:"render",value:function(){return F.createElement(fve,this.props)}}])}(F.Component);pS(gS,"displayName","ReferenceLine");pS(gS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nw.apply(this,arguments)}function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function GE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(a){Tv(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mve(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,kL(a.key),a)}}function pve(e,t,r){return t&&mve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gve(e,t,r){return t=zg(t),xve(e,SL()?Reflect.construct(t,r||[],zg(e).constructor):t.apply(e,r))}function xve(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vve(e)}function vve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SL=function(){return!!e})()}function zg(e){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zg(e)}function yve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aw(e,t)}function aw(e,t){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},aw(e,t)}function Tv(e,t,r){return t=kL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kL(e){var t=bve(e,"string");return Zc(t)=="symbol"?t:t+""}function bve(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Zc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jve=function(t){var r=t.x,a=t.y,i=t.xAxis,s=t.yAxis,o=dS({x:i.scale,y:s.scale}),l=o.apply({x:r,y:a},{bandAware:!0});return Ja(t,"discard")&&!o.isInRange(l)?null:l},Ov=function(e){function t(){return hve(this,t),gve(this,t,arguments)}return yve(t,e),pve(t,[{key:"render",value:function(){var a=this.props,i=a.x,s=a.y,o=a.r,l=a.alwaysShow,c=a.clipPathId,d=vr(i),u=vr(s);if(Ci(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=jve(this.props);if(!f)return null;var h=f.x,p=f.y,b=this.props,g=b.shape,y=b.className,v=Ja(this.props,"hidden")?"url(#".concat(c,")"):void 0,m=GE(GE({clipPath:v},pt(this.props,!0)),{},{cx:h,cy:p});return F.createElement(ar,{className:gt("recharts-reference-dot",y)},t.renderDot(g,m),Vr.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(F.Component);Tv(Ov,"displayName","ReferenceDot");Tv(Ov,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tv(Ov,"renderDot",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):ot(e)?r=e(t):r=F.createElement(cS,nw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},iw.apply(this,arguments)}function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function QE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(a){_v(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nve(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,AL(a.key),a)}}function Sve(e,t,r){return t&&Nve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kve(e,t,r){return t=Ug(t),Cve(e,CL()?Reflect.construct(t,r||[],Ug(e).constructor):t.apply(e,r))}function Cve(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ave(e)}function Ave(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CL=function(){return!!e})()}function Ug(e){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(e)}function Pve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sw(e,t)}function sw(e,t){return sw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},sw(e,t)}function _v(e,t,r){return t=AL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AL(e){var t=Eve(e,"string");return ed(t)=="symbol"?t:t+""}function Eve(e,t){if(ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ed(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tve=function(t,r,a,i,s){var o=s.x1,l=s.x2,c=s.y1,d=s.y2,u=s.xAxis,f=s.yAxis;if(!u||!f)return null;var h=dS({x:u.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:a?h.y.apply(c,{position:"start"}):h.y.rangeMin},b={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(d,{position:"end"}):h.y.rangeMax};return Ja(s,"discard")&&(!h.isInRange(p)||!h.isInRange(b))?null:hL(p,b)},Iv=function(e){function t(){return wve(this,t),kve(this,t,arguments)}return Pve(t,e),Sve(t,[{key:"render",value:function(){var a=this.props,i=a.x1,s=a.x2,o=a.y1,l=a.y2,c=a.className,d=a.alwaysShow,u=a.clipPathId;Ci(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=vr(i),h=vr(s),p=vr(o),b=vr(l),g=this.props.shape;if(!f&&!h&&!p&&!b&&!g)return null;var y=Tve(f,h,p,b,this.props);if(!y&&!g)return null;var v=Ja(this.props,"hidden")?"url(#".concat(u,")"):void 0;return F.createElement(ar,{className:gt("recharts-reference-area",c)},t.renderRect(g,QE(QE({clipPath:v},pt(this.props,!0)),y)),Vr.renderCallByParent(this.props,y))}}])}(F.Component);_v(Iv,"displayName","ReferenceArea");_v(Iv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});_v(Iv,"renderRect",function(e,t){var r;return F.isValidElement(e)?r=F.cloneElement(e,t):ot(e)?r=e(t):r=F.createElement(lS,iw({},t,{className:"recharts-reference-area-rect"})),r});function PL(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],i=0;i<e.length;i+=t)a.push(e[i]);return a}function Ove(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return kxe(a,r)}function _ve(e,t,r){var a=r==="width",i=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:a?i:s,end:a?i+o:s+l}:{start:a?i+o:s+l,end:a?i:s}}function Vg(e,t,r,a,i){if(e*t<e*a||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-a)>=0&&e*(t+e*s/2-i)<=0}function Ive(e,t){return PL(e,t+1)}function Rve(e,t,r,a,i){for(var s=(a||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,f=function(){var b=a==null?void 0:a[c];if(b===void 0)return{v:PL(a,d)};var g=c,y,v=function(){return y===void 0&&(y=r(b,g)),y},m=b.coordinate,j=c===0||Vg(e,m,v,u,l);j||(c=0,u=o,d+=1),j&&(u=m+e*(v()/2+i),c+=d)},h;d<=s.length;)if(h=f(),h)return h.v;return[]}function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(a){Mve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Mve(e,t,r){return t=$ve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ve(e){var t=Dve(e,"string");return Kf(t)=="symbol"?t:t+""}function Dve(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Kf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lve(e,t,r,a,i){for(var s=(a||[]).slice(),o=s.length,l=t.start,c=t.end,d=function(h){var p=s[h],b,g=function(){return b===void 0&&(b=r(p,h)),b};if(h===o-1){var y=e*(p.coordinate+e*g()/2-c);s[h]=p=Br(Br({},p),{},{tickCoord:y>0?p.coordinate-y*e:p.coordinate})}else s[h]=p=Br(Br({},p),{},{tickCoord:p.coordinate});var v=Vg(e,p.tickCoord,g,l,c);v&&(c=p.tickCoord-e*(g()/2+i),s[h]=Br(Br({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return s}function Fve(e,t,r,a,i,s){var o=(a||[]).slice(),l=o.length,c=t.start,d=t.end;if(s){var u=a[l-1],f=r(u,l-1),h=e*(u.coordinate+e*f/2-d);o[l-1]=u=Br(Br({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=Vg(e,u.tickCoord,function(){return f},c,d);p&&(d=u.tickCoord-e*(f/2+i),o[l-1]=Br(Br({},u),{},{isShow:!0}))}for(var b=s?l-1:l,g=function(m){var j=o[m],N,w=function(){return N===void 0&&(N=r(j,m)),N};if(m===0){var S=e*(j.coordinate-e*w()/2-c);o[m]=j=Br(Br({},j),{},{tickCoord:S<0?j.coordinate-S*e:j.coordinate})}else o[m]=j=Br(Br({},j),{},{tickCoord:j.coordinate});var k=Vg(e,j.tickCoord,w,c,d);k&&(c=j.tickCoord+e*(w()/2+i),o[m]=Br(Br({},j),{},{isShow:!0}))},y=0;y<b;y++)g(y);return o}function xS(e,t,r){var a=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!i||!i.length||!a)return[];if(Ne(c)||Ai.isSsr)return Ive(i,typeof c=="number"&&Ne(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",b=u&&p==="width"?Iu(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(j,N){var w=ot(d)?d(j.value,N):j.value;return p==="width"?Ove(Iu(w,{fontSize:t,letterSpacing:r}),b,f):Iu(w,{fontSize:t,letterSpacing:r})[p]},y=i.length>=2?ka(i[1].coordinate-i[0].coordinate):1,v=_ve(s,y,p);return c==="equidistantPreserveStart"?Rve(y,v,g,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Fve(y,v,g,i,o,c==="preserveStartEnd"):h=Lve(y,v,g,i,o),h.filter(function(m){return m.isShow}))}var Bve=["viewBox"],zve=["viewBox"],Uve=["ticks"];function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bl.apply(this,arguments)}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(a){vS(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ob(e,t){if(e==null)return{};var r=Vve(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Vve(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function qve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZE(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,TL(a.key),a)}}function Wve(e,t,r){return t&&ZE(e.prototype,t),r&&ZE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hve(e,t,r){return t=qg(t),Kve(e,EL()?Reflect.construct(t,r||[],qg(e).constructor):t.apply(e,r))}function Kve(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gve(e)}function Gve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EL=function(){return!!e})()}function qg(e){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(e)}function Yve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ow(e,t)}function ow(e,t){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},ow(e,t)}function vS(e,t,r){return t=TL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TL(e){var t=Qve(e,"string");return td(t)=="symbol"?t:t+""}function Qve(e,t){if(td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(td(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $d=function(e){function t(r){var a;return qve(this,t),a=Hve(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return Yve(t,e),Wve(t,[{key:"shouldComponentUpdate",value:function(a,i){var s=a.viewBox,o=ob(a,Bve),l=this.props,c=l.viewBox,d=ob(l,zve);return!rc(s,c)||!rc(o,d)||!rc(i,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var i=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,d=i.orientation,u=i.tickSize,f=i.mirror,h=i.tickMargin,p,b,g,y,v,m,j=f?-1:1,N=a.tickSize||u,w=Ne(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":p=b=a.coordinate,y=o+ +!f*c,g=y-j*N,m=g-j*h,v=w;break;case"left":g=y=a.coordinate,b=s+ +!f*l,p=b-j*N,v=p-j*h,m=w;break;case"right":g=y=a.coordinate,b=s+ +f*l,p=b+j*N,v=p+j*h,m=w;break;default:p=b=a.coordinate,y=o+ +f*c,g=y+j*N,m=g+j*h,v=w;break}return{line:{x1:p,y1:g,x2:b,y2:y},tick:{x:v,y:m}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,i=a.orientation,s=a.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,d=a.mirror,u=a.axisLine,f=Gr(Gr(Gr({},pt(this.props,!1)),pt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);f=Gr(Gr({},f),{},{x1:i,y1:s+h*l,x2:i+o,y2:s+h*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);f=Gr(Gr({},f),{},{x1:i+p*o,y1:s,x2:i+p*o,y2:s+l})}return F.createElement("line",Bl({},f,{className:gt("recharts-cartesian-axis-line",Xn(u,"className"))}))}},{key:"renderTicks",value:function(a,i,s){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,f=l.tickFormatter,h=l.unit,p=xS(Gr(Gr({},this.props),{},{ticks:a}),i,s),b=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),y=pt(this.props,!1),v=pt(u,!1),m=Gr(Gr({},y),{},{fill:"none"},pt(c,!1)),j=p.map(function(N,w){var S=o.getTickLineCoord(N),k=S.line,C=S.tick,A=Gr(Gr(Gr(Gr({textAnchor:b,verticalAnchor:g},y),{},{stroke:"none",fill:d},v),C),{},{index:w,payload:N,visibleTicksCount:p.length,tickFormatter:f});return F.createElement(ar,Bl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Jp(o.props,N,w)),c&&F.createElement("line",Bl({},m,k,{className:gt("recharts-cartesian-axis-tick-line",Xn(c,"className"))})),u&&t.renderTickItem(u,A,"".concat(ot(f)?f(N.value,w):N.value).concat(h||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var a=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,d=i.className,u=i.hide;if(u)return null;var f=this.props,h=f.ticks,p=ob(f,Uve),b=h;return ot(c)&&(b=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!b||!b.length?null:F.createElement(ar,{className:gt("recharts-cartesian-axis",d),ref:function(y){a.layerReference=y}},s&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Vr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,i,s){var o;return F.isValidElement(a)?o=F.cloneElement(a,i):ot(a)?o=a(i):o=F.createElement(fg,Bl({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);vS($d,"displayName","CartesianAxis");vS($d,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Xve=["x1","y1","x2","y2","key"],Jve=["offset"];function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(a){Zve(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Zve(e,t,r){return t=eye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eye(e){var t=tye(e,"string");return Zo(t)=="symbol"?t:t+""}function tye(e,t){if(Zo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Zo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},No.apply(this,arguments)}function tT(e,t){if(e==null)return{};var r=rye(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function rye(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var nye=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return F.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function OL(e,t){var r;if(F.isValidElement(e))r=F.cloneElement(e,t);else if(ot(e))r=e(t);else{var a=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=tT(t,Xve),d=pt(c,!1);d.offset;var u=tT(d,Jve);r=F.createElement("line",No({},u,{x1:a,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function aye(e){var t=e.x,r=e.width,a=e.horizontal,i=a===void 0?!0:a,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var d=qr(qr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return OL(i,d)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function iye(e){var t=e.y,r=e.height,a=e.vertical,i=a===void 0?!0:a,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var d=qr(qr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return OL(i,d)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function sye(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,d=c===void 0?!0:c;if(!d||!t||!t.length)return null;var u=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var b=!u[p+1],g=b?i+o-h:u[p+1]-h;if(g<=0)return null;var y=p%t.length;return F.createElement("rect",{key:"react-".concat(p),y:h,x:a,height:g,width:s,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function oye(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,d=e.verticalPoints;if(!r||!a||!a.length)return null;var u=d.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var b=!u[p+1],g=b?s+l-h:u[p+1]-h;if(g<=0)return null;var y=p%a.length;return F.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:g,height:c,stroke:"none",fill:a[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var lye=function(t,r){var a=t.xAxis,i=t.width,s=t.height,o=t.offset;return BD(xS(qr(qr(qr({},$d.defaultProps),a),{},{ticks:bi(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},cye=function(t,r){var a=t.yAxis,i=t.width,s=t.height,o=t.offset;return BD(xS(qr(qr(qr({},$d.defaultProps),a),{},{ticks:bi(a,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},bl={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function lw(e){var t,r,a,i,s,o,l=hS(),c=mS(),d=Qxe(),u=qr(qr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:bl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:bl.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:bl.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:bl.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:bl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:bl.verticalFill,x:Ne(e.x)?e.x:d.left,y:Ne(e.y)?e.y:d.top,width:Ne(e.width)?e.width:d.width,height:Ne(e.height)?e.height:d.height}),f=u.x,h=u.y,p=u.width,b=u.height,g=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,m=Kxe(),j=Gxe();if(!Ne(p)||p<=0||!Ne(b)||b<=0||!Ne(f)||f!==+f||!Ne(h)||h!==+h)return null;var N=u.verticalCoordinatesGenerator||lye,w=u.horizontalCoordinatesGenerator||cye,S=u.horizontalPoints,k=u.verticalPoints;if((!S||!S.length)&&ot(w)){var C=y&&y.length,A=w({yAxis:j?qr(qr({},j),{},{ticks:C?y:j.ticks}):void 0,width:l,height:c,offset:d},C?!0:g);Ci(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Zo(A),"]")),Array.isArray(A)&&(S=A)}if((!k||!k.length)&&ot(N)){var O=v&&v.length,I=N({xAxis:m?qr(qr({},m),{},{ticks:O?v:m.ticks}):void 0,width:l,height:c,offset:d},O?!0:g);Ci(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Zo(I),"]")),Array.isArray(I)&&(k=I)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(nye,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),F.createElement(aye,No({},u,{offset:d,horizontalPoints:S,xAxis:m,yAxis:j})),F.createElement(iye,No({},u,{offset:d,verticalPoints:k,xAxis:m,yAxis:j})),F.createElement(sye,No({},u,{horizontalPoints:S})),F.createElement(oye,No({},u,{verticalPoints:k})))}lw.displayName="CartesianGrid";var dye=["type","layout","connectNulls","ref"],uye=["key"];function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function rT(e,t){if(e==null)return{};var r=fye(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fye(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Du(){return Du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Du.apply(this,arguments)}function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(a){xa(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function jl(e){return gye(e)||pye(e)||mye(e)||hye()}function hye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mye(e,t){if(e){if(typeof e=="string")return cw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cw(e,t)}}function pye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gye(e){if(Array.isArray(e))return cw(e)}function cw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function xye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aT(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,IL(a.key),a)}}function vye(e,t,r){return t&&aT(e.prototype,t),r&&aT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yye(e,t,r){return t=Wg(t),bye(e,_L()?Reflect.construct(t,r||[],Wg(e).constructor):t.apply(e,r))}function bye(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jye(e)}function jye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_L=function(){return!!e})()}function Wg(e){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(e)}function wye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dw(e,t)}function dw(e,t){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},dw(e,t)}function xa(e,t,r){return t=IL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IL(e){var t=Nye(e,"string");return rd(t)=="symbol"?t:t+""}function Nye(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(rd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $h=function(e){function t(){var r;xye(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=yye(this,t,[].concat(i)),xa(r,"state",{isAnimationFinished:!0,totalLength:0}),xa(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),xa(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(v,m){return v+m});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var u=Math.floor(o/d),f=o%d,h=l-o,p=[],b=0,g=0;b<c.length;g+=c[b],++b)if(g+c[b]>f){p=[].concat(jl(c.slice(0,b)),[f-g]);break}var y=p.length%2===0?[0,h]:[h];return[].concat(jl(t.repeat(c,u)),jl(p),y).map(function(v){return"".concat(v,"px")}).join(", ")}),xa(r,"id",Eh("recharts-line-")),xa(r,"pathRef",function(o){r.mainCurve=o}),xa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),xa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return wye(t,e),vye(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,d=s.layout,u=s.children,f=Jn(u,Mh);if(!f)return null;var h=function(g,y){return{x:g.x,y:g.y,value:g.value,errorVal:Mn(g.payload,y)}},p={clipPath:a?"url(#clipPath-".concat(i,")"):null};return F.createElement(ar,p,f.map(function(b){return F.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(a,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=pt(this.props,!1),h=pt(c,!0),p=d.map(function(g,y){var v=bn(bn(bn({key:"dot-".concat(y),r:3},f),h),{},{index:y,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:d});return t.renderDotItem(c,v)}),b={clipPath:a?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return F.createElement(ar,Du({className:"recharts-line-dots",key:"dots"},b),p)}},{key:"renderCurveStatically",value:function(a,i,s,o){var l=this.props,c=l.type,d=l.layout,u=l.connectNulls;l.ref;var f=rT(l,dye),h=bn(bn(bn({},pt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:a},o),{},{type:c,layout:d,connectNulls:u});return F.createElement(Bj,Du({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,u=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,b=o.animateNewValues,g=o.width,y=o.height,v=this.state,m=v.prevPoints,j=v.totalLength;return F.createElement(Vi,{begin:u,duration:f,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var w=N.t;if(m){var S=m.length/l.length,k=l.map(function(P,R){var $=Math.floor(R*S);if(m[$]){var E=m[$],_=ba(E.x,P.x),M=ba(E.y,P.y);return bn(bn({},P),{},{x:_(w),y:M(w)})}if(b){var T=ba(g*2,P.x),D=ba(y/2,P.y);return bn(bn({},P),{},{x:T(w),y:D(w)})}return bn(bn({},P),{},{x:P.x,y:P.y})});return s.renderCurveStatically(k,a,i)}var C=ba(0,j),A=C(w),O;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});O=s.getStrokeDasharray(A,j,I)}else O=s.generateSimpleStrokeDasharray(j,A);return s.renderCurveStatically(l,a,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(a,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return l&&o&&o.length&&(!d&&u>0||!Sv(d,o))?this.renderCurveWithAnimation(a,i):this.renderCurveStatically(o,a,i)}},{key:"render",value:function(){var a,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,d=i.xAxis,u=i.yAxis,f=i.top,h=i.left,p=i.width,b=i.height,g=i.isAnimationActive,y=i.id;if(s||!l||!l.length)return null;var v=this.state.isAnimationFinished,m=l.length===1,j=gt("recharts-line",c),N=d&&d.allowDataOverflow,w=u&&u.allowDataOverflow,S=N||w,k=ft(y)?this.id:y,C=(a=pt(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},A=C.r,O=A===void 0?3:A,I=C.strokeWidth,P=I===void 0?2:I,R=LQ(o)?o:{},$=R.clipDot,E=$===void 0?!0:$,_=O*2+P;return F.createElement(ar,{className:j},N||w?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(k)},F.createElement("rect",{x:N?h:h-p/2,y:w?f:f-b/2,width:N?p:p*2,height:w?b:b*2})),!E&&F.createElement("clipPath",{id:"clipPath-dots-".concat(k)},F.createElement("rect",{x:h-_/2,y:f-_/2,width:p+_,height:b+_}))):null,!m&&this.renderCurve(S,k),this.renderErrorBar(S,k),(m||o)&&this.renderDots(S,E,k),(!g||v)&&Ls.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,i){return a.animationId!==i.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:i.curPoints}:a.points!==i.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,i){for(var s=a.length%2!==0?[].concat(jl(a),[0]):a,o=[],l=0;l<i;++l)o=[].concat(jl(o),jl(s));return o}},{key:"renderDotItem",value:function(a,i){var s;if(F.isValidElement(a))s=F.cloneElement(a,i);else if(ot(a))s=a(i);else{var o=i.key,l=rT(i,uye),c=gt("recharts-line-dot",typeof a!="boolean"?a.className:"");s=F.createElement(cS,Du({key:o},l,{className:c}))}return s}}])}(x.PureComponent);xa($h,"displayName","Line");xa($h,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ai.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});xa($h,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,d=e.offset,u=t.layout,f=c.map(function(h,p){var b=Mn(h,o);return u==="horizontal"?{x:LP({axis:r,ticks:i,bandSize:l,entry:h,index:p}),y:ft(b)?null:a.scale(b),value:b,payload:h}:{x:ft(b)?null:r.scale(b),y:LP({axis:a,ticks:s,bandSize:l,entry:h,index:p}),value:b,payload:h}});return bn({points:f,layout:u},d)});function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function Sye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kye(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$L(a.key),a)}}function Cye(e,t,r){return t&&kye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aye(e,t,r){return t=Hg(t),Pye(e,RL()?Reflect.construct(t,r||[],Hg(e).constructor):t.apply(e,r))}function Pye(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eye(e)}function Eye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RL=function(){return!!e})()}function Hg(e){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hg(e)}function Tye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uw(e,t)}function uw(e,t){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},uw(e,t)}function ML(e,t,r){return t=$L(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $L(e){var t=Oye(e,"string");return nd(t)=="symbol"?t:t+""}function Oye(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(nd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fw.apply(this,arguments)}function _ye(e){var t=e.xAxisId,r=hS(),a=mS(),i=bL(t);return i==null?null:F.createElement($d,fw({},i,{className:gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(o){return bi(o,!0)}}))}var ad=function(e){function t(){return Sye(this,t),Aye(this,t,arguments)}return Tye(t,e),Cye(t,[{key:"render",value:function(){return F.createElement(_ye,this.props)}}])}(F.Component);ML(ad,"displayName","XAxis");ML(ad,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function Iye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rye(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,FL(a.key),a)}}function Mye(e,t,r){return t&&Rye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ye(e,t,r){return t=Kg(t),Dye(e,DL()?Reflect.construct(t,r||[],Kg(e).constructor):t.apply(e,r))}function Dye(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lye(e)}function Lye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!e})()}function Kg(e){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kg(e)}function Fye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hw(e,t)}function hw(e,t){return hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},hw(e,t)}function LL(e,t,r){return t=FL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FL(e){var t=Bye(e,"string");return id(t)=="symbol"?t:t+""}function Bye(e,t){if(id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(id(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mw.apply(this,arguments)}var zye=function(t){var r=t.yAxisId,a=hS(),i=mS(),s=jL(r);return s==null?null:F.createElement($d,mw({},s,{className:gt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:a,height:i},ticksGenerator:function(l){return bi(l,!0)}}))},sd=function(e){function t(){return Iye(this,t),$ye(this,t,arguments)}return Fye(t,e),Mye(t,[{key:"render",value:function(){return F.createElement(zye,this.props)}}])}(F.Component);LL(sd,"displayName","YAxis");LL(sd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function iT(e){return Wye(e)||qye(e)||Vye(e)||Uye()}function Uye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vye(e,t){if(e){if(typeof e=="string")return pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pw(e,t)}}function qye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wye(e){if(Array.isArray(e))return pw(e)}function pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var gw=function(t,r,a,i,s){var o=Jn(t,gS),l=Jn(t,Ov),c=[].concat(iT(o),iT(l)),d=Jn(t,Iv),u="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(g,y){if(y.props[u]===a&&Ja(y.props,"extendDomain")&&Ne(y.props[f])){var v=y.props[f];return[Math.min(g[0],v),Math.max(g[1],v)]}return g},h)),d.length){var p="".concat(f,"1"),b="".concat(f,"2");h=d.reduce(function(g,y){if(y.props[u]===a&&Ja(y.props,"extendDomain")&&Ne(y.props[p])&&Ne(y.props[b])){var v=y.props[p],m=y.props[b];return[Math.min(g[0],v,m),Math.max(g[1],v,m)]}return g},h)}return s&&s.length&&(h=s.reduce(function(g,y){return Ne(y)?[Math.min(g[0],y),Math.max(g[1],y)]:g},h)),h},BL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function i(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function s(c,d,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||c,h),b=r?r+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,b=new Array(p);h<p;h++)b[h]=f[h].fn;return b},l.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(d,u,f,h,p,b){var g=r?r+d:d;if(!this._events[g])return!1;var y=this._events[g],v=arguments.length,m,j;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,f),!0;case 4:return y.fn.call(y.context,u,f,h),!0;case 5:return y.fn.call(y.context,u,f,h,p),!0;case 6:return y.fn.call(y.context,u,f,h,p,b),!0}for(j=1,m=new Array(v-1);j<v;j++)m[j-1]=arguments[j];y.fn.apply(y.context,m)}else{var N=y.length,w;for(j=0;j<N;j++)switch(y[j].once&&this.removeListener(d,y[j].fn,void 0,!0),v){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,u);break;case 3:y[j].fn.call(y[j].context,u,f);break;case 4:y[j].fn.call(y[j].context,u,f,h);break;default:if(!m)for(w=1,m=new Array(v-1);w<v;w++)m[w-1]=arguments[w];y[j].fn.apply(y[j].context,m)}}return!0},l.prototype.on=function(d,u,f){return s(this,d,u,f,!1)},l.prototype.once=function(d,u,f){return s(this,d,u,f,!0)},l.prototype.removeListener=function(d,u,f,h){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===u&&(!h||b.once)&&(!f||b.context===f)&&o(this,p);else{for(var g=0,y=[],v=b.length;g<v;g++)(b[g].fn!==u||h&&!b[g].once||f&&b[g].context!==f)&&y.push(b[g]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(BL);var Hye=BL.exports;const Kye=It(Hye);var lb=new Kye,cb="recharts.syncMouseEvents";function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function Gye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yye(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,zL(a.key),a)}}function Qye(e,t,r){return t&&Yye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function db(e,t,r){return t=zL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zL(e){var t=Xye(e,"string");return Gf(t)=="symbol"?t:t+""}function Xye(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Gf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jye=function(){function e(){Gye(this,e),db(this,"activeIndex",0),db(this,"coordinateList",[]),db(this,"layout","horizontal")}return Qye(e,[{key:"setDetails",value:function(r){var a,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(a=s??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((a=window)===null||a===void 0?void 0:a.scrollY)||0,f=s+c+d,h=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Zye(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],i=e==null?void 0:e[1];if(a&&i&&Ne(a)&&Ne(i))return!0}return!1}function ebe(e,t,r,a){var i=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function UL(e){var t=e.cx,r=e.cy,a=e.radius,i=e.startAngle,s=e.endAngle,o=_r(t,r,a,i),l=_r(t,r,a,s);return{points:[o,l],cx:t,cy:r,radius:a,startAngle:i,endAngle:s}}function tbe(e,t,r){var a,i,s,o;if(e==="horizontal")a=t.x,s=a,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,a=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,h=_r(l,c,d,f),p=_r(l,c,u,f);a=h.x,i=h.y,s=p.x,o=p.y}else return UL(t);return[{x:a,y:i},{x:s,y:o}]}function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function sT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function Cm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(r),!0).forEach(function(a){rbe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rbe(e,t,r){return t=nbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nbe(e){var t=abe(e,"string");return Yf(t)=="symbol"?t:t+""}function abe(e,t){if(Yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Yf(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ibe(e){var t,r,a=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!p||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var b,g=Bj;if(h==="ScatterChart")b=o,g=ipe;else if(h==="BarChart")b=ebe(f,o,c,u),g=lS;else if(f==="radial"){var y=UL(o),v=y.cx,m=y.cy,j=y.radius,N=y.startAngle,w=y.endAngle;b={cx:v,cy:m,startAngle:N,endAngle:w,innerRadius:j,outerRadius:j},g=WD}else b={points:tbe(f,o,c)},g=Bj;var S=Cm(Cm(Cm(Cm({stroke:"#ccc",pointerEvents:"none"},c),b),pt(p,!1)),{},{payload:l,payloadIndex:d,className:gt("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,S):x.createElement(g,S)}var sbe=["item"],obe=["children","className","width","height","style","compact","title","desc"];function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zl.apply(this,arguments)}function oT(e,t){return dbe(e)||cbe(e,t)||qL(e,t)||lbe()}function lbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,s,o,l=[],c=!0,d=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(a=s.call(r)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(u){d=!0,i=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function dbe(e){if(Array.isArray(e))return e}function lT(e,t){if(e==null)return{};var r=ube(e,t),a,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ube(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function fbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hbe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WL(a.key),a)}}function mbe(e,t,r){return t&&hbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pbe(e,t,r){return t=Gg(t),gbe(e,VL()?Reflect.construct(t,r||[],Gg(e).constructor):t.apply(e,r))}function gbe(e,t){if(t&&(od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xbe(e)}function xbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VL=function(){return!!e})()}function Gg(e){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gg(e)}function vbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xw(e,t)}function xw(e,t){return xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},xw(e,t)}function ld(e){return jbe(e)||bbe(e)||qL(e)||ybe()}function ybe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qL(e,t){if(e){if(typeof e=="string")return vw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vw(e,t)}}function bbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jbe(e){if(Array.isArray(e))return vw(e)}function vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function cT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(r),!0).forEach(function(a){Ke(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cT(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ke(e,t,r){return t=WL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WL(e){var t=wbe(e,"string");return od(t)=="symbol"?t:t+""}function wbe(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(od(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nbe={xAxis:["bottom","top"],yAxis:["left","right"]},Sbe={width:"100%",height:"100%"},HL={x:0,y:0};function Am(e){return e}var kbe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Cbe=function(t,r,a,i){var s=r.find(function(u){return u&&u.index===a});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=i.radius;return se(se(se({},i),_r(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,d=i.angle;return se(se(se({},i),_r(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return HL},Rv=function(t,r){var a=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(a??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(ld(l),ld(d)):l},[]);return o.length>0?o:t&&t.length&&Ne(i)&&Ne(s)?t.slice(i,s+1):[]};function KL(e){return e==="number"?[0,"auto"]:void 0}var yw=function(t,r,a,i){var s=t.graphicalItems,o=t.tooltipAxis,l=Rv(r,t);return a<0||!s||!s.length||a>=l.length?null:s.reduce(function(c,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=Qp(p,o.dataKey,i)}else h=f&&f[a]||l[a];return h?[].concat(ld(c),[UD(d,h)]):c},[])},dT=function(t,r,a,i){var s=i||{x:t.chartX,y:t.chartY},o=kbe(s,a),l=t.orderedTooltipTicks,c=t.tooltipAxis,d=t.tooltipTicks,u=zue(o,l,d,c);if(u>=0&&d){var f=d[u]&&d[u].value,h=yw(t,r,u,f),p=Cbe(a,l,u,s);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Abe=function(t,r){var a=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=FD(u,s);return a.reduce(function(b,g){var y,v=g.type.defaultProps!==void 0?se(se({},g.type.defaultProps),g.props):g.props,m=v.type,j=v.dataKey,N=v.allowDataOverflow,w=v.allowDuplicatedCategory,S=v.scale,k=v.ticks,C=v.includeHidden,A=v[o];if(b[A])return b;var O=Rv(t.data,{graphicalItems:i.filter(function(re){var oe,ve=o in re.props?re.props[o]:(oe=re.type.defaultProps)===null||oe===void 0?void 0:oe[o];return ve===A}),dataStartIndex:c,dataEndIndex:d}),I=O.length,P,R,$;Zye(v.domain,N,m)&&(P=Mj(v.domain,null,N),p&&(m==="number"||S!=="auto")&&($=Mu(O,j,"category")));var E=KL(m);if(!P||P.length===0){var _,M=(_=v.domain)!==null&&_!==void 0?_:E;if(j){if(P=Mu(O,j,m),m==="category"&&p){var T=EQ(P);w&&T?(R=P,P=Mg(0,I)):w||(P=UP(M,P,g).reduce(function(re,oe){return re.indexOf(oe)>=0?re:[].concat(ld(re),[oe])},[]))}else if(m==="category")w?P=P.filter(function(re){return re!==""&&!ft(re)}):P=UP(M,P,g).reduce(function(re,oe){return re.indexOf(oe)>=0||oe===""||ft(oe)?re:[].concat(ld(re),[oe])},[]);else if(m==="number"){var D=Hue(O,i.filter(function(re){var oe,ve,ce=o in re.props?re.props[o]:(oe=re.type.defaultProps)===null||oe===void 0?void 0:oe[o],Oe="hide"in re.props?re.props.hide:(ve=re.type.defaultProps)===null||ve===void 0?void 0:ve.hide;return ce===A&&(C||!Oe)}),j,s,u);D&&(P=D)}p&&(m==="number"||S!=="auto")&&($=Mu(O,j,"category"))}else p?P=Mg(0,I):l&&l[A]&&l[A].hasStack&&m==="number"?P=h==="expand"?[0,1]:zD(l[A].stackGroups,c,d):P=LD(O,i.filter(function(re){var oe=o in re.props?re.props[o]:re.type.defaultProps[o],ve="hide"in re.props?re.props.hide:re.type.defaultProps.hide;return oe===A&&(C||!ve)}),m,u,!0);if(m==="number")P=gw(f,P,A,s,k),M&&(P=Mj(M,P,N));else if(m==="category"&&M){var B=M,ee=P.every(function(re){return B.indexOf(re)>=0});ee&&(P=B)}}return se(se({},b),{},Ke({},A,se(se({},v),{},{axisType:s,domain:P,categoricalDomain:$,duplicateDomain:R,originalDomain:(y=v.domain)!==null&&y!==void 0?y:E,isCategorical:p,layout:u})))},{})},Pbe=function(t,r){var a=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=Rv(t.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:d}),p=h.length,b=FD(u,s),g=-1;return a.reduce(function(y,v){var m=v.type.defaultProps!==void 0?se(se({},v.type.defaultProps),v.props):v.props,j=m[o],N=KL("number");if(!y[j]){g++;var w;return b?w=Mg(0,p):l&&l[j]&&l[j].hasStack?(w=zD(l[j].stackGroups,c,d),w=gw(f,w,j,s)):(w=Mj(N,LD(h,a.filter(function(S){var k,C,A=o in S.props?S.props[o]:(k=S.type.defaultProps)===null||k===void 0?void 0:k[o],O="hide"in S.props?S.props.hide:(C=S.type.defaultProps)===null||C===void 0?void 0:C.hide;return A===j&&!O}),"number",u),i.defaultProps.allowDataOverflow),w=gw(f,w,j,s)),se(se({},y),{},Ke({},j,se(se({axisType:s},i.defaultProps),{},{hide:!0,orientation:Xn(Nbe,"".concat(s,".").concat(g%2),null),domain:w,originalDomain:N,isCategorical:b,layout:u})))}return y},{})},Ebe=function(t,r){var a=r.axisType,i=a===void 0?"xAxis":a,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(i,"Id"),h=Jn(u,s),p={};return h&&h.length?p=Abe(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(p=Pbe(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),p},Tbe=function(t){var r=cs(t),a=bi(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:RN(a,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Cg(r,a)}},uT=function(t){var r=t.children,a=t.defaultShowTooltip,i=Sn(r,Qc),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},Obe=function(t){return!t||!t.length?!1:t.some(function(r){var a=ki(r&&r.type);return a&&a.indexOf("Bar")>=0})},fT=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},_be=function(t,r){var a=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,d=a.width,u=a.height,f=a.children,h=a.margin||{},p=Sn(f,Qc),b=Sn(f,nc),g=Object.keys(c).reduce(function(w,S){var k=c[S],C=k.orientation;return!k.mirror&&!k.hide?se(se({},w),{},Ke({},C,w[C]+k.width)):w},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(w,S){var k=o[S],C=k.orientation;return!k.mirror&&!k.hide?se(se({},w),{},Ke({},C,Xn(w,"".concat(C))+k.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=se(se({},y),g),m=v.bottom;p&&(v.bottom+=p.props.height||Qc.defaultProps.height),b&&r&&(v=que(v,i,a,r));var j=d-v.left-v.right,N=u-v.top-v.bottom;return se(se({brushBottom:m},v),{},{width:Math.max(j,0),height:Math.max(N,0)})},Ibe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},GL=function(t){var r=t.chartName,a=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(v,m){var j=m.graphicalItems,N=m.stackGroups,w=m.offset,S=m.updateId,k=m.dataStartIndex,C=m.dataEndIndex,A=v.barSize,O=v.layout,I=v.barGap,P=v.barCategoryGap,R=v.maxBarSize,$=fT(O),E=$.numericAxisName,_=$.cateAxisName,M=Obe(j),T=[];return j.forEach(function(D,B){var ee=Rv(v.data,{graphicalItems:[D],dataStartIndex:k,dataEndIndex:C}),re=D.type.defaultProps!==void 0?se(se({},D.type.defaultProps),D.props):D.props,oe=re.dataKey,ve=re.maxBarSize,ce=re["".concat(E,"Id")],Oe=re["".concat(_,"Id")],me={},Ce=c.reduce(function(dt,L){var Z=m["".concat(L.axisType,"Map")],ie=re["".concat(L.axisType,"Id")];Z&&Z[ie]||L.axisType==="zAxis"||Jo();var xe=Z[ie];return se(se({},dt),{},Ke(Ke({},L.axisType,xe),"".concat(L.axisType,"Ticks"),bi(xe)))},me),te=Ce[_],W=Ce["".concat(_,"Ticks")],z=N&&N[ce]&&N[ce].hasStack&&afe(D,N[ce].stackGroups),Q=ki(D.type).indexOf("Bar")>=0,Ve=Cg(te,W),de=[],Ae=M&&Uue({barSize:A,stackGroups:N,totalSize:Ibe(Ce,_)});if(Q){var Ge,st,Tt=ft(ve)?R:ve,ne=(Ge=(st=Cg(te,W,!0))!==null&&st!==void 0?st:Tt)!==null&&Ge!==void 0?Ge:0;de=Vue({barGap:I,barCategoryGap:P,bandSize:ne!==Ve?ne:Ve,sizeList:Ae[Oe],maxBarSize:Tt}),ne!==Ve&&(de=de.map(function(dt){return se(se({},dt),{},{position:se(se({},dt.position),{},{offset:dt.position.offset-ne/2})})}))}var We=D&&D.type&&D.type.getComposedData;We&&T.push({props:se(se({},We(se(se({},Ce),{},{displayedData:ee,props:v,dataKey:oe,item:D,bandSize:Ve,barPosition:de,offset:w,stackedData:z,layout:O,dataStartIndex:k,dataEndIndex:C}))),{},Ke(Ke(Ke({key:D.key||"item-".concat(B)},E,Ce[E]),_,Ce[_]),"animationId",S)),childIndex:zQ(D,v.children),item:D})}),T},p=function(v,m){var j=v.props,N=v.dataStartIndex,w=v.dataEndIndex,S=v.updateId;if(!RC({props:j}))return null;var k=j.children,C=j.layout,A=j.stackOffset,O=j.data,I=j.reverseStackOrder,P=fT(C),R=P.numericAxisName,$=P.cateAxisName,E=Jn(k,a),_=tfe(O,E,"".concat(R,"Id"),"".concat($,"Id"),A,I),M=c.reduce(function(re,oe){var ve="".concat(oe.axisType,"Map");return se(se({},re),{},Ke({},ve,Ebe(j,se(se({},oe),{},{graphicalItems:E,stackGroups:oe.axisType===R&&_,dataStartIndex:N,dataEndIndex:w}))))},{}),T=_be(se(se({},M),{},{props:j,graphicalItems:E}),m==null?void 0:m.legendBBox);Object.keys(M).forEach(function(re){M[re]=u(j,M[re],T,re.replace("Map",""),r)});var D=M["".concat($,"Map")],B=Tbe(D),ee=h(j,se(se({},M),{},{dataStartIndex:N,dataEndIndex:w,updateId:S,graphicalItems:E,stackGroups:_,offset:T}));return se(se({formattedGraphicalItems:ee,graphicalItems:E,offset:T,stackGroups:_},B),M)},b=function(y){function v(m){var j,N,w;return fbe(this,v),w=pbe(this,v,[m]),Ke(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ke(w,"accessibilityManager",new Jye),Ke(w,"handleLegendBBoxUpdate",function(S){if(S){var k=w.state,C=k.dataStartIndex,A=k.dataEndIndex,O=k.updateId;w.setState(se({legendBBox:S},p({props:w.props,dataStartIndex:C,dataEndIndex:A,updateId:O},se(se({},w.state),{},{legendBBox:S}))))}}),Ke(w,"handleReceiveSyncEvent",function(S,k,C){if(w.props.syncId===S){if(C===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(k)}}),Ke(w,"handleBrushChange",function(S){var k=S.startIndex,C=S.endIndex;if(k!==w.state.dataStartIndex||C!==w.state.dataEndIndex){var A=w.state.updateId;w.setState(function(){return se({dataStartIndex:k,dataEndIndex:C},p({props:w.props,dataStartIndex:k,dataEndIndex:C,updateId:A},w.state))}),w.triggerSyncEvent({dataStartIndex:k,dataEndIndex:C})}}),Ke(w,"handleMouseEnter",function(S){var k=w.getMouseInfo(S);if(k){var C=se(se({},k),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var A=w.props.onMouseEnter;ot(A)&&A(C,S)}}),Ke(w,"triggeredAfterMouseMove",function(S){var k=w.getMouseInfo(S),C=k?se(se({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(C),w.triggerSyncEvent(C);var A=w.props.onMouseMove;ot(A)&&A(C,S)}),Ke(w,"handleItemMouseEnter",function(S){w.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ke(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ke(w,"handleMouseMove",function(S){S.persist(),w.throttleTriggeredAfterMouseMove(S)}),Ke(w,"handleMouseLeave",function(S){w.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var C=w.props.onMouseLeave;ot(C)&&C(k,S)}),Ke(w,"handleOuterEvent",function(S){var k=BQ(S),C=Xn(w.props,"".concat(k));if(k&&ot(C)){var A,O;/.*touch.*/i.test(k)?O=w.getMouseInfo(S.changedTouches[0]):O=w.getMouseInfo(S),C((A=O)!==null&&A!==void 0?A:{},S)}}),Ke(w,"handleClick",function(S){var k=w.getMouseInfo(S);if(k){var C=se(se({},k),{},{isTooltipActive:!0});w.setState(C),w.triggerSyncEvent(C);var A=w.props.onClick;ot(A)&&A(C,S)}}),Ke(w,"handleMouseDown",function(S){var k=w.props.onMouseDown;if(ot(k)){var C=w.getMouseInfo(S);k(C,S)}}),Ke(w,"handleMouseUp",function(S){var k=w.props.onMouseUp;if(ot(k)){var C=w.getMouseInfo(S);k(C,S)}}),Ke(w,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ke(w,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseDown(S.changedTouches[0])}),Ke(w,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&w.handleMouseUp(S.changedTouches[0])}),Ke(w,"handleDoubleClick",function(S){var k=w.props.onDoubleClick;if(ot(k)){var C=w.getMouseInfo(S);k(C,S)}}),Ke(w,"handleContextMenu",function(S){var k=w.props.onContextMenu;if(ot(k)){var C=w.getMouseInfo(S);k(C,S)}}),Ke(w,"triggerSyncEvent",function(S){w.props.syncId!==void 0&&lb.emit(cb,w.props.syncId,S,w.eventEmitterSymbol)}),Ke(w,"applySyncEvent",function(S){var k=w.props,C=k.layout,A=k.syncMethod,O=w.state.updateId,I=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)w.setState(se({dataStartIndex:I,dataEndIndex:P},p({props:w.props,dataStartIndex:I,dataEndIndex:P,updateId:O},w.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,$=S.chartY,E=S.activeTooltipIndex,_=w.state,M=_.offset,T=_.tooltipTicks;if(!M)return;if(typeof A=="function")E=A(T,S);else if(A==="value"){E=-1;for(var D=0;D<T.length;D++)if(T[D].value===S.activeLabel){E=D;break}}var B=se(se({},M),{},{x:M.left,y:M.top}),ee=Math.min(R,B.x+B.width),re=Math.min($,B.y+B.height),oe=T[E]&&T[E].value,ve=yw(w.state,w.props.data,E),ce=T[E]?{x:C==="horizontal"?T[E].coordinate:ee,y:C==="horizontal"?re:T[E].coordinate}:HL;w.setState(se(se({},S),{},{activeLabel:oe,activeCoordinate:ce,activePayload:ve,activeTooltipIndex:E}))}else w.setState(S)}),Ke(w,"renderCursor",function(S){var k,C=w.state,A=C.isTooltipActive,O=C.activeCoordinate,I=C.activePayload,P=C.offset,R=C.activeTooltipIndex,$=C.tooltipAxisBandSize,E=w.getTooltipEventType(),_=(k=S.props.active)!==null&&k!==void 0?k:A,M=w.props.layout,T=S.key||"_recharts-cursor";return F.createElement(ibe,{key:T,activeCoordinate:O,activePayload:I,activeTooltipIndex:R,chartName:r,element:S,isActive:_,layout:M,offset:P,tooltipAxisBandSize:$,tooltipEventType:E})}),Ke(w,"renderPolarAxis",function(S,k,C){var A=Xn(S,"type.axisType"),O=Xn(w.state,"".concat(A,"Map")),I=S.type.defaultProps,P=I!==void 0?se(se({},I),S.props):S.props,R=O&&O[P["".concat(A,"Id")]];return x.cloneElement(S,se(se({},R),{},{className:gt(A,R.className),key:S.key||"".concat(k,"-").concat(C),ticks:bi(R,!0)}))}),Ke(w,"renderPolarGrid",function(S){var k=S.props,C=k.radialLines,A=k.polarAngles,O=k.polarRadius,I=w.state,P=I.radiusAxisMap,R=I.angleAxisMap,$=cs(P),E=cs(R),_=E.cx,M=E.cy,T=E.innerRadius,D=E.outerRadius;return x.cloneElement(S,{polarAngles:Array.isArray(A)?A:bi(E,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(O)?O:bi($,!0).map(function(B){return B.coordinate}),cx:_,cy:M,innerRadius:T,outerRadius:D,key:S.key||"polar-grid",radialLines:C})}),Ke(w,"renderLegend",function(){var S=w.state.formattedGraphicalItems,k=w.props,C=k.children,A=k.width,O=k.height,I=w.props.margin||{},P=A-(I.left||0)-(I.right||0),R=$D({children:C,formattedGraphicalItems:S,legendWidth:P,legendContent:d});if(!R)return null;var $=R.item,E=lT(R,sbe);return x.cloneElement($,se(se({},E),{},{chartWidth:A,chartHeight:O,margin:I,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ke(w,"renderTooltip",function(){var S,k=w.props,C=k.children,A=k.accessibilityLayer,O=Sn(C,pa);if(!O)return null;var I=w.state,P=I.isTooltipActive,R=I.activeCoordinate,$=I.activePayload,E=I.activeLabel,_=I.offset,M=(S=O.props.active)!==null&&S!==void 0?S:P;return x.cloneElement(O,{viewBox:se(se({},_),{},{x:_.left,y:_.top}),active:M,label:E,payload:M?$:[],coordinate:R,accessibilityLayer:A})}),Ke(w,"renderBrush",function(S){var k=w.props,C=k.margin,A=k.data,O=w.state,I=O.offset,P=O.dataStartIndex,R=O.dataEndIndex,$=O.updateId;return x.cloneElement(S,{key:S.key||"_recharts-brush",onChange:wm(w.handleBrushChange,S.props.onChange),data:A,x:Ne(S.props.x)?S.props.x:I.left,y:Ne(S.props.y)?S.props.y:I.top+I.height+I.brushBottom-(C.bottom||0),width:Ne(S.props.width)?S.props.width:I.width,startIndex:P,endIndex:R,updateId:"brush-".concat($)})}),Ke(w,"renderReferenceElement",function(S,k,C){if(!S)return null;var A=w,O=A.clipPathId,I=w.state,P=I.xAxisMap,R=I.yAxisMap,$=I.offset,E=S.type.defaultProps||{},_=S.props,M=_.xAxisId,T=M===void 0?E.xAxisId:M,D=_.yAxisId,B=D===void 0?E.yAxisId:D;return x.cloneElement(S,{key:S.key||"".concat(k,"-").concat(C),xAxis:P[T],yAxis:R[B],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:O})}),Ke(w,"renderActivePoints",function(S){var k=S.item,C=S.activePoint,A=S.basePoint,O=S.childIndex,I=S.isRange,P=[],R=k.props.key,$=k.item.type.defaultProps!==void 0?se(se({},k.item.type.defaultProps),k.item.props):k.item.props,E=$.activeDot,_=$.dataKey,M=se(se({index:O,dataKey:_,cx:C.x,cy:C.y,r:4,fill:oS(k.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},pt(E,!1)),Xp(E));return P.push(v.renderActiveDot(E,M,"".concat(R,"-activePoint-").concat(O))),A?P.push(v.renderActiveDot(E,se(se({},M),{},{cx:A.x,cy:A.y}),"".concat(R,"-basePoint-").concat(O))):I&&P.push(null),P}),Ke(w,"renderGraphicChild",function(S,k,C){var A=w.filterFormatItem(S,k,C);if(!A)return null;var O=w.getTooltipEventType(),I=w.state,P=I.isTooltipActive,R=I.tooltipAxis,$=I.activeTooltipIndex,E=I.activeLabel,_=w.props.children,M=Sn(_,pa),T=A.props,D=T.points,B=T.isRange,ee=T.baseLine,re=A.item.type.defaultProps!==void 0?se(se({},A.item.type.defaultProps),A.item.props):A.item.props,oe=re.activeDot,ve=re.hide,ce=re.activeBar,Oe=re.activeShape,me=!!(!ve&&P&&M&&(oe||ce||Oe)),Ce={};O!=="axis"&&M&&M.props.trigger==="click"?Ce={onClick:wm(w.handleItemMouseEnter,S.props.onClick)}:O!=="axis"&&(Ce={onMouseLeave:wm(w.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:wm(w.handleItemMouseEnter,S.props.onMouseEnter)});var te=x.cloneElement(S,se(se({},A.props),Ce));function W(L){return typeof R.dataKey=="function"?R.dataKey(L.payload):null}if(me)if($>=0){var z,Q;if(R.dataKey&&!R.allowDuplicatedCategory){var Ve=typeof R.dataKey=="function"?W:"payload.".concat(R.dataKey.toString());z=Qp(D,Ve,E),Q=B&&ee&&Qp(ee,Ve,E)}else z=D==null?void 0:D[$],Q=B&&ee&&ee[$];if(Oe||ce){var de=S.props.activeIndex!==void 0?S.props.activeIndex:$;return[x.cloneElement(S,se(se(se({},A.props),Ce),{},{activeIndex:de})),null,null]}if(!ft(z))return[te].concat(ld(w.renderActivePoints({item:A,activePoint:z,basePoint:Q,childIndex:$,isRange:B})))}else{var Ae,Ge=(Ae=w.getItemByXY(w.state.activeCoordinate))!==null&&Ae!==void 0?Ae:{graphicalItem:te},st=Ge.graphicalItem,Tt=st.item,ne=Tt===void 0?S:Tt,We=st.childIndex,dt=se(se(se({},A.props),Ce),{},{activeIndex:We});return[x.cloneElement(ne,dt),null,null]}return B?[te,null,null]:[te,null]}),Ke(w,"renderCustomized",function(S,k,C){return x.cloneElement(S,se(se({key:"recharts-customized-".concat(C)},w.props),w.state))}),Ke(w,"renderMap",{CartesianGrid:{handler:Am,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Am},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Am},YAxis:{handler:Am},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((j=m.id)!==null&&j!==void 0?j:Eh("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=$$(w.triggeredAfterMouseMove,(N=m.throttleDelay)!==null&&N!==void 0?N:1e3/60),w.state={},w}return vbe(v,y),mbe(v,[{key:"componentDidMount",value:function(){var j,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,N=j.children,w=j.data,S=j.height,k=j.layout,C=Sn(N,pa);if(C){var A=C.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,I=yw(this.state,w,A,O),P=this.state.tooltipTicks[A].coordinate,R=(this.state.offset.top+S)/2,$=k==="horizontal",E=$?{x:P,y:R}:{y:P,x:R},_=this.state.formattedGraphicalItems.find(function(T){var D=T.item;return D.type.name==="Scatter"});_&&(E=se(se({},E),_.props.points[A].tooltipPosition),I=_.props.points[A].tooltipPayload);var M={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:E};this.setState(M),this.renderCursor(C),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var w,S;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(j){Q0([Sn(j.children,pa)],[Sn(this.props.children,pa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Sn(this.props.children,pa);if(j&&typeof j.props.shared=="boolean"){var N=j.props.shared?"axis":"item";return l.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var N=this.container,w=N.getBoundingClientRect(),S=hoe(w),k={chartX:Math.round(j.pageX-S.left),chartY:Math.round(j.pageY-S.top)},C=w.width/N.offsetWidth||1,A=this.inRange(k.chartX,k.chartY,C);if(!A)return null;var O=this.state,I=O.xAxisMap,P=O.yAxisMap,R=this.getTooltipEventType(),$=dT(this.state,this.props.data,this.props.layout,A);if(R!=="axis"&&I&&P){var E=cs(I).scale,_=cs(P).scale,M=E&&E.invert?E.invert(k.chartX):null,T=_&&_.invert?_.invert(k.chartY):null;return se(se({},k),{},{xValue:M,yValue:T},$)}return $?se(se({},k),$):null}},{key:"inRange",value:function(j,N){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,k=j/w,C=N/w;if(S==="horizontal"||S==="vertical"){var A=this.state.offset,O=k>=A.left&&k<=A.left+A.width&&C>=A.top&&C<=A.top+A.height;return O?{x:k,y:C}:null}var I=this.state,P=I.angleAxisMap,R=I.radiusAxisMap;if(P&&R){var $=cs(P);return WP({x:k,y:C},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,N=this.getTooltipEventType(),w=Sn(j,pa),S={};w&&N==="axis"&&(w.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Xp(this.props,this.handleOuterEvent);return se(se({},k),S)}},{key:"addListener",value:function(){lb.on(cb,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){lb.removeListener(cb,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,N,w){for(var S=this.state.formattedGraphicalItems,k=0,C=S.length;k<C;k++){var A=S[k];if(A.item===j||A.props.key===j.key||N===ki(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,N=this.state.offset,w=N.left,S=N.top,k=N.height,C=N.width;return F.createElement("defs",null,F.createElement("clipPath",{id:j},F.createElement("rect",{x:w,y:S,height:k,width:C})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(N,w){var S=oT(w,2),k=S[0],C=S[1];return se(se({},N),{},Ke({},k,C.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(N,w){var S=oT(w,2),k=S[0],C=S[1];return se(se({},N),{},Ke({},k,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[j])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(j){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[j])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(j){var N=this.state,w=N.formattedGraphicalItems,S=N.activeItem;if(w&&w.length)for(var k=0,C=w.length;k<C;k++){var A=w[k],O=A.props,I=A.item,P=I.type.defaultProps!==void 0?se(se({},I.type.defaultProps),I.props):I.props,R=ki(I.type);if(R==="Bar"){var $=(O.data||[]).find(function(T){return Yme(j,T)});if($)return{graphicalItem:A,payload:$}}else if(R==="RadialBar"){var E=(O.data||[]).find(function(T){return WP(j,T)});if(E)return{graphicalItem:A,payload:E}}else if(Av(A,S)||Pv(A,S)||Vf(A,S)){var _=Jpe({graphicalItem:A,activeTooltipItem:S,itemData:P.data}),M=P.activeIndex===void 0?_:P.activeIndex;return{graphicalItem:se(se({},A),{},{childIndex:M}),payload:Vf(A,S)?P.data[_]:A.props.data[_]}}}return null}},{key:"render",value:function(){var j=this;if(!RC(this))return null;var N=this.props,w=N.children,S=N.className,k=N.width,C=N.height,A=N.style,O=N.compact,I=N.title,P=N.desc,R=lT(N,obe),$=pt(R,!1);if(O)return F.createElement(VE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(J0,zl({},$,{width:k,height:C,title:I,desc:P}),this.renderClipPath(),$C(w,this.renderMap)));if(this.props.accessibilityLayer){var E,_;$.tabIndex=(E=this.props.tabIndex)!==null&&E!==void 0?E:0,$.role=(_=this.props.role)!==null&&_!==void 0?_:"application",$.onKeyDown=function(T){j.accessibilityManager.keyboardEvent(T)},$.onFocus=function(){j.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return F.createElement(VE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",zl({className:gt("recharts-wrapper",S),style:se({position:"relative",cursor:"default",width:k,height:C},A)},M,{ref:function(D){j.container=D}}),F.createElement(J0,zl({},$,{width:k,height:C,title:I,desc:P,style:Sbe}),this.renderClipPath(),$C(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);Ke(b,"displayName",r),Ke(b,"defaultProps",se({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ke(b,"getDerivedStateFromProps",function(y,v){var m=y.dataKey,j=y.data,N=y.children,w=y.width,S=y.height,k=y.layout,C=y.stackOffset,A=y.margin,O=v.dataStartIndex,I=v.dataEndIndex;if(v.updateId===void 0){var P=uT(y);return se(se(se({},P),{},{updateId:0},p(se(se({props:y},P),{},{updateId:0}),v)),{},{prevDataKey:m,prevData:j,prevWidth:w,prevHeight:S,prevLayout:k,prevStackOffset:C,prevMargin:A,prevChildren:N})}if(m!==v.prevDataKey||j!==v.prevData||w!==v.prevWidth||S!==v.prevHeight||k!==v.prevLayout||C!==v.prevStackOffset||!rc(A,v.prevMargin)){var R=uT(y),$={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},E=se(se({},dT(v,j,k)),{},{updateId:v.updateId+1}),_=se(se(se({},R),$),E);return se(se(se({},_),p(se({props:y},_),v)),{},{prevDataKey:m,prevData:j,prevWidth:w,prevHeight:S,prevLayout:k,prevStackOffset:C,prevMargin:A,prevChildren:N})}if(!Q0(N,v.prevChildren)){var M,T,D,B,ee=Sn(N,Qc),re=ee&&(M=(T=ee.props)===null||T===void 0?void 0:T.startIndex)!==null&&M!==void 0?M:O,oe=ee&&(D=(B=ee.props)===null||B===void 0?void 0:B.endIndex)!==null&&D!==void 0?D:I,ve=re!==O||oe!==I,ce=!ft(j),Oe=ce&&!ve?v.updateId:v.updateId+1;return se(se({updateId:Oe},p(se(se({props:y},v),{},{updateId:Oe,dataStartIndex:re,dataEndIndex:oe}),v)),{},{prevChildren:N,dataStartIndex:re,dataEndIndex:oe})}return null}),Ke(b,"renderActiveDot",function(y,v,m){var j;return x.isValidElement(y)?j=x.cloneElement(y,v):ot(y)?j=y(v):j=F.createElement(cS,v),F.createElement(ar,{className:"recharts-active-dot",key:m},j)});var g=x.forwardRef(function(v,m){return F.createElement(b,zl({},v,{ref:m}))});return g.displayName=b.displayName,g},Rbe=GL({chartName:"LineChart",GraphicalChild:$h,axisComponents:[{axisType:"xAxis",AxisComp:ad},{axisType:"yAxis",AxisComp:sd}],formatAxisMap:fL}),Mbe=GL({chartName:"BarChart",GraphicalChild:ul,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ad},{axisType:"yAxis",AxisComp:sd}],formatAxisMap:fL});const $be=[{value:"none",label:"No Discount",description:"No discount for users"},{value:"percentage",label:"Percentage Off",description:"X% off first month"},{value:"fixed",label:"Fixed Amount Off",description:"$X off first month"},{value:"free_month",label:"Free First Month",description:"1 month free"},{value:"free_months",label:"Multiple Free Months",description:"X months free"},{value:"trial_extension",label:"Extended Trial",description:"Extra trial days"}];function Dbe(){var oe,ve,ce,Oe,me,Ce,te,W;const{toast:e}=tt(),[t,r]=x.useState("codes"),[a,i]=x.useState(!1),[s,o]=x.useState(""),[l,c]=x.useState(""),[d,u]=x.useState("20"),[f,h]=x.useState("influencer"),[p,b]=x.useState("free_month"),[g,y]=x.useState("1"),{data:v,isLoading:m,refetch:j}=ue({queryKey:["/api/admin/referrals/codes"],queryFn:()=>_e("/api/admin/referrals/codes")}),{data:N,isLoading:w}=ue({queryKey:["/api/admin/referrals/users"],queryFn:()=>_e("/api/admin/referrals/users"),enabled:t==="users"}),{data:S,isLoading:k}=ue({queryKey:["/api/admin/referrals/payouts"],queryFn:()=>_e("/api/admin/referrals/payouts"),enabled:t==="payouts"}),{data:C,isLoading:A}=ue({queryKey:["/api/admin/referrals/analytics"],queryFn:()=>_e("/api/admin/referrals/analytics?period=30"),enabled:t==="analytics"}),O=qe({mutationFn:async z=>await _e("/api/admin/referrals/codes","POST",z),onSuccess:z=>{Pe.invalidateQueries({queryKey:["/api/admin/referrals/codes"]}),e({title:"Referral Code Created",description:z.message||`Code ${s} created successfully`}),R(),i(!1)},onError:z=>{e({title:"Error",description:z.message||"Failed to create referral code",variant:"destructive"})}}),I=qe({mutationFn:async({id:z,isActive:Q})=>await _e(`/api/admin/referrals/codes/${z}`,"PUT",{isActive:Q}),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/referrals/codes"]}),e({title:"Code Updated",description:"Referral code status has been updated"})},onError:z=>{e({title:"Error",description:z.message||"Failed to update code",variant:"destructive"})}}),P=qe({mutationFn:async z=>await _e(`/api/admin/referrals/codes/${z}`,"DELETE",{}),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/referrals/codes"]}),e({title:"Code Deleted",description:"Referral code and associated Stripe coupon have been deleted"})},onError:z=>{e({title:"Error",description:z.message||"Failed to delete code",variant:"destructive"})}}),R=()=>{o(""),c(""),u("20"),h("influencer"),b("free_month"),y("1")},$=()=>{if(!s){e({title:"Missing Code",description:"Please enter a referral code",variant:"destructive"});return}let z=g;p==="free_month"?z="1":p==="none"&&(z="0"),O.mutate({code:s,codeType:f,influencerName:l,commissionRate:d,discountType:p,discountValue:z})},E=z=>{const Q=`/api/admin/referrals/export?type=${z}`;window.open(Q,"_blank")},_=()=>{switch(p){case"percentage":return"Percentage (0-100)";case"fixed":return"Amount ($)";case"free_months":return"Number of Months";case"trial_extension":return"Extra Days";default:return"Value"}},M=p!=="none"&&p!=="free_month",T=(v==null?void 0:v.codes)||[],D=(N==null?void 0:N.users)||[],B=(S==null?void 0:S.influencers)||[],ee=(S==null?void 0:S.totals)||{},re=C||{};return n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Referral Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage influencer codes, track conversions, and process payouts"})]}),n.jsxs(Ar,{open:a,onOpenChange:i,children:[n.jsx(mf,{asChild:!0,children:n.jsxs(Y,{"data-testid":"button-create-referral",children:[n.jsx(P1,{className:"w-4 h-4 mr-2"}),"Create Code"]})}),n.jsxs(yr,{className:"max-w-md",children:[n.jsxs(br,{children:[n.jsx(jr,{children:"Create Referral Code"}),n.jsx(nn,{children:"Create a referral code with optional Stripe coupon for user discounts"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"code",children:"Referral Code"}),n.jsx(be,{id:"code",placeholder:"JTORRES",value:s,onChange:z=>o(z.target.value.toUpperCase()),"data-testid":"input-referral-code"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Code Type"}),n.jsxs(Xe,{value:f,onValueChange:z=>h(z),children:[n.jsx(Ye,{"data-testid":"select-code-type",children:n.jsx(Je,{})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"influencer",children:"Influencer (earns commission)"}),n.jsx(K,{value:"user",children:"Promo Code (no commission)"})]})]})]}),f==="influencer"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"influencerName",children:"Influencer Name"}),n.jsx(be,{id:"influencerName",placeholder:"JT Torres",value:l,onChange:z=>c(z.target.value),"data-testid":"input-influencer-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"commission",children:"Commission Rate (%)"}),n.jsx(be,{id:"commission",type:"number",placeholder:"20",value:d,onChange:z=>u(z.target.value),"data-testid":"input-commission-rate"}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Influencer earns ",d,"% of every subscription payment"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"User Discount Type"}),n.jsxs(Xe,{value:p,onValueChange:z=>b(z),children:[n.jsx(Ye,{"data-testid":"select-discount-type",children:n.jsx(Je,{})}),n.jsx(Qe,{children:$be.map(z=>n.jsx(K,{value:z.value,children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:z.label}),n.jsx("span",{className:"text-xs text-muted-foreground",children:z.description})]})},z.value))})]})]}),M&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"discountValue",children:_()}),n.jsx(be,{id:"discountValue",type:"number",placeholder:"1",value:g,onChange:z=>y(z.target.value),"data-testid":"input-discount-value"})]}),n.jsx(Y,{className:"w-full",onClick:$,disabled:O.isPending,"data-testid":"button-submit-referral",children:O.isPending?"Creating...":"Create Referral Code"})]})]})]})]}),n.jsxs(sl,{value:t,onValueChange:r,children:[n.jsxs(Zs,{className:"grid w-full grid-cols-4",children:[n.jsxs(Zt,{value:"codes","data-testid":"tab-codes",children:[n.jsx(sf,{className:"w-4 h-4 mr-2"}),"Codes"]}),n.jsxs(Zt,{value:"users","data-testid":"tab-users",children:[n.jsx(ur,{className:"w-4 h-4 mr-2"}),"Referred Users"]}),n.jsxs(Zt,{value:"payouts","data-testid":"tab-payouts",children:[n.jsx(Km,{className:"w-4 h-4 mr-2"}),"Payouts"]}),n.jsxs(Zt,{value:"analytics","data-testid":"tab-analytics",children:[n.jsx(sr,{className:"w-4 h-4 mr-2"}),"Analytics"]})]}),n.jsxs(er,{value:"codes",className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[T.length," referral codes configured"]}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>j(),"data-testid":"button-refresh-codes",children:n.jsx(Oa,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"rounded-lg border bg-card",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Code"}),n.jsx(G,{children:"Owner"}),n.jsx(G,{children:"Type"}),n.jsx(G,{children:"Commission"}),n.jsx(G,{children:"User Benefit"}),n.jsx(G,{children:"Uses"}),n.jsx(G,{children:"Revenue"}),n.jsx(G,{children:"Status"}),n.jsx(G,{className:"text-right",children:"Actions"})]})}),n.jsx(kt,{children:m?n.jsx(we,{children:n.jsx(V,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"Loading referral codes..."})}):T.length===0?n.jsx(we,{children:n.jsx(V,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"No referral codes yet. Create your first one above!"})}):T.map(z=>n.jsxs(we,{"data-testid":`row-code-${z.id}`,children:[n.jsx(V,{className:"font-mono font-medium",children:z.code}),n.jsx(V,{children:z.influencerName||"-"}),n.jsx(V,{children:n.jsx(ae,{variant:z.codeType==="influencer"?"default":"secondary",children:z.codeType})}),n.jsx(V,{children:z.commissionPercent?`${z.commissionPercent}%`:"-"}),n.jsx(V,{children:n.jsx("span",{className:"text-sm",children:z.discountDescription||"No discount"})}),n.jsx(V,{children:z.totalSignups||0}),n.jsxs(V,{className:"font-medium",children:["$",parseFloat(z.totalRevenueGenerated||"0").toFixed(2)]}),n.jsx(V,{children:n.jsx(ae,{variant:z.isActive?"default":"secondary",children:z.isActive?"Active":"Inactive"})}),n.jsx(V,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>I.mutate({id:z.id,isActive:!z.isActive}),"data-testid":`button-toggle-${z.id}`,children:z.isActive?n.jsx(f7,{className:"w-4 h-4"}):n.jsx(u7,{className:"w-4 h-4"})}),n.jsx(Y,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>{confirm(`Delete referral code ${z.code}? This will also delete the Stripe coupon.`)&&P.mutate(z.id)},"data-testid":`button-delete-${z.id}`,children:n.jsx(al,{className:"w-4 h-4"})})]})})]},z.id))})]})})]}),n.jsxs(er,{value:"users",className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:[(N==null?void 0:N.total)||0," users signed up with referral codes"]}),n.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>E("users"),"data-testid":"button-export-users",children:[n.jsx(C0,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),n.jsx("div",{className:"rounded-lg border bg-card",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Email"}),n.jsx(G,{children:"Username"}),n.jsx(G,{children:"Code Used"}),n.jsx(G,{children:"Influencer"}),n.jsx(G,{children:"Discount"}),n.jsx(G,{children:"Signup Date"}),n.jsx(G,{children:"Status"})]})}),n.jsx(kt,{children:w?n.jsx(we,{children:n.jsx(V,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Loading referred users..."})}):D.length===0?n.jsx(we,{children:n.jsx(V,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No users have signed up with referral codes yet"})}):D.map(z=>n.jsxs(we,{"data-testid":`row-user-${z.id}`,children:[n.jsx(V,{className:"font-medium",children:z.email}),n.jsx(V,{children:z.username||"-"}),n.jsx(V,{className:"font-mono",children:z.referralCodeUsed}),n.jsx(V,{children:z.referredByInfluencer||"-"}),n.jsx(V,{children:n.jsx("span",{className:"text-sm",children:z.discountDescription||"None"})}),n.jsx(V,{children:z.referralSignupDate?new Date(z.referralSignupDate).toLocaleDateString():"-"}),n.jsx(V,{children:n.jsx(ae,{variant:z.subscriptionStatus==="active"?"default":"secondary",children:z.subscriptionStatus||"unknown"})})]},z.id))})]})})]}),n.jsxs(er,{value:"payouts",className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Influencers"}),n.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-influencers",children:ee.influencerCount||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Signups"}),n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-signups",children:ee.totalSignups||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Revenue"}),n.jsx(Km,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-total-revenue",children:["$",ee.totalRevenue||"0.00"]})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Commission Owed"}),n.jsx(Km,{className:"h-4 w-4 text-primary"})]}),n.jsx(H,{children:n.jsxs("div",{className:"text-2xl font-bold text-primary","data-testid":"text-commission-owed",children:["$",ee.totalCommissionOwed||"0.00"]})})]})]}),n.jsx("div",{className:"flex items-center justify-end",children:n.jsxs(Y,{variant:"outline",size:"sm",onClick:()=>E("payouts"),"data-testid":"button-export-payouts",children:[n.jsx(C0,{className:"w-4 h-4 mr-2"}),"Export CSV"]})}),n.jsx("div",{className:"rounded-lg border bg-card",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Influencer"}),n.jsx(G,{children:"Code"}),n.jsx(G,{children:"Commission Rate"}),n.jsx(G,{children:"Signups"}),n.jsx(G,{children:"Active Subs"}),n.jsx(G,{children:"Revenue Generated"}),n.jsx(G,{children:"Commission Owed"}),n.jsx(G,{children:"Status"})]})}),n.jsx(kt,{children:k?n.jsx(we,{children:n.jsx(V,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Loading payout data..."})}):B.length===0?n.jsx(we,{children:n.jsx(V,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No influencer codes yet"})}):B.map(z=>n.jsxs(we,{"data-testid":`row-influencer-${z.id}`,children:[n.jsx(V,{className:"font-medium",children:z.influencerName}),n.jsx(V,{className:"font-mono",children:z.code}),n.jsxs(V,{children:[z.commissionRate,"%"]}),n.jsx(V,{children:z.totalSignups}),n.jsx(V,{children:z.activeSubscribers}),n.jsxs(V,{children:["$",z.totalRevenue]}),n.jsxs(V,{className:"font-medium text-primary",children:["$",z.commissionOwed]}),n.jsx(V,{children:n.jsx(ae,{variant:z.isActive?"default":"secondary",children:z.isActive?"Active":"Inactive"})})]},z.id))})]})})]}),n.jsxs(er,{value:"analytics",className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Referred"}),n.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-analytics-total",children:((oe=re.totals)==null?void 0:oe.totalReferred)||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Active Subscribers"}),n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-analytics-active",children:((ve=re.totals)==null?void 0:ve.activeSubscribers)||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"In Trial"}),n.jsx(sf,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-analytics-trials",children:((ce=re.totals)==null?void 0:ce.trials)||0})})]})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Referral Signups Over Time (Last 30 Days)"}),n.jsx(Fe,{children:"Daily signups from referral codes"})]}),n.jsx(H,{children:A?n.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"Loading chart data..."}):(((Oe=re.signupsByDay)==null?void 0:Oe.length)||0)===0?n.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No signup data available yet"}):n.jsx(IA,{width:"100%",height:300,children:n.jsxs(Rbe,{data:re.signupsByDay,children:[n.jsx(lw,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(ad,{dataKey:"date",tickFormatter:z=>new Date(z).toLocaleDateString("en-US",{month:"short",day:"numeric"}),className:"text-muted-foreground"}),n.jsx(sd,{className:"text-muted-foreground"}),n.jsx(pa,{labelFormatter:z=>new Date(z).toLocaleDateString(),contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))"}}),n.jsx($h,{type:"monotone",dataKey:"count",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))"}})]})})})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Conversion Rate by Discount Type"}),n.jsx(Fe,{children:"Which discount types convert best"})]}),n.jsx(H,{children:A?n.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"Loading chart data..."}):(((me=re.conversionByDiscount)==null?void 0:me.length)||0)===0?n.jsx("div",{className:"h-[300px] flex items-center justify-center text-muted-foreground",children:"No conversion data available yet"}):n.jsx(IA,{width:"100%",height:300,children:n.jsxs(Mbe,{data:re.conversionByDiscount,children:[n.jsx(lw,{strokeDasharray:"3 3",className:"stroke-muted"}),n.jsx(ad,{dataKey:"discountType",className:"text-muted-foreground"}),n.jsx(sd,{className:"text-muted-foreground"}),n.jsx(pa,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))"},formatter:(z,Q)=>Q==="conversionRate"?[`${z}%`,"Conversion Rate"]:[z,Q]}),n.jsx(ul,{dataKey:"conversionRate",fill:"hsl(var(--primary))",radius:[4,4,0,0],children:(Ce=re.conversionByDiscount)==null?void 0:Ce.map((z,Q)=>n.jsx($N,{fill:`hsl(var(--primary) / ${.5+Q*.1})`},`cell-${Q}`))})]})})})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Top Performing Codes"}),n.jsx(Fe,{children:"Codes ranked by total signups"})]}),n.jsx(H,{children:n.jsx("div",{className:"rounded-lg border",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Code"}),n.jsx(G,{children:"Influencer"}),n.jsx(G,{children:"Signups"}),n.jsx(G,{children:"Active Subs"}),n.jsx(G,{children:"Revenue"})]})}),n.jsx(kt,{children:A?n.jsx(we,{children:n.jsx(V,{colSpan:5,className:"text-center py-4 text-muted-foreground",children:"Loading..."})}):(((te=re.topCodes)==null?void 0:te.length)||0)===0?n.jsx(we,{children:n.jsx(V,{colSpan:5,className:"text-center py-4 text-muted-foreground",children:"No codes with signups yet"})}):(W=re.topCodes)==null?void 0:W.map((z,Q)=>n.jsxs(we,{"data-testid":`row-top-code-${Q}`,children:[n.jsx(V,{className:"font-mono font-medium",children:z.code}),n.jsx(V,{children:z.influencerName||"-"}),n.jsx(V,{children:z.totalSignups||0}),n.jsx(V,{children:z.activeSubscribers||0}),n.jsxs(V,{children:["$",z.totalRevenueGenerated]})]},z.code))})]})})})]})]})]})]})})}var YL="AlertDialog",[Lbe,W1e]=vn(YL,[FM]),Yi=FM(),QL=e=>{const{__scopeAlertDialog:t,...r}=e,a=Yi(t);return n.jsx(oN,{...a,...r,modal:!0})};QL.displayName=YL;var Fbe="AlertDialogTrigger",XL=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,i=Yi(r);return n.jsx(t5,{...i,...a,ref:t})});XL.displayName=Fbe;var Bbe="AlertDialogPortal",JL=e=>{const{__scopeAlertDialog:t,...r}=e,a=Yi(t);return n.jsx(lN,{...a,...r})};JL.displayName=Bbe;var zbe="AlertDialogOverlay",ZL=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,i=Yi(r);return n.jsx(jh,{...i,...a,ref:t})});ZL.displayName=zbe;var sc="AlertDialogContent",[Ube,Vbe]=Lbe(sc),qbe=E4("AlertDialogContent"),e3=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:a,...i}=e,s=Yi(r),o=x.useRef(null),l=nt(t,o),c=x.useRef(null);return n.jsx(EH,{contentName:sc,titleName:t3,docsSlug:"alert-dialog",children:n.jsx(Ube,{scope:r,cancelRef:c,children:n.jsxs(wh,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Ie(i.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[n.jsx(qbe,{children:a}),n.jsx(Hbe,{contentRef:o})]})})})});e3.displayName=sc;var t3="AlertDialogTitle",r3=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,i=Yi(r);return n.jsx(Nh,{...i,...a,ref:t})});r3.displayName=t3;var n3="AlertDialogDescription",a3=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,i=Yi(r);return n.jsx(Sh,{...i,...a,ref:t})});a3.displayName=n3;var Wbe="AlertDialogAction",i3=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,i=Yi(r);return n.jsx(kh,{...i,...a,ref:t})});i3.displayName=Wbe;var s3="AlertDialogCancel",o3=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...a}=e,{cancelRef:i}=Vbe(s3,r),s=Yi(r),o=nt(t,i);return n.jsx(kh,{...s,...a,ref:o})});o3.displayName=s3;var Hbe=({contentRef:e})=>{const t=`\`${sc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${sc}\` by passing a \`${n3}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${sc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var a;document.getElementById((a=e.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Kbe=QL,Gbe=XL,Ybe=JL,l3=ZL,c3=e3,d3=i3,u3=o3,f3=r3,h3=a3;const Yg=Kbe,hT=Gbe,Qbe=Ybe,m3=x.forwardRef(({className:e,...t},r)=>n.jsx(l3,{className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));m3.displayName=l3.displayName;const Qf=x.forwardRef(({className:e,...t},r)=>n.jsxs(Qbe,{children:[n.jsx(m3,{}),n.jsx(c3,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Qf.displayName=c3.displayName;const Xf=({className:e,...t})=>n.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",e),...t});Xf.displayName="AlertDialogHeader";const Jf=({className:e,...t})=>n.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Jf.displayName="AlertDialogFooter";const Zf=x.forwardRef(({className:e,...t},r)=>n.jsx(f3,{ref:r,className:je("text-lg font-semibold",e),...t}));Zf.displayName=f3.displayName;const eh=x.forwardRef(({className:e,...t},r)=>n.jsx(h3,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));eh.displayName=h3.displayName;const th=x.forwardRef(({className:e,...t},r)=>n.jsx(d3,{ref:r,className:je(W1(),e),...t}));th.displayName=d3.displayName;const rh=x.forwardRef(({className:e,...t},r)=>n.jsx(u3,{ref:r,className:je(W1({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));rh.displayName=u3.displayName;function mT(){const{toast:e}=tt(),[t,r]=x.useState(new Set),[a,i]=x.useState(null),[s,o]=x.useState(null),[l,c]=x.useState(null),[d,u]=x.useState(!1),[f,h]=x.useState(""),[p,b]=x.useState(""),[g,y]=x.useState(""),[v,m]=x.useState(""),[j,N]=x.useState(!1),[w,S]=x.useState(""),[k,C]=x.useState(""),[A,O]=x.useState(!1),[I,P]=x.useState("BJJ OS lifetime access for free"),[R,$]=x.useState(`Hey [Name],

I've been working on this for a while and I'm really excited to finally share it with you. 

It's called BJJ OS - and I'm giving you lifetime access, no charge, ever. I'm genuinely grateful you're willing to try it.

Here's what it actually is:

At the core is Professor OS - an AI system I built specifically for BJJ. It's not just a chatbot that spits out generic answers. 

It learns your game. Tracks what you're working on, what's clicking, what you're struggling with. It autonomously analyzes thousands of videos daily - curating, saving, and categorizing them after passing numerous algorithm tests for quality. The goal is to build a library of thousands of videos over time, with only elite instruction making the cut.

Ask it technique questions and it gives you real answers, not surface-level stuff. It recommends specific videos based on YOUR game, YOUR body type, YOUR goals. The more you use it, the better it gets at coaching you.

I'm seriously shocked by how smart it is and it's constantly learning.

This is something I believe can actually help people improve. Not just track sessions or show random videos - but genuinely accelerate your learning.

That said, I'm still building and refining it. I want to know what's bad and what could be better. Please help me bang out the kinks. Criticism only helps and it's appreciated.

 Click here to get started: https://bjjos.app/signup?email=[EMAIL]

Email me at Todd@bjjos.app or text/call me at 1.914.837.3750 anytime. I would love to hear from you.

Os!
- Todd`),{data:E,isLoading:_}=ue({queryKey:["/api/admin/lifetime-users"],queryFn:()=>_e("/api/admin/lifetime-users")}),{data:M,isLoading:T}=ue({queryKey:["/api/admin/lifetime-users",a],enabled:!!a,queryFn:()=>_e(`/api/admin/lifetime-users/${a}`)}),{data:D,isLoading:B}=ue({queryKey:["/api/admin/lifetime-users",s],enabled:!!s,queryFn:async()=>{var z;const W=await _e(`/api/admin/lifetime-users/${s}`);return h(W.displayName||W.name||""),b(W.beltLevel||""),y(((z=W.membership)==null?void 0:z.reason)||W.reason||""),m(W.adminNotes||""),N(W.isLifetimeUser||!1),W}}),ee=qe({mutationFn:async W=>await _e(`/api/admin/lifetime-users/${W.id}`,"PATCH",{displayName:W.displayName,beltLevel:W.beltLevel,reason:W.reason,adminNotes:W.adminNotes,isLifetimeUser:W.isLifetimeUser}),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/lifetime-users"]}),e({title:"User Updated",description:"User details updated successfully"}),o(null)},onError:W=>{e({title:"Error",description:W.message||"Failed to update user",variant:"destructive"})}}),re=qe({mutationFn:async W=>await _e(`/api/admin/lifetime-users/${W}`,"DELETE",{}),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/lifetime-users"]}),e({title:"User Deleted",description:"User deleted successfully"}),c(null),r(new Set)},onError:W=>{e({title:"Error",description:W.message||"Failed to delete user",variant:"destructive"})}}),oe=qe({mutationFn:async W=>await _e("/api/admin/lifetime-users/bulk-delete","POST",{userIds:W}),onSuccess:W=>{Pe.invalidateQueries({queryKey:["/api/admin/lifetime-users"]}),e({title:"Bulk Delete Complete",description:W.summary}),u(!1),r(new Set)},onError:W=>{e({title:"Error",description:W.message||"Failed to bulk delete users",variant:"destructive"})}}),ve=qe({mutationFn:async W=>await _e("/api/admin/lifetime/grant-instant","POST",W),onSuccess:W=>{Pe.invalidateQueries({queryKey:["/api/admin/lifetime-users"]}),e({title:"Success!",description:W.message}),S(""),C(""),O(!1)},onError:W=>{e({title:"Error",description:W.message||"Failed to grant lifetime access",variant:"destructive"})}}),ce=()=>{s&&ee.mutate({id:s,displayName:f,beltLevel:p,reason:g,adminNotes:v,isLifetimeUser:j})},Oe=()=>{if(!w){e({title:"Missing Information",description:"Please enter an email address",variant:"destructive"});return}if(!k){e({title:"Missing Information",description:"Please select a reason for lifetime access",variant:"destructive"});return}ve.mutate({email:w,reason:k,sendEmail:A,emailSubject:A?I:void 0,emailBody:A?R:void 0})},me=W=>{const z=new Set(t);z.has(W)?z.delete(W):z.add(W),r(z)},Ce=()=>{t.size===(E==null?void 0:E.length)?r(new Set):r(new Set((E==null?void 0:E.map(W=>W.id))||[]))},te=W=>{const z=W.displayName||W.name||"Unnamed",Q=W.username;return Q?`${z} (@${Q})`:z};return n.jsxs(Ut,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-3xl font-bold",children:"Lifetime Access Management"}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx($i,{className:"w-5 h-5"}),"Send Lifetime Access Invitation"]}),n.jsx(Fe,{children:"Grant free lifetime access to beta testers, special contributors, or VIP users. They get full access forever without paying."})]}),n.jsx(H,{children:n.jsxs("form",{onSubmit:W=>{W.preventDefault(),Oe()},className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"invite-email",children:"Email Address *"}),n.jsx(be,{id:"invite-email",type:"email",value:w,onChange:W=>S(W.target.value),placeholder:"user@example.com",required:!0,"data-testid":"input-invite-email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"invite-reason",children:"Reason for Lifetime Access *"}),n.jsxs(Xe,{value:k,onValueChange:C,required:!0,children:[n.jsx(Ye,{id:"invite-reason","data-testid":"select-invite-reason",children:n.jsx(Je,{placeholder:"Select a reason"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"Beta Tester",children:"Beta Tester"}),n.jsx(K,{value:"VIP / Founding Member",children:"VIP / Founding Member"}),n.jsx(K,{value:"Gym Owner",children:"Gym Owner"}),n.jsx(K,{value:"Elite Instructor (Black Belt)",children:"Elite Instructor (Black Belt)"}),n.jsx(K,{value:"Elite Competitor",children:"Elite Competitor"}),n.jsx(K,{value:"Business Partner",children:"Business Partner"}),n.jsx(K,{value:"Personal Friend",children:"Personal Friend"}),n.jsx(K,{value:"Essential Training Partner",children:"Essential Training Partner"}),n.jsx(K,{value:"Content Creator / Influencer",children:"Content Creator / Influencer"}),n.jsx(K,{value:"Other",children:"Other"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Sa,{id:"send-email",checked:A,onCheckedChange:W=>O(W),"data-testid":"checkbox-send-email"}),n.jsx("label",{htmlFor:"send-email",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Send invitation email"})]}),A&&n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx($i,{className:"w-4 h-4"}),n.jsx("span",{className:"font-medium",children:"Message Preview"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"email-subject",children:"Subject"}),n.jsx(be,{id:"email-subject",value:I,onChange:W=>P(W.target.value),placeholder:"Email subject","data-testid":"input-email-subject"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"email-body",children:"Message Body"}),n.jsx(ti,{id:"email-body",value:R,onChange:W=>$(W.target.value),placeholder:"Email message",rows:20,className:"font-mono text-sm","data-testid":"textarea-email-body"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/30 p-3 rounded-lg",children:[n.jsx("span",{children:""}),n.jsx("span",{children:"You can edit this message before sending. Use [Name] and [EMAIL] as placeholders."})]})]}),n.jsxs(Y,{type:"submit",disabled:!w||!k||ve.isPending,className:"w-full","data-testid":"button-grant-lifetime",children:[n.jsx(Hr,{className:"h-4 w-4 mr-2"}),ve.isPending?"Granting...":A?"Grant Lifetime Access & Send Email":"Grant Lifetime Access"]})]})})]}),n.jsx(q,{children:n.jsx(X,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(ur,{className:"w-5 h-5"}),"Lifetime Memberships"]}),n.jsxs(Fe,{children:["Grant free lifetime access to beta testers, special contributors, or VIP users. They get full access forever without paying.",E&&E.length>0&&n.jsxs("span",{className:"ml-2 font-semibold",children:["(",E.length," total)"]})]})]}),t.size>0&&n.jsxs(Y,{variant:"destructive",size:"sm",onClick:()=>u(!0),"data-testid":"button-bulk-delete",children:[n.jsx(al,{className:"w-4 h-4 mr-2"}),"Delete Selected (",t.size,")"]})]})})}),n.jsx("div",{className:"rounded-lg border bg-card",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{className:"w-12",children:n.jsx(Sa,{checked:(E==null?void 0:E.length)>0&&t.size===(E==null?void 0:E.length),onCheckedChange:Ce,"data-testid":"checkbox-select-all"})}),n.jsx(G,{children:"User"}),n.jsx(G,{children:"Phone"}),n.jsx(G,{children:"Reason"}),n.jsx(G,{children:"Belt"}),n.jsx(G,{children:"Created"}),n.jsx(G,{children:"Bypass"}),n.jsx(G,{className:"text-right",children:"Actions"})]})}),n.jsx(kt,{children:_?n.jsx(we,{children:n.jsxs(V,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:[n.jsx(ze,{className:"w-5 h-5 animate-spin mx-auto mb-2"}),"Loading lifetime members..."]})}):(E==null?void 0:E.length)===0?n.jsx(we,{children:n.jsx(V,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No lifetime members yet. Grant access to your first beta tester above!"})}):E==null?void 0:E.map(W=>n.jsxs(we,{"data-testid":`row-lifetime-${W.id}`,children:[n.jsx(V,{children:n.jsx(Sa,{checked:t.has(W.id),onCheckedChange:()=>me(W.id),"data-testid":`checkbox-user-${W.id}`})}),n.jsx(V,{className:"font-medium",children:te(W)}),n.jsx(V,{className:"font-mono text-sm",children:W.phoneNumber||W.email||"Unknown"}),n.jsx(V,{children:W.reason?n.jsx(ae,{variant:"secondary",className:"text-xs",children:W.reason}):n.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),n.jsx(V,{children:W.beltLevel?n.jsx(ae,{variant:"outline",children:W.beltLevel}):n.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),n.jsx(V,{className:"text-muted-foreground text-sm",children:new Date(W.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),n.jsx(V,{children:W.isLifetimeUser?n.jsx(ae,{variant:"default",className:"text-xs",children:"ON"}):n.jsx(ae,{variant:"secondary",className:"text-xs",children:"OFF"})}),n.jsx(V,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-1",children:[n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>i(W.id),"data-testid":`button-view-${W.id}`,children:n.jsx(Rr,{className:"w-4 h-4"})}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>o(W.id),"data-testid":`button-edit-${W.id}`,children:n.jsx(oI,{className:"w-4 h-4"})}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>c(W.id),"data-testid":`button-delete-${W.id}`,children:n.jsx(ni,{className:"w-4 h-4"})})]})})]},W.id))})]})})]}),n.jsx(Ar,{open:!!a,onOpenChange:W=>!W&&i(null),children:n.jsxs(yr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(br,{children:[n.jsx(jr,{children:"User Details"}),n.jsx(nn,{children:"Complete information for this lifetime user"})]}),T?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(ze,{className:"w-6 h-6 animate-spin"})}):M&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Display Name"}),n.jsx("div",{className:"font-medium",children:M.displayName||M.name||"Not set"})]}),n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Username"}),n.jsx("div",{className:"font-mono text-sm",children:M.username||"Not set"})]}),n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Phone Number"}),n.jsx("div",{className:"font-mono text-sm",children:M.phoneNumber})]}),n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Belt Level"}),n.jsx("div",{children:M.beltLevel||"Not set"})]}),n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Style"}),n.jsx("div",{children:M.style||"Not set"})]}),n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Content Preference"}),n.jsx("div",{children:M.contentPreference||"Not set"})]}),n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Training Frequency"}),n.jsx("div",{children:M.trainingFrequency?`${M.trainingFrequency}x/week`:"Not set"})]}),n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Compete Status"}),n.jsx("div",{children:M.competeStatus||"Not set"})]}),n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Lifetime Bypass"}),n.jsx("div",{children:M.isLifetimeUser?n.jsx(ae,{variant:"default",children:"Enabled"}):n.jsx(ae,{variant:"secondary",children:"Disabled"})})]}),n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Created"}),n.jsx("div",{className:"text-sm",children:new Date(M.createdAt).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Last Login"}),n.jsx("div",{className:"text-sm",children:M.lastLogin?new Date(M.lastLogin).toLocaleString():"Never"})]}),n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Referral Code"}),n.jsx("div",{className:"font-mono text-sm",children:M.referralCode||"None"})]})]}),M.focusAreas&&M.focusAreas.length>0&&n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Focus Areas"}),n.jsx("div",{className:"flex gap-1 flex-wrap mt-1",children:M.focusAreas.map((W,z)=>n.jsx(ae,{variant:"outline",className:"text-xs",children:W},z))})]}),M.struggles&&M.struggles.length>0&&n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Struggles"}),n.jsx("div",{className:"flex gap-1 flex-wrap mt-1",children:M.struggles.map((W,z)=>n.jsx(ae,{variant:"secondary",className:"text-xs",children:W},z))})]}),M.adminNotes&&n.jsxs("div",{children:[n.jsx(le,{className:"text-xs text-muted-foreground",children:"Admin Notes"}),n.jsx("div",{className:"text-sm mt-1 p-3 bg-muted rounded-md",children:M.adminNotes})]})]})]})}),n.jsx(Ar,{open:!!s,onOpenChange:W=>!W&&o(null),children:n.jsxs(yr,{className:"max-w-lg",children:[n.jsxs(br,{children:[n.jsx(jr,{children:"Edit User"}),n.jsx(nn,{children:"Update user information and settings"})]}),B?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(ze,{className:"w-6 h-6 animate-spin"})}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"edit-display-name",children:"Display Name"}),n.jsx(be,{id:"edit-display-name",value:f,onChange:W=>h(W.target.value),placeholder:"John Smith","data-testid":"input-edit-display-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"edit-belt-level",children:"Belt Level"}),n.jsxs(Xe,{value:p,onValueChange:b,children:[n.jsx(Ye,{"data-testid":"select-edit-belt",children:n.jsx(Je,{placeholder:"Select belt level"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"white",children:"White"}),n.jsx(K,{value:"blue",children:"Blue"}),n.jsx(K,{value:"purple",children:"Purple"}),n.jsx(K,{value:"brown",children:"Brown"}),n.jsx(K,{value:"black",children:"Black"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"edit-reason",children:"Reason for Lifetime Access"}),n.jsxs(Xe,{value:g,onValueChange:y,children:[n.jsx(Ye,{"data-testid":"select-edit-reason",children:n.jsx(Je,{placeholder:"Select a reason"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"Beta Tester",children:"Beta Tester"}),n.jsx(K,{value:"VIP / Founding Member",children:"VIP / Founding Member"}),n.jsx(K,{value:"Gym Owner",children:"Gym Owner"}),n.jsx(K,{value:"Elite Instructor (Black Belt)",children:"Elite Instructor (Black Belt)"}),n.jsx(K,{value:"Elite Competitor",children:"Elite Competitor"}),n.jsx(K,{value:"Business Partner",children:"Business Partner"}),n.jsx(K,{value:"Personal Friend",children:"Personal Friend"}),n.jsx(K,{value:"Essential Training Partner",children:"Essential Training Partner"}),n.jsx(K,{value:"Content Creator / Influencer",children:"Content Creator / Influencer"}),n.jsx(K,{value:"Other",children:"Other"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"edit-admin-notes",children:"Admin Notes"}),n.jsx(ti,{id:"edit-admin-notes",value:v,onChange:W=>m(W.target.value),placeholder:"Internal notes...",rows:3,"data-testid":"input-edit-admin-notes"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Sa,{id:"edit-lifetime-bypass",checked:j,onCheckedChange:W=>N(!!W),"data-testid":"checkbox-edit-lifetime-bypass"}),n.jsx(le,{htmlFor:"edit-lifetime-bypass",className:"cursor-pointer",children:"Enable Lifetime Bypass (LIFETIME code works)"})]}),n.jsxs(Hs,{children:[n.jsx(Y,{variant:"outline",onClick:()=>o(null),"data-testid":"button-cancel-edit",children:"Cancel"}),n.jsx(Y,{onClick:ce,disabled:ee.isPending,"data-testid":"button-save-edit",children:ee.isPending?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})}),n.jsx(Yg,{open:!!l,onOpenChange:W=>!W&&c(null),children:n.jsxs(Qf,{children:[n.jsxs(Xf,{children:[n.jsx(Zf,{children:"Delete User?"}),n.jsx(eh,{children:"This will permanently delete this user and all their data. This action cannot be undone."})]}),n.jsxs(Jf,{children:[n.jsx(rh,{"data-testid":"button-cancel-delete",children:"Cancel"}),n.jsx(th,{onClick:()=>{l&&re.mutate(l)},className:"bg-destructive hover:bg-destructive/90","data-testid":"button-confirm-delete",children:"Delete User"})]})]})}),n.jsx(Yg,{open:d,onOpenChange:u,children:n.jsxs(Qf,{children:[n.jsxs(Xf,{children:[n.jsxs(Zf,{children:["Delete ",t.size," Users?"]}),n.jsxs(eh,{children:["This will permanently delete ",t.size," selected users and all their data. This action cannot be undone."]})]}),n.jsxs(Jf,{children:[n.jsx(rh,{"data-testid":"button-cancel-bulk-delete",children:"Cancel"}),n.jsx(th,{onClick:()=>oe.mutate(Array.from(t)),className:"bg-destructive hover:bg-destructive/90","data-testid":"button-confirm-bulk-delete",children:oe.isPending?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Deleting..."]}):`Delete ${t.size} Users`})]})]})})]})}var yS="Progress",bS=100,[Xbe,H1e]=vn(yS),[Jbe,Zbe]=Xbe(yS),p3=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:i,getValueLabel:s=e0e,...o}=e;(i||i===0)&&!pT(i)&&console.error(t0e(`${i}`,"Progress"));const l=pT(i)?i:bS;a!==null&&!gT(a,l)&&console.error(r0e(`${a}`,"Progress"));const c=gT(a,l)?a:null,d=Qg(c)?s(c,l):void 0;return n.jsx(Jbe,{scope:r,value:c,max:l,children:n.jsx(Ue.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Qg(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":v3(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});p3.displayName=yS;var g3="ProgressIndicator",x3=x.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,i=Zbe(g3,r);return n.jsx(Ue.div,{"data-state":v3(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...a,ref:t})});x3.displayName=g3;function e0e(e,t){return`${Math.round(e/t*100)}%`}function v3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Qg(e){return typeof e=="number"}function pT(e){return Qg(e)&&!isNaN(e)&&e>0}function gT(e,t){return Qg(e)&&!isNaN(e)&&e<=t&&e>=0}function t0e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${bS}\`.`}function r0e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${bS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var y3=p3,n0e=x3;const b3=x.forwardRef(({className:e,value:t,...r},a)=>n.jsx(y3,{ref:a,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:n.jsx(n0e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));b3.displayName=y3.displayName;async function wl(e){const t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(t.status===401||t.status===403)throw new Error("AUTH_REQUIRED");if(!t.ok){const r=await t.json().catch(()=>({}));throw new Error(r.error||`Request failed: ${t.status}`)}return t.json()}async function Pm(e,t){const r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:t?JSON.stringify(t):void 0});if(!r.ok){const a=await r.json().catch(()=>({}));throw new Error(a.error||`Request failed: ${r.status}`)}return r.json()}function a0e(){var Ge,st,Tt;const[,e]=at(),[t,r]=x.useState(""),[a,i]=x.useState(""),[s,o]=x.useState("all"),[l,c]=x.useState("all"),[d,u]=x.useState("all"),[f,h]=x.useState(!1),[p,b]=x.useState(null),[g,y]=x.useState(!1),[v,m]=x.useState(null);x.useEffect(()=>{const ne=setTimeout(()=>i(t),300);return()=>clearTimeout(ne)},[t]);const{data:j,isLoading:N,error:w}=ue({queryKey:["/api/admin/videos/stats"],queryFn:()=>wl("/api/admin/videos/stats"),staleTime:3e4,retry:!1}),{data:S,isLoading:k}=ue({queryKey:["/api/admin/videos/knowledge-status"],queryFn:()=>wl("/api/admin/videos/knowledge-status"),staleTime:1e4,refetchInterval:3e4,retry:!1,enabled:!f}),{data:C}=ue({queryKey:["/api/admin/videos/bulk-status"],queryFn:()=>wl("/api/admin/videos/bulk-status"),staleTime:5e3,refetchInterval:ne=>{var We;return(We=ne.state.data)!=null&&We.isActive?3e3:3e4},retry:!1,enabled:!f}),{data:A}=ue({queryKey:["/api/admin/videos/all-for-filters"],queryFn:()=>wl("/api/admin/videos/list?limit=2000"),staleTime:6e4,retry:!1,enabled:!f}),{data:O,isLoading:I,error:P}=ue({queryKey:["/api/admin/videos/list",a,s,l,d],queryFn:async()=>{const ne=new URLSearchParams;return a&&ne.append("q",a),s&&s!=="all"&&ne.append("instructor",s),l&&l!=="all"&&ne.append("technique",l),d&&d!=="all"&&ne.append("knowledgeFilter",d),ne.append("limit","50"),wl(`/api/admin/videos/list?${ne.toString()}`)},staleTime:1e4,retry:!1,enabled:!f}),R=qe({mutationFn:()=>Pm("/api/admin/videos/process-all",{batchSize:10,delayBetweenBatches:3e4}),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/videos/bulk-status"]})}}),$=qe({mutationFn:()=>Pm("/api/admin/videos/bulk-pause"),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/videos/bulk-status"]})}}),E=qe({mutationFn:()=>Pm("/api/admin/videos/bulk-stop"),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/videos/bulk-status"]})}}),_=qe({mutationFn:ne=>Pm(`/api/admin/videos/${ne}/process`),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/videos/list"]}),Pe.invalidateQueries({queryKey:["/api/admin/videos/knowledge-status"]})}}),{instructorToTechniques:M,techniqueToInstructors:T,allInstructors:D,allTechniques:B}=x.useMemo(()=>{const ne=(A==null?void 0:A.videos)||[],We=new Map,dt=new Map,L=new Set,Z=new Set;for(const ie of ne){const xe=ie.instructor_name,pe=ie.technique_name;xe&&(L.add(xe),We.has(xe)||We.set(xe,new Set),pe&&We.get(xe).add(pe)),pe&&(Z.add(pe),dt.has(pe)||dt.set(pe,new Set),xe&&dt.get(pe).add(xe))}return{instructorToTechniques:We,techniqueToInstructors:dt,allInstructors:Array.from(L).sort((ie,xe)=>ie.localeCompare(xe)),allTechniques:Array.from(Z).sort((ie,xe)=>ie.localeCompare(xe))}},[A]),ee=x.useMemo(()=>{if(l==="all")return D;const ne=T.get(l);return ne?D.filter(We=>ne.has(We)):D},[l,D,T]),re=x.useMemo(()=>{if(s==="all")return B;const ne=M.get(s);return ne?B.filter(We=>ne.has(We)):B},[s,B,M]),oe=ne=>{if(o(ne),ne!=="all"&&l!=="all"){const We=M.get(ne);(!We||!We.has(l))&&c("all")}},ve=ne=>{if(c(ne),ne!=="all"&&s!=="all"){const We=T.get(ne);(!We||!We.has(s))&&o("all")}},ce=async ne=>{try{const We=await wl(`/api/admin/videos/${ne.id}/knowledge`);m(We),y(!0)}catch(We){console.error("Failed to fetch knowledge:",We)}};if(x.useEffect(()=>{const ne=w||P;ne&&ne.message==="AUTH_REQUIRED"&&(h(!0),e("/admin/login"))},[w,P,e]),f)return n.jsx(Ut,{children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[n.jsx(Tn,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Authentication Required"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Please log in to access the video library."}),n.jsx(Y,{onClick:()=>e("/admin/login"),"data-testid":"button-login",children:"Go to Login"})]})});const Oe=j||{total_videos:0,unique_instructors:0,unique_techniques:0,avg_quality:0},me=(O==null?void 0:O.videos)||[],Ce=S||{totalVideos:0,processed:0,pending:0,withTranscript:0,totalTechniques:0,percentComplete:0},te=C||{isActive:!1,total:0,processed:0,succeeded:0,failed:0,currentBatch:0,totalBatches:0,isPaused:!1,estimatedTimeRemaining:null},W=ne=>ne.thumbnail_url?ne.thumbnail_url:ne.youtube_id?`https://img.youtube.com/vi/${ne.youtube_id}/mqdefault.jpg`:"",z=ne=>{if(!ne)return"";const We=Math.floor(ne/60),dt=ne%60;return`${We}:${dt.toString().padStart(2,"0")}`},Q=ne=>l==="all"?((A==null?void 0:A.videos)||[]).filter(L=>L.instructor_name===ne).length:((A==null?void 0:A.videos)||[]).filter(dt=>dt.instructor_name===ne&&dt.technique_name===l).length,Ve=ne=>s==="all"?((A==null?void 0:A.videos)||[]).filter(L=>L.technique_name===ne).length:((A==null?void 0:A.videos)||[]).filter(dt=>dt.technique_name===ne&&dt.instructor_name===s).length,de=ne=>{switch(ne){case"watched":return n.jsx(In,{className:"h-4 w-4 text-green-500"});case"failed":return n.jsx(Tn,{className:"h-4 w-4 text-yellow-500"});default:return n.jsx(k0,{className:"h-4 w-4 text-muted-foreground"})}},Ae=ne=>{switch(ne){case"watched":return"Watched";case"failed":return"Failed";default:return"Pending"}};return n.jsxs(Ut,{children:[n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Video Library"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage curated BJJ technique videos"})]}),n.jsx(q,{className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border-purple-500/20",children:n.jsxs(H,{className:"pt-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Dl,{className:"h-8 w-8 text-purple-500"}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Video Knowledge System"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[Ce.totalVideos.toLocaleString()," total | "," ",n.jsxs("span",{className:"text-green-500",children:[Ce.withTranscript.toLocaleString()," watched"]})," | "," ",n.jsxs("span",{className:"text-yellow-500",children:[Ce.pending.toLocaleString()," pending"]})," | "," ",Ce.percentComplete.toFixed(1),"% complete"]}),Ce.totalTechniques>0&&n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Ce.totalTechniques.toLocaleString()," techniques extracted"]})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:te.isActive?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-sm text-muted-foreground mr-2",children:["Batch ",te.currentBatch,"/",te.totalBatches,te.estimatedTimeRemaining&&`  ~${te.estimatedTimeRemaining}`]}),n.jsx(Y,{size:"sm",variant:"outline",onClick:()=>$.mutate(),disabled:$.isPending,"data-testid":"button-pause",children:te.isPaused?n.jsx(Qn,{className:"h-4 w-4"}):n.jsx(A0,{className:"h-4 w-4"})}),n.jsx(Y,{size:"sm",variant:"destructive",onClick:()=>E.mutate(),disabled:E.isPending,"data-testid":"button-stop",children:n.jsx(s7,{className:"h-4 w-4"})})]}):n.jsxs(Y,{onClick:()=>R.mutate(),disabled:R.isPending||Ce.pending===0,"data-testid":"button-process-all",children:[R.isPending?n.jsx(ze,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Process All Pending (",Ce.pending.toLocaleString(),")"]})})]}),te.isActive&&n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsx(b3,{value:te.processed/te.total*100,className:"h-2"}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:[te.processed.toLocaleString()," / ",te.total.toLocaleString()," processed"]}),n.jsxs("span",{className:"text-green-500",children:[te.succeeded," succeeded"]}),te.failed>0&&n.jsxs("span",{className:"text-red-500",children:[te.failed," failed"]})]})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Videos"}),n.jsx(nf,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-videos",children:N?n.jsx(ze,{className:"h-6 w-6 animate-spin"}):((Ge=Oe.total_videos)==null?void 0:Ge.toLocaleString())||"0"})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Instructors"}),n.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-instructors",children:N?n.jsx(ze,{className:"h-6 w-6 animate-spin"}):((st=Oe.unique_instructors)==null?void 0:st.toLocaleString())||"0"})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Techniques"}),n.jsx(Px,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-techniques",children:N?n.jsx(ze,{className:"h-6 w-6 animate-spin"}):((Tt=Oe.unique_techniques)==null?void 0:Tt.toLocaleString())||"0"})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Avg Quality"}),n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-avg-quality",children:N?n.jsx(ze,{className:"h-6 w-6 animate-spin"}):Oe.avg_quality?Number(Oe.avg_quality).toFixed(1):"0.0"})})]})]}),n.jsx(q,{children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(be,{placeholder:"Search by title or instructor...",value:t,onChange:ne=>r(ne.target.value),className:"pl-10","data-testid":"input-search"})]}),n.jsxs(Xe,{value:s,onValueChange:oe,children:[n.jsx(Ye,{className:"w-[200px]","data-testid":"select-instructor",children:n.jsx(Je,{placeholder:"All Instructors"})}),n.jsxs(Qe,{children:[n.jsxs(K,{value:"all",children:["All Instructors (",ee.length,")"]}),ee.map(ne=>n.jsxs(K,{value:ne,children:[ne," (",Q(ne),")"]},ne))]})]}),n.jsxs(Xe,{value:l,onValueChange:ve,children:[n.jsx(Ye,{className:"w-[200px]","data-testid":"select-technique",children:n.jsx(Je,{placeholder:"All Techniques"})}),n.jsxs(Qe,{children:[n.jsxs(K,{value:"all",children:["All Techniques (",re.length,")"]}),re.map(ne=>n.jsxs(K,{value:ne,children:[ne," (",Ve(ne),")"]},ne))]})]}),n.jsxs(Xe,{value:d,onValueChange:u,children:[n.jsx(Ye,{className:"w-[160px]","data-testid":"select-knowledge-filter",children:n.jsx(Je,{placeholder:"Knowledge Status"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:"watched",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(In,{className:"h-3 w-3 text-green-500"}),"Watched"]})}),n.jsx(K,{value:"pending",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(k0,{className:"h-3 w-3 text-muted-foreground"}),"Pending"]})}),n.jsx(K,{value:"failed",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tn,{className:"h-3 w-3 text-yellow-500"}),"Failed"]})})]})]})]})})}),n.jsx("div",{children:I?n.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[n.jsx(ze,{className:"h-8 w-8 animate-spin text-muted-foreground mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading videos..."})]}):me.length===0?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"No videos found"})}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:me.map(ne=>n.jsxs(q,{className:"overflow-hidden cursor-pointer hover-elevate transition-all","data-testid":`card-video-${ne.id}`,onClick:()=>b(ne),children:[n.jsxs("div",{className:"relative aspect-video bg-muted",children:[n.jsx("img",{src:W(ne),alt:ne.title,className:"w-full h-full object-cover",onError:We=>{We.target.src=`https://img.youtube.com/vi/${ne.youtube_id}/mqdefault.jpg`}}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/0 hover:bg-black/30 transition-colors",children:n.jsx(nf,{className:"h-12 w-12 text-white opacity-0 hover:opacity-100 transition-opacity"})}),ne.duration&&n.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-1.5 py-0.5 rounded",children:z(ne.duration)}),n.jsx("div",{className:"absolute top-2 left-2 bg-black/70 rounded-full p-1",title:`Knowledge: ${Ae(ne.knowledge_status)}${ne.techniques_count?` (${ne.techniques_count} techniques)`:""}`,children:de(ne.knowledge_status)}),ne.knowledge_status==="watched"&&ne.techniques_count&&ne.techniques_count>0&&n.jsxs(ae,{className:"absolute top-2 right-2 bg-green-500/90 hover:bg-green-600 text-white text-xs",onClick:We=>{We.stopPropagation(),ce(ne)},children:[n.jsx(Rr,{className:"h-3 w-3 mr-1"}),ne.techniques_count]})]}),n.jsxs(H,{className:"p-3 space-y-2",children:[n.jsx("h3",{className:"font-medium text-sm line-clamp-2",title:ne.title,children:ne.title}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[n.jsx("span",{className:"truncate max-w-[120px]",title:ne.instructor_name,children:ne.instructor_name||"Unknown"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Hr,{className:"h-3 w-3 text-yellow-500"}),n.jsx("span",{children:ne.quality_score?Number(ne.quality_score).toFixed(1):"-"})]})]}),ne.technique_name&&n.jsx(ae,{variant:"secondary",className:"text-xs truncate max-w-full",children:ne.technique_name})]})]},ne.id))})})]}),n.jsx(Ar,{open:!!p,onOpenChange:ne=>!ne&&b(null),children:n.jsxs(yr,{className:"max-w-4xl p-0 overflow-hidden",children:[n.jsxs(br,{className:"p-4 pb-2",children:[n.jsx(jr,{className:"pr-8 line-clamp-2",children:p==null?void 0:p.title}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground flex-wrap",children:[n.jsx("span",{children:p==null?void 0:p.instructor_name}),(p==null?void 0:p.technique_name)&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsx(ae,{variant:"secondary",className:"text-xs",children:p==null?void 0:p.technique_name})]}),(p==null?void 0:p.quality_score)&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Hr,{className:"h-3 w-3 text-yellow-500"}),n.jsx("span",{children:Number(p.quality_score).toFixed(1)})]})]}),n.jsx("span",{children:""}),n.jsxs("div",{className:"flex items-center gap-1",children:[de(p==null?void 0:p.knowledge_status),n.jsx("span",{children:Ae(p==null?void 0:p.knowledge_status)})]}),(p==null?void 0:p.knowledge_status)==="pending"&&n.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>p&&_.mutate(p.id),disabled:_.isPending,"data-testid":"button-process-video",children:[_.isPending?n.jsx(ze,{className:"h-3 w-3 animate-spin"}):n.jsx(Dl,{className:"h-3 w-3"}),n.jsx("span",{className:"ml-1",children:"Process"})]}),(p==null?void 0:p.knowledge_status)==="watched"&&n.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>p&&ce(p),"data-testid":"button-view-knowledge",children:[n.jsx(Rr,{className:"h-3 w-3 mr-1"}),"View Knowledge"]})]})]}),n.jsx("div",{className:"aspect-video w-full",children:p&&n.jsx("iframe",{src:`https://www.youtube.com/embed/${p.youtube_id}?autoplay=1&rel=0`,title:p.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})}),n.jsx(Ar,{open:g,onOpenChange:y,children:n.jsxs(yr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[n.jsx(br,{children:n.jsxs(jr,{className:"flex items-center gap-2",children:[n.jsx(Dl,{className:"h-5 w-5 text-purple-500"}),"Extracted Knowledge"]})}),v&&v.techniques.length>0?n.jsx("div",{className:"space-y-6",children:v.techniques.map((ne,We)=>n.jsxs(q,{children:[n.jsxs(X,{className:"pb-2",children:[n.jsx(J,{className:"text-lg",children:ne.techniqueName}),ne.positionContext&&n.jsx(ae,{variant:"outline",children:ne.positionContext})]}),n.jsxs(H,{className:"space-y-4",children:[ne.timestampStart&&n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx(Mi,{className:"h-3 w-3 inline mr-1"}),ne.timestampStart,ne.timestampEnd?` - ${ne.timestampEnd}`:""]}),ne.keyConcepts&&ne.keyConcepts.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-sm mb-2",children:"Key Concepts"}),n.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:ne.keyConcepts.map((dt,L)=>n.jsx("li",{children:dt},L))})]}),ne.instructorTips&&ne.instructorTips.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-sm mb-2 text-green-600",children:"Instructor Tips"}),n.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:ne.instructorTips.map((dt,L)=>n.jsxs("li",{className:"text-green-600/80",children:['"',dt,'"']},L))})]}),ne.commonMistakes&&ne.commonMistakes.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-sm mb-2 text-red-500",children:"Common Mistakes"}),n.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:ne.commonMistakes.map((dt,L)=>n.jsx("li",{className:"text-red-500/80",children:dt},L))})]}),ne.fullSummary&&n.jsx("div",{className:"pt-2 border-t",children:n.jsx("p",{className:"text-sm text-muted-foreground italic",children:ne.fullSummary})})]})]},We))}):n.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No knowledge extracted yet"})]})})]})}const Dh=wd("Browser",{web:()=>xh(()=>import("./web-Bt3e1KaP.js"),[]).then(e=>new e.BrowserWeb)});function i0e(e){if(!e)return 0;if(typeof e=="number")return e;const t=e.split(":").map(Number);return t.length===2?t[0]*60+t[1]:t.length===3?t[0]*3600+t[1]*60+t[2]:0}function Lh({videoId:e,startTime:t=0,title:r,instructor:a,onClose:i}){const s=i0e(t),o=Rc.isNativePlatform(),[l,c]=x.useState(!1),d=o?`/youtube-proxy.html?v=${e}&start=${s}`:`https://www.youtube.com/embed/${e}?start=${s}&rel=0&modestbranding=1&autoplay=1&playsinline=1`,u=`https://www.youtube.com/watch?v=${e}${s>0?`&t=${s}s`:""}`,f=async()=>{try{await Dh.open({url:u}),i()}catch(b){console.error("Failed to open browser:",b),window.open(u,"_blank")}};x.useEffect(()=>{const b=g=>{g.key==="Escape"&&i()};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[i]);const h=b=>{b.target===b.currentTarget&&i()},p=()=>{c(!0)};return n.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4","data-testid":"video-player-modal",onClick:h,onTouchEnd:h,children:n.jsxs("div",{className:"w-full max-w-4xl",children:[n.jsxs("div",{className:"bg-sidebar p-4 rounded-t-lg flex justify-between items-center gap-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-foreground font-semibold truncate","data-testid":"video-player-title",children:r}),n.jsx("p",{className:"text-muted-foreground text-sm truncate","data-testid":"video-player-instructor",children:a})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[o&&n.jsx(Y,{variant:"ghost",size:"icon",onClick:f,title:"Open in YouTube","data-testid":"button-open-external",children:n.jsx(xi,{className:"w-5 h-5"})}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:i,"data-testid":"button-close-video",children:n.jsx(ni,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"relative bg-black",style:{paddingBottom:"56.25%"},children:l?n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white p-4 text-center",children:[n.jsx("p",{className:"mb-4",children:"Video playback unavailable in app."}),n.jsxs(Y,{onClick:f,variant:"outline",children:[n.jsx(xi,{className:"w-4 h-4 mr-2"}),"Open in YouTube"]})]}):n.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:d,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin",onError:p,"data-testid":"video-iframe"})})]})})}function s0e(){const{toast:e}=tt(),[t,r]=x.useState(null),[a,i]=x.useState(!1),{data:s}=ue({queryKey:["/api/admin/feedback/stats"],queryFn:()=>_e("/api/admin/feedback/stats")}),{data:o=[]}=ue({queryKey:["/api/admin/feedback/flagged"],queryFn:()=>_e("/api/admin/feedback/flagged")}),{data:l=[]}=ue({queryKey:["/api/admin/feedback/top-tier"],queryFn:()=>_e("/api/admin/feedback/top-tier")}),c=qe({mutationFn:async f=>_e(`/api/admin/feedback/remove-video/${f}`,"POST"),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/feedback/flagged"]}),Pe.invalidateQueries({queryKey:["/api/admin/feedback/stats"]}),e({title:"Video removed",description:"Video has been removed from the library"})}}),d=qe({mutationFn:async f=>_e(`/api/admin/feedback/approve-video/${f}`,"POST"),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/feedback/flagged"]}),e({title:"Video approved",description:"Video has been approved and returned to active status"})}}),u=f=>{r(f),i(!0)};return n.jsx(Ut,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Feedback Analytics"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor user feedback and manage video quality"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(q,{"data-testid":"card-total-feedback",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Feedback"}),n.jsx(wi,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.totalFeedback)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"All time user feedback"})]})]}),n.jsxs(q,{"data-testid":"card-helpful-ratio",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Avg Helpful Ratio"}),n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold",children:s!=null&&s.avgHelpfulRatio?`${Math.round(s.avgHelpfulRatio*100)}%`:"0%"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Videos with 50+ votes"})]})]}),n.jsxs(q,{"data-testid":"card-videos-removed",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Videos Removed"}),n.jsx(qo,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.videosRemoved)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Due to quality issues"})]})]}),n.jsxs(q,{"data-testid":"card-top-tier",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Top Tier Videos"}),n.jsx(Ll,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.topTierVideos)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"85%+ helpful, 100+ votes"})]})]})]}),n.jsxs(sl,{defaultValue:"flagged",className:"space-y-4",children:[n.jsxs(Zs,{children:[n.jsxs(Zt,{value:"flagged","data-testid":"tab-flagged",children:[n.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Flagged Videos (",o.length,")"]}),n.jsxs(Zt,{value:"top-tier","data-testid":"tab-top-tier",children:[n.jsx(Ll,{className:"h-4 w-4 mr-2"}),"Top Tier (",l.length,")"]})]}),n.jsx(er,{value:"flagged",children:n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Flagged for Review"}),n.jsx(Fe,{children:"Videos with context issues (wrong recommendation, too advanced/basic) - Review and take action"})]}),n.jsx(H,{children:o.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(In,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No flagged videos - all content looks good!"})]}):n.jsx("div",{className:"space-y-4",children:o.map(f=>n.jsx("div",{className:"flex items-start gap-4 p-4 border rounded-lg","data-testid":`flagged-video-${f.id}`,children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:f.title}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.instructor,"  ",f.technique_name]})]}),n.jsxs(ae,{variant:"outline",className:"ml-2",children:[Math.round((f.helpful_ratio||0)*100),"% helpful"]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(wi,{className:"h-3 w-3"}),f.total_votes||0," votes"]}),n.jsxs("span",{children:["Quality: ",f.quality_score||0,"/10"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Y,{size:"sm",variant:"outline",onClick:()=>u(f),"data-testid":`button-play-${f.id}`,children:"Play Video"}),n.jsxs(Y,{size:"sm",variant:"default",onClick:()=>d.mutate(f.id),disabled:d.isPending,"data-testid":`button-approve-${f.id}`,children:[n.jsx(In,{className:"h-4 w-4 mr-1"}),"Approve"]}),n.jsxs(Y,{size:"sm",variant:"destructive",onClick:()=>{confirm(`Remove "${f.title}" from library?`)&&c.mutate(f.id)},disabled:c.isPending,"data-testid":`button-remove-${f.id}`,children:[n.jsx(al,{className:"h-4 w-4 mr-1"}),"Remove"]})]})]})},f.id))})})]})}),n.jsx(er,{value:"top-tier",children:n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Top Tier Videos"}),n.jsx(Fe,{children:"Highest quality content (85%+ helpful ratio, 100+ votes)"})]}),n.jsx(H,{children:l.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Ll,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"No top tier videos yet - need 100+ votes and 85%+ helpful ratio"})]}):n.jsx("div",{className:"space-y-4",children:l.map(f=>n.jsxs("div",{className:"flex items-start gap-4 p-4 border rounded-lg bg-accent/10","data-testid":`top-tier-video-${f.id}`,children:[n.jsx(Ll,{className:"h-6 w-6 text-primary mt-1"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:f.title}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.instructor,"  ",f.technique_name]})]}),n.jsxs(ae,{variant:"default",className:"ml-2",children:[Math.round((f.helpful_ratio||0)*100),"% helpful"]})]}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(wi,{className:"h-3 w-3"}),f.total_votes||0," votes"]}),n.jsxs("span",{children:["Quality: ",f.quality_score||0,"/10"]})]}),n.jsx(Y,{size:"sm",variant:"outline",onClick:()=>u(f),"data-testid":`button-play-top-${f.id}`,children:"Play Video"})]})]},f.id))})})]})})]}),a&&t&&n.jsx(Lh,{videoId:t.youtube_video_id,startTime:t.key_detail_timestamp,title:t.title||t.technique_name,instructor:t.instructor,onClose:()=>{i(!1),r(null)}})]})})}function _t(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function qi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function o0e(e,t){const r=_t(e);return isNaN(t)?qi(e,NaN):(r.setDate(r.getDate()+t),r)}const j3=6048e5,l0e=864e5,Em=43200,xT=1440;let c0e={};function Fh(){return c0e}function nh(e,t){var l,c,d,u;const r=Fh(),a=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,i=_t(e),s=i.getDay(),o=(s<a?7:0)+s-a;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Xg(e){return nh(e,{weekStartsOn:1})}function w3(e){const t=_t(e),r=t.getFullYear(),a=qi(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=Xg(a),s=qi(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Xg(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Jg(e){const t=_t(e);return t.setHours(0,0,0,0),t}function Zg(e){const t=_t(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function jS(e,t){const r=Jg(e),a=Jg(t),i=+r-Zg(r),s=+a-Zg(a);return Math.round((i-s)/l0e)}function d0e(e){const t=w3(e),r=qi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Xg(r)}function rp(e,t){const r=_t(e),a=_t(t),i=r.getTime()-a.getTime();return i<0?-1:i>0?1:i}function wS(e){return qi(e,Date.now())}function N3(e,t){const r=Jg(e),a=Jg(t);return+r==+a}function u0e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function S3(e){if(!u0e(e)&&typeof e!="number")return!1;const t=_t(e);return!isNaN(Number(t))}function f0e(e,t){const r=_t(e),a=_t(t),i=r.getFullYear()-a.getFullYear(),s=r.getMonth()-a.getMonth();return i*12+s}function h0e(e){return t=>{const a=(e?Math[e]:Math.trunc)(t);return a===0?0:a}}function m0e(e,t){return+_t(e)-+_t(t)}function p0e(e){const t=_t(e);return t.setHours(23,59,59,999),t}function g0e(e){const t=_t(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function x0e(e){const t=_t(e);return+p0e(t)==+g0e(t)}function v0e(e,t){const r=_t(e),a=_t(t),i=rp(r,a),s=Math.abs(f0e(r,a));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let l=rp(r,a)===-i;x0e(_t(e))&&s===1&&rp(e,a)===1&&(l=!1),o=i*(s-Number(l))}return o===0?0:o}function y0e(e,t,r){const a=m0e(e,t)/1e3;return h0e(r==null?void 0:r.roundingMethod)(a)}function b0e(e){const t=_t(e),r=qi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const j0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},w0e=(e,t,r)=>{let a;const i=j0e[e];return typeof i=="string"?a=i:t===1?a=i.one:a=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function ub(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const N0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},S0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},k0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C0e={date:ub({formats:N0e,defaultWidth:"full"}),time:ub({formats:S0e,defaultWidth:"full"}),dateTime:ub({formats:k0e,defaultWidth:"full"})},A0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},P0e=(e,t,r,a)=>A0e[e];function ou(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let i;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const E0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},T0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},O0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},_0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},I0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},M0e=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$0e={ordinalNumber:M0e,era:ou({values:E0e,defaultWidth:"wide"}),quarter:ou({values:T0e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ou({values:O0e,defaultWidth:"wide"}),day:ou({values:_0e,defaultWidth:"wide"}),dayPeriod:ou({values:I0e,defaultWidth:"wide",formattingValues:R0e,defaultFormattingWidth:"wide"})};function lu(e){return(t,r={})=>{const a=r.width,i=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?L0e(l,f=>f.test(o)):D0e(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function D0e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function L0e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function F0e(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const i=a[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const B0e=/^(\d+)(th|st|nd|rd)?/i,z0e=/\d+/i,U0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},V0e={any:[/^b/i,/^(a|c)/i]},q0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W0e={any:[/1/i,/2/i,/3/i,/4/i]},H0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},K0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},G0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Y0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Q0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},X0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},J0e={ordinalNumber:F0e({matchPattern:B0e,parsePattern:z0e,valueCallback:e=>parseInt(e,10)}),era:lu({matchPatterns:U0e,defaultMatchWidth:"wide",parsePatterns:V0e,defaultParseWidth:"any"}),quarter:lu({matchPatterns:q0e,defaultMatchWidth:"wide",parsePatterns:W0e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:lu({matchPatterns:H0e,defaultMatchWidth:"wide",parsePatterns:K0e,defaultParseWidth:"any"}),day:lu({matchPatterns:G0e,defaultMatchWidth:"wide",parsePatterns:Y0e,defaultParseWidth:"any"}),dayPeriod:lu({matchPatterns:Q0e,defaultMatchWidth:"any",parsePatterns:X0e,defaultParseWidth:"any"})},k3={code:"en-US",formatDistance:w0e,formatLong:C0e,formatRelative:P0e,localize:$0e,match:J0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z0e(e){const t=_t(e);return jS(t,b0e(t))+1}function eje(e){const t=_t(e),r=+Xg(t)-+d0e(t);return Math.round(r/j3)+1}function C3(e,t){var u,f,h,p;const r=_t(e),a=r.getFullYear(),i=Fh(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=qi(e,0);o.setFullYear(a+1,0,s),o.setHours(0,0,0,0);const l=nh(o,t),c=qi(e,0);c.setFullYear(a,0,s),c.setHours(0,0,0,0);const d=nh(c,t);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function tje(e,t){var l,c,d,u;const r=Fh(),a=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,i=C3(e,t),s=qi(e,0);return s.setFullYear(i,0,a),s.setHours(0,0,0,0),nh(s,t)}function rje(e,t){const r=_t(e),a=+nh(r,t)-+tje(r,t);return Math.round(a/j3)+1}function At(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const Zi={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return At(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):At(r+1,2)},d(e,t){return At(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return At(e.getHours()%12||12,t.length)},H(e,t){return At(e.getHours(),t.length)},m(e,t){return At(e.getMinutes(),t.length)},s(e,t){return At(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),i=Math.trunc(a*Math.pow(10,r-3));return At(i,t.length)}},Nl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vT={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return Zi.y(e,t)},Y:function(e,t,r,a){const i=C3(e,a),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return At(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):At(s,t.length)},R:function(e,t){const r=w3(e);return At(r,t.length)},u:function(e,t){const r=e.getFullYear();return At(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return At(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return At(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return Zi.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return At(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const i=rje(e,a);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):At(i,t.length)},I:function(e,t,r){const a=eje(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):At(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Zi.d(e,t)},D:function(e,t,r){const a=Z0e(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):At(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const i=e.getDay(),s=(i-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return At(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const i=e.getDay(),s=(i-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return At(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),i=a===0?7:a;switch(t){case"i":return String(i);case"ii":return At(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let i;switch(a===12?i=Nl.noon:a===0?i=Nl.midnight:i=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let i;switch(a>=17?i=Nl.evening:a>=12?i=Nl.afternoon:a>=4?i=Nl.morning:i=Nl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Zi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Zi.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):At(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):At(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Zi.s(e,t)},S:function(e,t){return Zi.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return bT(a);case"XXXX":case"XX":return po(a);case"XXXXX":case"XXX":default:return po(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return bT(a);case"xxxx":case"xx":return po(a);case"xxxxx":case"xxx":default:return po(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+yT(a,":");case"OOOO":default:return"GMT"+po(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+yT(a,":");case"zzzz":default:return"GMT"+po(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return At(a,t.length)},T:function(e,t,r){const a=e.getTime();return At(a,t.length)}};function yT(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),i=Math.trunc(a/60),s=a%60;return s===0?r+String(i):r+String(i)+t+At(s,2)}function bT(e,t){return e%60===0?(e>0?"-":"+")+At(Math.abs(e)/60,2):po(e,t)}function po(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),i=At(Math.trunc(a/60),2),s=At(a%60,2);return r+i+t+s}const jT=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},A3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},nje=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return jT(e,t);let s;switch(a){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",jT(a,t)).replace("{{time}}",A3(i,t))},aje={p:A3,P:nje},ije=/^D+$/,sje=/^Y+$/,oje=["D","DD","YY","YYYY"];function lje(e){return ije.test(e)}function cje(e){return sje.test(e)}function dje(e,t,r){const a=uje(e,t,r);if(console.warn(a),oje.includes(e))throw new RangeError(a)}function uje(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fje=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hje=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mje=/^'([^]*?)'?$/,pje=/''/g,gje=/[a-zA-Z]/;function gn(e,t,r){var u,f,h,p;const a=Fh(),i=a.locale??k3,s=a.firstWeekContainsDate??((f=(u=a.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,o=a.weekStartsOn??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=_t(e);if(!S3(l))throw new RangeError("Invalid time value");let c=t.match(hje).map(b=>{const g=b[0];if(g==="p"||g==="P"){const y=aje[g];return y(b,i.formatLong)}return b}).join("").match(fje).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const g=b[0];if(g==="'")return{isToken:!1,value:xje(b)};if(vT[g])return{isToken:!0,value:b};if(g.match(gje))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(b=>{if(!b.isToken)return b.value;const g=b.value;(cje(g)||lje(g))&&dje(g,t,String(e));const y=vT[g[0]];return y(l,g,i.localize,d)}).join("")}function xje(e){const t=e.match(mje);return t?t[1].replace(pje,"'"):e}function vje(e,t,r){const a=Fh(),i=(r==null?void 0:r.locale)??a.locale??k3,s=2520,o=rp(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,d;o>0?(c=_t(t),d=_t(e)):(c=_t(e),d=_t(t));const u=y0e(d,c),f=(Zg(d)-Zg(c))/1e3,h=Math.round((u-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?u<5?i.formatDistance("lessThanXSeconds",5,l):u<10?i.formatDistance("lessThanXSeconds",10,l):u<20?i.formatDistance("lessThanXSeconds",20,l):u<40?i.formatDistance("halfAMinute",0,l):u<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):h===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",h,l);if(h<45)return i.formatDistance("xMinutes",h,l);if(h<90)return i.formatDistance("aboutXHours",1,l);if(h<xT){const b=Math.round(h/60);return i.formatDistance("aboutXHours",b,l)}else{if(h<s)return i.formatDistance("xDays",1,l);if(h<Em){const b=Math.round(h/xT);return i.formatDistance("xDays",b,l)}else if(h<Em*2)return p=Math.round(h/Em),i.formatDistance("aboutXMonths",p,l)}if(p=v0e(d,c),p<12){const b=Math.round(h/Em);return i.formatDistance("xMonths",b,l)}else{const b=p%12,g=Math.trunc(p/12);return b<3?i.formatDistance("aboutXYears",g,l):b<9?i.formatDistance("overXYears",g,l):i.formatDistance("almostXYears",g+1,l)}}function Ul(e,t){return vje(e,wS(e),t)}function yje(e){return N3(e,wS(e))}function bje(e,t){return o0e(e,-t)}function jje(e){return N3(e,bje(wS(e),1))}function wje(){const{toast:e}=tt(),[t,r]=x.useState(null),[a,i]=x.useState(!1),{data:s,isLoading:o}=ue({queryKey:["/api/admin/meta/stats"],queryFn:()=>_e("/api/admin/meta/stats")}),{data:l,isLoading:c}=ue({queryKey:["/api/admin/meta/trending"],queryFn:()=>_e("/api/admin/meta/trending")}),{data:d,isLoading:u,refetch:f}=ue({queryKey:["/api/admin/meta/priorities"],queryFn:()=>_e("/api/admin/meta/priorities")}),{data:h,isLoading:p}=ue({queryKey:["/api/admin/meta/requests"],queryFn:()=>_e("/api/admin/meta/requests")}),b=async v=>{r(v);try{const m=await _e("/api/admin/meta/curate","POST",{technique:v,maxResults:10});m.success&&(e({title:"Curation Started",description:`Found ${m.curatedCount} videos for ${v}`}),f())}catch(m){e({title:"Curation Failed",description:m.message,variant:"destructive"})}finally{r(null)}},g=async()=>{i(!0);try{await _e("/api/admin/meta/analyze","POST"),e({title:"Analysis Started",description:"Meta analysis running in background"})}catch(v){e({title:"Analysis Failed",description:v.message,variant:"destructive"})}finally{i(!1)}},y=v=>{const m={hot:{variant:"destructive",icon:sr,label:"HOT"},rising:{variant:"default",icon:sr,label:"RISING"},cooling:{variant:"secondary",icon:h7,label:"COOLING"},stable:{variant:"outline",icon:Io,label:"STABLE"}},j=m[v]||m.stable,N=j.icon;return n.jsxs(ae,{variant:j.variant,className:"gap-1",children:[n.jsx(N,{className:"h-3 w-3"}),j.label]})};return n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Meta Insights Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Automated technique trend tracking and curation prioritization"})]}),n.jsxs(Y,{onClick:g,disabled:a,"data-testid":"button-run-analysis",children:[n.jsx(Io,{className:"mr-2 h-4 w-4"}),a?"Analyzing...":"Run Analysis"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Techniques Tracked"}),n.jsx(xn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-techniques-tracked",children:o?"...":(s==null?void 0:s.totalTechniquesTracked)||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"User Requests (7d)"}),n.jsx(Io,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-user-requests",children:o?"...":(s==null?void 0:s.userRequestsLast7Days)||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Need Curation"}),n.jsx(Tn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-needs-curation",children:o?"...":(s==null?void 0:s.techniquesNeedingCuration)||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Videos in Library"}),n.jsx(nf,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-videos",children:o?"...":(s==null?void 0:s.totalVideosInLibrary)||0})})]})]}),n.jsxs(sl,{defaultValue:"trending",className:"space-y-4",children:[n.jsxs(Zs,{children:[n.jsx(Zt,{value:"trending","data-testid":"tab-trending",children:"Trending Techniques"}),n.jsx(Zt,{value:"priorities","data-testid":"tab-priorities",children:"Curation Priorities"}),n.jsx(Zt,{value:"requests","data-testid":"tab-requests",children:"User Requests"})]}),n.jsx(er,{value:"trending",className:"space-y-4",children:n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Trending Techniques"}),n.jsx(Fe,{children:"Techniques with hot or rising meta status based on user requests and competition data"})]}),n.jsx(H,{children:c?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):((l==null?void 0:l.techniques.length)||0)===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No trending techniques yet"}):n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Technique"}),n.jsx(G,{children:"Status"}),n.jsx(G,{children:"Meta Score"}),n.jsx(G,{children:"User Score"}),n.jsx(G,{children:"Comp Score"}),n.jsx(G,{children:"Videos"}),n.jsx(G,{children:"Coverage"})]})}),n.jsx(kt,{children:l==null?void 0:l.techniques.map(v=>n.jsxs(we,{children:[n.jsx(V,{className:"font-medium capitalize",children:v.techniqueName}),n.jsx(V,{children:y(v.metaStatus)}),n.jsx(V,{children:Number(v.overallMetaScore).toFixed(1)}),n.jsx(V,{children:Number(v.userRequestScore).toFixed(1)}),n.jsx(V,{children:Number(v.competitionMetaScore).toFixed(1)}),n.jsx(V,{children:v.videosInLibrary}),n.jsx(V,{children:v.coverageAdequate?n.jsx(ae,{variant:"outline",children:"Adequate"}):n.jsx(ae,{variant:"secondary",children:"Needs More"})})]},v.techniqueName))})]})})]})}),n.jsx(er,{value:"priorities",className:"space-y-4",children:n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Curation Priorities"}),n.jsx(Fe,{children:"High-priority techniques needing video curation"})]}),n.jsx(H,{children:u?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):((d==null?void 0:d.priorities.length)||0)===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No priorities at the moment"}):n.jsx("div",{className:"space-y-4",children:d==null?void 0:d.priorities.map(v=>{var m;return n.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold capitalize text-lg",children:v.techniqueName}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Priority: ",v.curationPriority,"/10 | Meta Score: ",Number(v.overallMetaScore).toFixed(1)," | Videos: ",v.videosInLibrary]})]}),n.jsx(Y,{size:"sm",onClick:()=>b(v.techniqueName),disabled:t===v.techniqueName,"data-testid":`button-curate-${v.techniqueName}`,children:t===v.techniqueName?"Curating...":"Curate Now"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:(m=v.suggestedSearches)==null?void 0:m.map((j,N)=>n.jsx(ae,{variant:"outline",className:"text-xs",children:j},N))})]},v.techniqueName)})})})]})}),n.jsx(er,{value:"requests",className:"space-y-4",children:n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Recent User Technique Requests"}),n.jsx(Fe,{children:"Techniques users are asking about in chat"})]}),n.jsx(H,{children:p?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):((h==null?void 0:h.requests.length)||0)===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No requests yet"}):n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Technique"}),n.jsx(G,{children:"Type"}),n.jsx(G,{children:"Belt"}),n.jsx(G,{children:"Gi/NoGi"}),n.jsx(G,{children:"Context"}),n.jsx(G,{children:"When"})]})}),n.jsx(kt,{children:h==null?void 0:h.requests.slice(0,20).map(v=>n.jsxs(we,{children:[n.jsx(V,{className:"font-medium capitalize",children:v.techniqueMentioned}),n.jsx(V,{children:v.requestType?n.jsx(ae,{variant:"outline",children:v.requestType.replace("_"," ")}):"-"}),n.jsx(V,{children:v.beltLevel||"-"}),n.jsx(V,{children:v.giPreference||"-"}),n.jsx(V,{className:"max-w-md truncate text-sm text-muted-foreground",children:v.requestContext}),n.jsx(V,{className:"text-sm text-muted-foreground",children:Ul(new Date(v.requestedAt),{addSuffix:!0})})]},v.id))})]})})]})})]})]})})}function Nje(){const[e,t]=x.useState(""),[r,a]=x.useState(""),[i,s]=x.useState(!1),{toast:o}=tt(),l=qe({mutationFn:async u=>await _e("/api/admin/magic-link/generate",{method:"POST",body:{phoneNumber:u}}),onSuccess:u=>{a(u.magicLink),o({title:"Magic Link Generated!",description:`Link created for ${u.phoneNumber}. Expires in 7 days.`})},onError:u=>{o({title:"Error",description:u.message||"Failed to generate magic link",variant:"destructive"})}}),c=()=>{if(!e.trim()){o({title:"Phone Required",description:"Please enter a phone number",variant:"destructive"});return}a(""),s(!1),l.mutate(e)},d=async()=>{await navigator.clipboard.writeText(r),s(!0),o({title:"Copied!",description:"Magic link copied to clipboard"}),setTimeout(()=>s(!1),2e3)};return n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold",children:"Magic Link Generator"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Generate beta access links for testing"})]}),n.jsx(q,{className:"p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"phone-input",children:"Phone Number"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(be,{id:"phone-input",type:"tel",placeholder:"(914) 837-3750 or 9148373750",value:e,onChange:u=>t(u.target.value),onKeyDown:u=>u.key==="Enter"&&c(),disabled:l.isPending,"data-testid":"input-phone-number",className:"flex-1"}),n.jsx(Y,{onClick:c,disabled:l.isPending,"data-testid":"button-generate-link",children:l.isPending?n.jsx(n.Fragment,{children:"Generating..."}):n.jsxs(n.Fragment,{children:[n.jsx(Zz,{className:"w-4 h-4 mr-2"}),"Generate Link"]})})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Accepts formats: (914) 837-3750, 9148373750, +19148373750"})]}),r&&n.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[n.jsx(Ta,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:"Link Generated Successfully!"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Magic Link"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(be,{value:r,readOnly:!0,"data-testid":"text-magic-link",className:"font-mono text-sm"}),n.jsx(Y,{variant:"outline",size:"icon",onClick:d,"data-testid":"button-copy-link",children:i?n.jsx(Ta,{className:"w-4 h-4 text-green-600"}):n.jsx(Tp,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[n.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[n.jsx(Tc,{className:"w-4 h-4"}),"Next Steps"]}),n.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"Copy the link above"}),n.jsxs("li",{children:["Text it to the beta tester at ",e]}),n.jsx("li",{children:"They click the link  instant access + auto-login"}),n.jsx("li",{children:"Link expires after first use or 7 days"}),n.jsx("li",{children:"Grants lifetime access to the platform"})]})]})]})]})}),n.jsx(q,{className:"p-6 bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-900",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"How Magic Links Work"}),n.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-2",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"For Beta Launch:"})," No SMS verification needed - just magic links!"]}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[n.jsx("li",{children:"Generate a unique link for each beta tester"}),n.jsx("li",{children:"Text them the link personally"}),n.jsx("li",{children:"They click  auto-login with lifetime access"}),n.jsx("li",{children:"No phone verification codes needed"}),n.jsx("li",{children:"Full control over who gets access"})]})]})]})})]})})}var P3=["PageUp","PageDown"],E3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],T3={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Dd="Slider",[bw,Sje,kje]=wx(Dd),[O3,K1e]=vn(Dd,[kje]),[Cje,Mv]=O3(Dd),_3=x.forwardRef((e,t)=>{const{name:r,min:a=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[a],value:u,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:b,...g}=e,y=x.useRef(new Set),v=x.useRef(0),j=o==="horizontal"?Aje:Pje,[N=[],w]=Za({prop:u,defaultProp:d,onChange:I=>{var R;(R=[...y.current][v.current])==null||R.focus(),f(I)}}),S=x.useRef(N);function k(I){const P=Ije(N,I);O(I,P)}function C(I){O(I,v.current)}function A(){const I=S.current[v.current];N[v.current]!==I&&h(N)}function O(I,P,{commit:R}={commit:!1}){const $=Dje(s),E=Lje(Math.round((I-a)/s)*s+a,$),_=hf(E,[a,i]);w((M=[])=>{const T=Oje(M,_,P);if($je(T,c*s)){v.current=T.indexOf(_);const D=String(T)!==String(M);return D&&R&&h(T),D?T:M}else return M})}return n.jsx(Cje,{scope:e.__scopeSlider,name:r,disabled:l,min:a,max:i,valueIndexToChangeRef:v,thumbs:y.current,values:N,orientation:o,form:b,children:n.jsx(bw.Provider,{scope:e.__scopeSlider,children:n.jsx(bw.Slot,{scope:e.__scopeSlider,children:n.jsx(j,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:Ie(g.onPointerDown,()=>{l||(S.current=N)}),min:a,max:i,inverted:p,onSlideStart:l?void 0:k,onSlideMove:l?void 0:C,onSlideEnd:l?void 0:A,onHomeKeyDown:()=>!l&&O(a,0,{commit:!0}),onEndKeyDown:()=>!l&&O(i,N.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:P})=>{if(!l){const E=P3.includes(I.key)||I.shiftKey&&E3.includes(I.key)?10:1,_=v.current,M=N[_],T=s*E*P;O(M+T,_,{commit:!0})}}})})})})});_3.displayName=Dd;var[I3,R3]=O3(Dd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Aje=x.forwardRef((e,t)=>{const{min:r,max:a,dir:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...u}=e,[f,h]=x.useState(null),p=nt(t,j=>h(j)),b=x.useRef(void 0),g=yh(i),y=g==="ltr",v=y&&!s||!y&&s;function m(j){const N=b.current||f.getBoundingClientRect(),w=[0,N.width],k=NS(w,v?[r,a]:[a,r]);return b.current=N,k(j-N.left)}return n.jsx(I3,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:n.jsx(M3,{dir:g,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const N=m(j.clientX);o==null||o(N)},onSlideMove:j=>{const N=m(j.clientX);l==null||l(N)},onSlideEnd:()=>{b.current=void 0,c==null||c()},onStepKeyDown:j=>{const w=T3[v?"from-left":"from-right"].includes(j.key);d==null||d({event:j,direction:w?-1:1})}})})}),Pje=x.forwardRef((e,t)=>{const{min:r,max:a,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,u=x.useRef(null),f=nt(t,u),h=x.useRef(void 0),p=!i;function b(g){const y=h.current||u.current.getBoundingClientRect(),v=[0,y.height],j=NS(v,p?[a,r]:[r,a]);return h.current=y,j(g-y.top)}return n.jsx(I3,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:n.jsx(M3,{"data-orientation":"vertical",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=b(g.clientY);s==null||s(y)},onSlideMove:g=>{const y=b(g.clientY);o==null||o(y)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:g=>{const v=T3[p?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:v?-1:1})}})})}),M3=x.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:a,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,u=Mv(Dd,r);return n.jsx(Ue.span,{...d,ref:t,onKeyDown:Ie(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):P3.concat(E3).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Ie(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(h)?h.focus():a(f)}),onPointerMove:Ie(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:Ie(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),s(f))})})}),$3="SliderTrack",D3=x.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,i=Mv($3,r);return n.jsx(Ue.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...a,ref:t})});D3.displayName=$3;var jw="SliderRange",L3=x.forwardRef((e,t)=>{const{__scopeSlider:r,...a}=e,i=Mv(jw,r),s=R3(jw,r),o=x.useRef(null),l=nt(t,o),c=i.values.length,d=i.values.map(h=>B3(h,i.min,i.max)),u=c>1?Math.min(...d):0,f=100-Math.max(...d);return n.jsx(Ue.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...a,ref:l,style:{...e.style,[s.startEdge]:u+"%",[s.endEdge]:f+"%"}})});L3.displayName=jw;var ww="SliderThumb",F3=x.forwardRef((e,t)=>{const r=Sje(e.__scopeSlider),[a,i]=x.useState(null),s=nt(t,l=>i(l)),o=x.useMemo(()=>a?r().findIndex(l=>l.ref.current===a):-1,[r,a]);return n.jsx(Eje,{...e,ref:s,index:o})}),Eje=x.forwardRef((e,t)=>{const{__scopeSlider:r,index:a,name:i,...s}=e,o=Mv(ww,r),l=R3(ww,r),[c,d]=x.useState(null),u=nt(t,m=>d(m)),f=c?o.form||!!c.closest("form"):!0,h=_x(c),p=o.values[a],b=p===void 0?0:B3(p,o.min,o.max),g=_je(a,o.values.length),y=h==null?void 0:h[l.size],v=y?Rje(y,b,l.direction):0;return x.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${b}% + ${v}px)`},children:[n.jsx(bw.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(Ue.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:u,style:p===void 0?{display:"none"}:e.style,onFocus:Ie(e.onFocus,()=>{o.valueIndexToChangeRef.current=a})})}),f&&n.jsx(Tje,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},a)]})});F3.displayName=ww;var Tje=e=>{const{value:t,...r}=e,a=x.useRef(null),i=Ux(t);return x.useEffect(()=>{const s=a.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==t&&c){const d=new Event("input",{bubbles:!0});c.call(s,t),s.dispatchEvent(d)}},[i,t]),n.jsx("input",{style:{display:"none"},...r,ref:a,defaultValue:t})};function Oje(e=[],t,r){const a=[...e];return a[r]=t,a.sort((i,s)=>i-s)}function B3(e,t,r){const s=100/(r-t)*(e-t);return hf(s,[0,100])}function _je(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ije(e,t){if(e.length===1)return 0;const r=e.map(i=>Math.abs(i-t)),a=Math.min(...r);return r.indexOf(a)}function Rje(e,t,r){const a=e/2,s=NS([0,50],[0,a]);return(a-s(t)*r)*r}function Mje(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function $je(e,t){if(t>0){const r=Mje(e);return Math.min(...r)>=t}return!0}function NS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function Dje(e){return(String(e).split(".")[1]||"").length}function Lje(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var z3=_3,Fje=D3,Bje=L3,zje=F3;const Lu=x.forwardRef(({className:e,...t},r)=>n.jsxs(z3,{ref:r,className:je("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(Fje,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:n.jsx(Bje,{className:"absolute h-full bg-primary"})}),n.jsx(zje,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Lu.displayName=z3.displayName;function Uje(){var $;const{toast:e}=tt(),[t,r]=x.useState(""),[a,i]=x.useState("all"),[s,o]=x.useState("all"),[l,c]=x.useState(!1),[d,u]=x.useState(null),[f,h]=x.useState(!1),[p,b]=x.useState({feature_level:1,search_boost:0,recommendation_boost:0,homepage_featured:!1,partnership_status:"regular"}),{data:g}=ue({queryKey:["/api/admin/instructors/stats"],queryFn:()=>_e("/api/admin/instructors/stats")}),{data:y,isLoading:v}=ue({queryKey:["/api/admin/instructors",a,s],queryFn:async()=>{const E=new URLSearchParams;a&&a!=="all"&&E.append("tier",a),s==="needs_review"?E.append("needs_review","true"):s==="auto_discovered"&&E.append("auto_discovered","true");const _=`/api/admin/instructors?${E.toString()}`;return _e(_)}}),{data:m}=ue({queryKey:["/api/admin/instructors/balance-report"],queryFn:()=>_e("/api/admin/instructors/balance-report")}),j=qe({mutationFn:async E=>{if(!d)throw new Error("No instructor selected");return _e(`/api/admin/instructors/${d.id}`,"PATCH",E)},onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/instructors"]}),Pe.invalidateQueries({queryKey:["/api/admin/instructors/stats"]}),c(!1),e({title:"Promotion updated",description:"Instructor promotion settings saved successfully"})},onError:E=>{e({variant:"destructive",title:"Update failed",description:E.message})}}),N=qe({mutationFn:async E=>{if(!d)throw new Error("No instructor selected");return _e(`/api/admin/instructors/${d.id}/review`,"POST",E)},onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/instructors"]}),Pe.invalidateQueries({queryKey:["/api/admin/instructors/stats"]}),h(!1),e({title:"Review completed",description:"Instructor review saved successfully"})},onError:E=>{e({variant:"destructive",title:"Review failed",description:E.message})}}),w=E=>{u(E),b({feature_level:E.featureLevel||E.feature_level||1,search_boost:E.searchBoost||E.search_boost||0,recommendation_boost:E.recommendationBoost||E.recommendation_boost||0,homepage_featured:E.homepageFeatured||E.homepage_featured||!1,partnership_status:E.partnershipStatus||E.partnership_status||"regular"}),c(!0)},S=()=>{j.mutate(p)},k=E=>{u(E),h(!0)},C=(E,_,M)=>{N.mutate({approved:E,notes:_,tier:M})},A=(y==null?void 0:y.instructors)||[],O=(m==null?void 0:m.instructors)||[],I=A.filter(E=>!t||E.name.toLowerCase().includes(t.toLowerCase())),P=E=>{const _={1:{variant:"default",label:"Tier 1 - Elite"},2:{variant:"secondary",label:"Tier 2 - Established"},3:{variant:"outline",label:"Tier 3 - Unknown"}};return _[E]||_[3]},R=E=>{if(!E)return null;const _={regular:{variant:"outline",label:"Regular",icon:null},affiliate:{variant:"secondary",label:"Affiliate",icon:_s},active_partner:{variant:"default",label:"Partner",icon:Hr},featured_partner:{variant:"default",label:"Featured",icon:Ql},blacklisted:{variant:"destructive",label:"Blacklisted",icon:Tn}},{variant:M,label:T,icon:D}=_[E]||_.regular;return n.jsxs(ae,{variant:M,children:[D&&n.jsx(D,{className:"w-3 h-3 mr-1"}),T]})};return n.jsx(Ut,{children:n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Instructor Management"}),n.jsx("p",{className:"text-muted-foreground",children:"Auto-discovery, promotion controls, and balanced curation"})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-1 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Instructors"}),n.jsx(Ll,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total",children:(g==null?void 0:g.total)||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-1 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Needs Review"}),n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-needs-review",children:(g==null?void 0:g.needsReview)||(g==null?void 0:g.needs_review)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-discovered instructors"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-1 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Auto-Discovered"}),n.jsx(Ql,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-auto-discovered",children:(g==null?void 0:g.autoDiscovered)||(g==null?void 0:g.auto_discovered)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Found during curation"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-1 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Featured"}),n.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-featured",children:(g==null?void 0:g.featured)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Homepage featured"})]})]})]}),n.jsxs(sl,{defaultValue:"all",className:"space-y-4",children:[n.jsxs(Zs,{children:[n.jsx(Zt,{value:"all","data-testid":"tab-all",children:"All Instructors"}),n.jsxs(Zt,{value:"needs-review","data-testid":"tab-needs-review",children:["Needs Review ",((g==null?void 0:g.needsReview)||(g==null?void 0:g.needs_review))>0&&`(${(g==null?void 0:g.needsReview)||(g==null?void 0:g.needs_review)})`]}),n.jsx(Zt,{value:"balance","data-testid":"tab-balance",children:"Balanced Curation"})]}),n.jsxs(er,{value:"all",className:"space-y-4",children:[n.jsx(q,{children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(xn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),n.jsx(be,{placeholder:"Search instructors...",value:t,onChange:E=>r(E.target.value),className:"pl-10","data-testid":"input-search"})]}),n.jsxs(Xe,{value:a,onValueChange:i,children:[n.jsx(Ye,{"data-testid":"select-tier-filter",children:n.jsx(Je,{placeholder:"All Tiers"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Tiers"}),n.jsx(K,{value:"1",children:"Tier 1 - Elite"}),n.jsx(K,{value:"2",children:"Tier 2 - Established"}),n.jsx(K,{value:"3",children:"Tier 3 - Unknown"})]})]}),n.jsxs(Xe,{value:s,onValueChange:o,children:[n.jsx(Ye,{"data-testid":"select-review-filter",children:n.jsx(Je,{placeholder:"All Status"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:"needs_review",children:"Needs Review"}),n.jsx(K,{value:"auto_discovered",children:"Auto-Discovered"})]})]})]})})}),v?n.jsx("div",{className:"text-center py-12",children:n.jsx("p",{className:"text-muted-foreground",children:"Loading instructors..."})}):I.length===0?n.jsx(q,{children:n.jsx(H,{className:"py-12",children:n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-muted-foreground",children:"No instructors found"})})})}):n.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:I.map(E=>n.jsxs(q,{className:"hover-elevate","data-testid":`card-instructor-${E.id}`,children:[n.jsx(X,{children:n.jsx("div",{className:"flex items-start justify-between gap-2",children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(J,{className:"text-lg",children:E.name}),(E.autoDiscovered||E.auto_discovered)&&n.jsxs(ae,{variant:"secondary",className:"shrink-0",children:[n.jsx(Ql,{className:"w-3 h-3 mr-1"}),"Auto"]}),(E.needsAdminReview||E.needs_admin_review)&&n.jsxs(ae,{variant:"destructive",className:"shrink-0",children:[n.jsx(Tn,{className:"w-3 h-3 mr-1"}),"Review"]})]}),n.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[P(E.tier)&&n.jsx(ae,{variant:P(E.tier).variant,children:P(E.tier).label}),R(E.partnershipStatus||E.partnership_status)]})]})})}),n.jsxs(H,{className:"space-y-3",children:[(E.autoDiscovered||E.auto_discovered)&&n.jsxs("div",{className:"p-2 bg-muted rounded-md text-sm",children:[n.jsx("p",{className:"font-medium",children:"Discovery Info"}),n.jsxs("p",{className:"text-muted-foreground text-xs",children:["Source: ",E.discoverySource||E.discovery_source||"Unknown"]}),(E.autoTierAssignment||E.auto_tier_assignment)&&n.jsxs("p",{className:"text-muted-foreground text-xs",children:["AI Suggested: ",E.autoTierAssignment||E.auto_tier_assignment]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Feature Level"}),n.jsxs("p",{className:"font-medium",children:[E.featureLevel||E.feature_level||1,"/5 "]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Search Boost"}),n.jsxs("p",{className:"font-medium",children:[E.searchBoost||E.search_boost||0,"%"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Rec. Boost"}),n.jsxs("p",{className:"font-medium",children:[E.recommendationBoost||E.recommendation_boost||0,"%"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Homepage"}),n.jsx("p",{className:"font-medium",children:E.homepageFeatured||E.homepage_featured?"":""})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Videos"}),n.jsx("p",{className:"font-medium",children:E.videosInLibrary||E.videos_in_library||0})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-muted-foreground",children:"Recommendations"}),n.jsx("p",{className:"font-medium",children:E.totalRecommendations||E.total_recommendations||0})]})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[(E.needsAdminReview||E.needs_admin_review)&&n.jsxs(Y,{size:"sm",variant:"default",className:"flex-1",onClick:()=>k(E),"data-testid":`button-review-${E.id}`,children:[n.jsx(hk,{className:"w-4 h-4 mr-1"}),"Review"]}),n.jsxs(Y,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>w(E),"data-testid":`button-promote-${E.id}`,children:[n.jsx(vd,{className:"w-4 h-4 mr-1"}),"Promote"]})]})]})]},E.id))})]}),n.jsx(er,{value:"needs-review",className:"space-y-4",children:n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Instructors Pending Review"}),n.jsx(Fe,{children:"Auto-discovered instructors that need admin approval before being added to the library"})]}),n.jsx(H,{children:A.filter(E=>E.needsAdminReview||E.needs_admin_review).length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No instructors pending review"}):n.jsx("div",{className:"space-y-4",children:A.filter(E=>E.needsAdminReview||E.needs_admin_review).map(E=>n.jsxs("div",{className:"p-4 border rounded-lg space-y-2","data-testid":`review-card-${E.id}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold",children:E.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Discovered via ",E.discoverySource||E.discovery_source||"Unknown"]})]}),n.jsxs(Y,{size:"sm",onClick:()=>k(E),"data-testid":`button-review-${E.id}`,children:[n.jsx(hk,{className:"w-4 h-4 mr-1"}),"Review"]})]}),(E.autoTierReason||E.auto_tier_reason)&&n.jsxs("p",{className:"text-sm bg-muted p-2 rounded",children:[n.jsx("strong",{children:"AI Reasoning:"})," ",E.autoTierReason||E.auto_tier_reason]})]},E.id))})})]})}),n.jsx(er,{value:"balance",className:"space-y-4",children:n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Balanced Curation Report"}),n.jsx(Fe,{children:"Instructors sorted by representation ratio to ensure balanced recommendations across the library"})]}),n.jsx(H,{children:O.length===0?n.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No balance data available"}):n.jsx("div",{className:"space-y-2",children:O.map(E=>{const _=E.videosInLibrary||E.videos_in_library||0,M=E.totalRecommendations||E.total_recommendations||0,T=E.representationRatio||E.representation_ratio||0;return n.jsxs("div",{className:"flex items-center justify-between p-3 border rounded hover-elevate",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:E.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tier ",E.tier,"  ",_," videos  ",M," recommendations"]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium",children:["Ratio: ",(T==null?void 0:T.toFixed(2))||"0.00"]}),n.jsx(ae,{variant:T<1?"destructive":T<2?"secondary":"default",children:T<1?"Underrepresented":T<2?"Balanced":"Overrepresented"})]})]},E.id)})})})]})})]}),n.jsx(Ar,{open:l,onOpenChange:c,children:n.jsxs(yr,{className:"max-w-2xl",children:[n.jsxs(br,{children:[n.jsxs(jr,{children:["Promotion Controls: ",d==null?void 0:d.name]}),n.jsx(nn,{children:"Configure search boosts, recommendation priority, and homepage featuring"})]}),n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Feature Level (1-5 stars)"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Lu,{value:[p.feature_level],onValueChange:E=>b({...p,feature_level:E[0]}),min:1,max:5,step:1,className:"flex-1","data-testid":"slider-feature-level"}),n.jsxs("span",{className:"text-sm font-medium w-8",children:[p.feature_level,"/5"]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Higher feature levels prioritize this instructor in recommendations"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Search Boost (0-100%)"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Lu,{value:[p.search_boost],onValueChange:E=>b({...p,search_boost:E[0]}),min:0,max:100,step:5,className:"flex-1","data-testid":"slider-search-boost"}),n.jsxs("span",{className:"text-sm font-medium w-12",children:[p.search_boost,"%"]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentage boost applied to search ranking scores"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Recommendation Boost (0-100%)"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(Lu,{value:[p.recommendation_boost],onValueChange:E=>b({...p,recommendation_boost:E[0]}),min:0,max:100,step:5,className:"flex-1","data-testid":"slider-recommendation-boost"}),n.jsxs("span",{className:"text-sm font-medium w-12",children:[p.recommendation_boost,"%"]})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentage boost applied to recommendation algorithm"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Sa,{id:"homepage_featured",checked:p.homepage_featured,onCheckedChange:E=>b({...p,homepage_featured:E}),"data-testid":"checkbox-homepage-featured"}),n.jsx(le,{htmlFor:"homepage_featured",className:"cursor-pointer",children:'Show in "Featured Instructors" section on homepage'})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Partnership Status"}),n.jsxs(Xe,{value:p.partnership_status,onValueChange:E=>b({...p,partnership_status:E}),children:[n.jsx(Ye,{"data-testid":"select-partnership-status",children:n.jsx(Je,{})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"regular",children:"Regular"}),n.jsx(K,{value:"affiliate",children:"Affiliate"}),n.jsx(K,{value:"active_partner",children:"Active Partner"}),n.jsx(K,{value:"featured_partner",children:"Featured Partner"}),n.jsx(K,{value:"blacklisted",children:"Blacklisted"})]})]})]})]}),n.jsxs(Hs,{children:[n.jsx(Y,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),n.jsx(Y,{onClick:S,disabled:j.isPending,"data-testid":"button-save-promotion",children:j.isPending?"Saving...":"Save Changes"})]})]})}),n.jsx(Ar,{open:f,onOpenChange:h,children:n.jsxs(yr,{children:[n.jsxs(br,{children:[n.jsxs(jr,{children:["Review Instructor: ",d==null?void 0:d.name]}),n.jsx(nn,{children:"Approve or reject this auto-discovered instructor"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[((d==null?void 0:d.autoTierAssignment)||(d==null?void 0:d.auto_tier_assignment))&&n.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium",children:"AI Suggested Tier"}),n.jsx("p",{className:"text-sm",children:d.autoTierAssignment||d.auto_tier_assignment}),(d.autoTierReason||d.auto_tier_reason)&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.autoTierReason||d.auto_tier_reason})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"review-notes",children:"Review Notes"}),n.jsx(ti,{id:"review-notes",placeholder:"Add notes about this instructor...","data-testid":"textarea-review-notes"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Assign Tier"}),n.jsxs(Xe,{defaultValue:(($=d==null?void 0:d.tier)==null?void 0:$.toString())||"2",children:[n.jsx(Ye,{"data-testid":"select-review-tier",children:n.jsx(Je,{})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"1",children:"Tier 1 - Elite"}),n.jsx(K,{value:"2",children:"Tier 2 - Established"}),n.jsx(K,{value:"3",children:"Tier 3 - Unknown"})]})]})]})]}),n.jsxs(Hs,{className:"flex gap-2",children:[n.jsx(Y,{variant:"outline",onClick:()=>{var _;const E=((_=document.getElementById("review-notes"))==null?void 0:_.value)||"";C(!1,E)},"data-testid":"button-reject",children:"Reject"}),n.jsx(Y,{onClick:()=>{var T;const E=((T=document.getElementById("review-notes"))==null?void 0:T.value)||"",_=document.querySelector('[data-testid="select-review-tier"]'),M=parseInt((_==null?void 0:_.value)||"2");C(!0,E,M)},disabled:N.isPending,"data-testid":"button-approve",children:N.isPending?"Approving...":"Approve"})]})]})})]})})}function Vje(){const{toast:e}=tt(),[t,r]=x.useState("all"),[a,i]=x.useState("all"),[s,o]=x.useState(""),[l,c]=x.useState(!1),[d,u]=x.useState(null),[f,h]=x.useState(!1),[p,b]=x.useState(null),{data:g=[],isLoading:y}=ue({queryKey:["/api/admin/partnerships",t,a],queryFn:async()=>{const C=new URLSearchParams;return t!=="all"&&C.append("feature_level",t),a!=="all"&&C.append("is_active",a),_e(`/api/admin/partnerships?${C}`)}}),{data:v=[]}=ue({queryKey:["/api/admin/instructors/all"],queryFn:async()=>(await _e("/api/admin/instructors")).instructors||[]}),{data:m}=ue({queryKey:["/api/admin/partnerships/stats"],queryFn:()=>_e("/api/admin/partnerships/stats")}),j=qe({mutationFn:async C=>d?_e(`/api/admin/partnerships/${d.id}`,"PATCH",C):_e("/api/admin/partnerships","POST",C),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/partnerships"]}),Pe.invalidateQueries({queryKey:["/api/admin/partnerships/stats"]}),c(!1),u(null),e({title:d?"Partnership updated":"Partnership created",description:"Changes saved successfully"})},onError:C=>{e({title:"Error",description:C.message||"Failed to save partnership",variant:"destructive"})}}),N=qe({mutationFn:C=>_e(`/api/admin/partnerships/${C}`,"DELETE"),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/partnerships"]}),Pe.invalidateQueries({queryKey:["/api/admin/partnerships/stats"]}),h(!1),b(null),e({title:"Partnership deleted",description:"Partnership removed successfully"})},onError:C=>{e({title:"Error",description:C.message||"Failed to delete partnership",variant:"destructive"})}}),w=C=>{C.preventDefault();const A=new FormData(C.currentTarget),O={instructor_id:A.get("instructor_id"),feature_level:A.get("feature_level"),search_priority_percentage:parseInt(A.get("search_priority_percentage")),recommendation_boost_percentage:parseInt(A.get("recommendation_boost_percentage")),show_badge:A.get("show_badge")==="on",show_name_callout:A.get("show_name_callout")==="on",custom_callout_text:A.get("custom_callout_text")||null,start_date:A.get("start_date"),end_date:A.get("end_date")||null,is_active:A.get("is_active")==="on",partnership_type:A.get("partnership_type")||null,partnership_agreement:A.get("partnership_agreement")||null,social_post_completed:A.get("social_post_completed")==="on",social_post_date:A.get("social_post_date")||null,link_in_bio_until:A.get("link_in_bio_until")||null,partnership_notes:A.get("partnership_notes")||null};j.mutate(O)},S=g.filter(C=>{var A;return!(s&&!((A=C.instructorName)!=null&&A.toLowerCase().includes(s.toLowerCase())))}),k=C=>{const A={primary:{variant:"default",icon:Hr,label:"Primary"},secondary:{variant:"secondary",icon:_s,label:"Secondary"},spotlight:{variant:"outline",icon:sr,label:"Spotlight"}},{variant:O,icon:I,label:P}=A[C]||A.secondary;return n.jsxs(ae,{variant:O,className:"gap-1",children:[n.jsx(I,{className:"w-3 h-3"}),P]})};return n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Instructor Partnerships"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage featured instructor partnerships and promotional agreements"})]}),n.jsxs(Y,{onClick:()=>{u(null),c(!0)},"data-testid":"button-create-partnership",children:[n.jsx(P1,{className:"w-4 h-4 mr-2"}),"Add Partnership"]})]}),m&&n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Partnerships"}),n.jsx(_s,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total",children:m.total||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Active Partnerships"}),n.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-active",children:m.active||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Primary Features"}),n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-primary",children:m.primaryCount||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Social Posts"}),n.jsx(_s,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-social",children:m.socialPostsCompleted||0})})]})]}),n.jsxs(q,{children:[n.jsx(X,{children:n.jsx(J,{children:"Filters"})}),n.jsxs(H,{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(le,{children:"Search"}),n.jsx(be,{placeholder:"Search instructor name...",value:s,onChange:C=>o(C.target.value),"data-testid":"input-search"})]}),n.jsxs("div",{className:"w-48",children:[n.jsx(le,{children:"Feature Level"}),n.jsxs(Xe,{value:t,onValueChange:r,children:[n.jsx(Ye,{"data-testid":"select-filter-level",children:n.jsx(Je,{})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Levels"}),n.jsx(K,{value:"primary",children:"Primary"}),n.jsx(K,{value:"secondary",children:"Secondary"}),n.jsx(K,{value:"spotlight",children:"Spotlight"})]})]})]}),n.jsxs("div",{className:"w-48",children:[n.jsx(le,{children:"Status"}),n.jsxs(Xe,{value:a,onValueChange:i,children:[n.jsx(Ye,{"data-testid":"select-filter-active",children:n.jsx(Je,{})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:"true",children:"Active"}),n.jsx(K,{value:"false",children:"Inactive"})]})]})]})]})]}),n.jsx(q,{children:n.jsx(H,{className:"p-0",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Instructor"}),n.jsx(G,{children:"Feature Level"}),n.jsx(G,{children:"Search Boost"}),n.jsx(G,{children:"Rec. Boost"}),n.jsx(G,{children:"Status"}),n.jsx(G,{children:"Partnership Type"}),n.jsx(G,{children:"Social Post"}),n.jsx(G,{children:"Recommendations"}),n.jsx(G,{className:"text-right",children:"Actions"})]})}),n.jsx(kt,{children:y?n.jsx(we,{children:n.jsx(V,{colSpan:9,className:"text-center",children:"Loading..."})}):S.length===0?n.jsx(we,{children:n.jsx(V,{colSpan:9,className:"text-center",children:"No partnerships found"})}):S.map(C=>n.jsxs(we,{"data-testid":`row-partnership-${C.id}`,children:[n.jsx(V,{className:"font-medium",children:C.instructorName||"Unknown"}),n.jsx(V,{children:k(C.featureLevel)}),n.jsxs(V,{children:[C.searchPriorityPercentage,"%"]}),n.jsxs(V,{children:[C.recommendationBoostPercentage,"%"]}),n.jsx(V,{children:n.jsx(ae,{variant:C.isActive?"default":"secondary",children:C.isActive?"Active":"Inactive"})}),n.jsx(V,{children:C.partnershipType?n.jsx(ae,{variant:"outline",children:C.partnershipType}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(V,{children:C.socialPostCompleted?n.jsx(ae,{variant:"default",children:" Done"}):n.jsx(ae,{variant:"secondary",children:"Pending"})}),n.jsx(V,{children:C.totalRecommendations.toLocaleString()}),n.jsx(V,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>{u(C),c(!0)},"data-testid":`button-edit-${C.id}`,children:n.jsx(oI,{className:"w-4 h-4"})}),n.jsx(Y,{variant:"ghost",size:"icon",onClick:()=>{b(C.id),h(!0)},"data-testid":`button-delete-${C.id}`,children:n.jsx(al,{className:"w-4 h-4"})})]})})]},C.id))})]})})}),n.jsx(Ar,{open:l,onOpenChange:c,children:n.jsx(yr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:n.jsxs("form",{onSubmit:w,children:[n.jsxs(br,{children:[n.jsx(jr,{children:d?"Edit Partnership":"Create Partnership"}),n.jsx(nn,{children:"Configure featured instructor partnership settings"})]}),n.jsxs("div",{className:"grid gap-4 py-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"instructor_id",children:"Instructor *"}),n.jsxs(Xe,{name:"instructor_id",defaultValue:d==null?void 0:d.instructorId,required:!0,disabled:!!d,children:[n.jsx(Ye,{"data-testid":"input-instructor",children:n.jsx(Je,{placeholder:"Select instructor"})}),n.jsx(Qe,{children:v.map(C=>n.jsxs(K,{value:C.id,children:[C.name," (Tier ",C.tier,")"]},C.id))})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"feature_level",children:"Feature Level *"}),n.jsxs(Xe,{name:"feature_level",defaultValue:(d==null?void 0:d.featureLevel)||"secondary",required:!0,children:[n.jsx(Ye,{"data-testid":"input-feature-level",children:n.jsx(Je,{})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"primary",children:"Primary"}),n.jsx(K,{value:"secondary",children:"Secondary"}),n.jsx(K,{value:"spotlight",children:"Spotlight"})]})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"search_priority_percentage",children:"Search Priority %"}),n.jsx(be,{id:"search_priority_percentage",name:"search_priority_percentage",type:"number",min:"0",max:"100",defaultValue:(d==null?void 0:d.searchPriorityPercentage)||10,required:!0,"data-testid":"input-search-priority"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"recommendation_boost_percentage",children:"Rec. Boost %"}),n.jsx(be,{id:"recommendation_boost_percentage",name:"recommendation_boost_percentage",type:"number",min:"0",max:"100",defaultValue:(d==null?void 0:d.recommendationBoostPercentage)||30,required:!0,"data-testid":"input-recommendation-boost"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Sa,{id:"show_badge",name:"show_badge",defaultChecked:(d==null?void 0:d.showBadge)??!0,"data-testid":"input-show-badge"}),n.jsx(le,{htmlFor:"show_badge",children:"Show Badge"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Sa,{id:"show_name_callout",name:"show_name_callout",defaultChecked:(d==null?void 0:d.showNameCallout)??!0,"data-testid":"input-show-callout"}),n.jsx(le,{htmlFor:"show_name_callout",children:"Show Name Callout"})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"custom_callout_text",children:"Custom Callout Text"}),n.jsx(be,{id:"custom_callout_text",name:"custom_callout_text",placeholder:"e.g., 'Your instructor' or 'Elite competitor'",defaultValue:(d==null?void 0:d.customCalloutText)||"","data-testid":"input-callout-text"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"start_date",children:"Start Date *"}),n.jsx(be,{id:"start_date",name:"start_date",type:"date",defaultValue:(d==null?void 0:d.startDate)||new Date().toISOString().split("T")[0],required:!0,"data-testid":"input-start-date"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"end_date",children:"End Date (optional)"}),n.jsx(be,{id:"end_date",name:"end_date",type:"date",defaultValue:(d==null?void 0:d.endDate)||"","data-testid":"input-end-date"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Sa,{id:"is_active",name:"is_active",defaultChecked:(d==null?void 0:d.isActive)??!0,"data-testid":"input-is-active"}),n.jsx(le,{htmlFor:"is_active",children:"Active"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"partnership_type",children:"Partnership Type"}),n.jsxs(Xe,{name:"partnership_type",defaultValue:(d==null?void 0:d.partnershipType)||"",children:[n.jsx(Ye,{"data-testid":"input-partnership-type",children:n.jsx(Je,{placeholder:"Select type"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"",children:"None"}),n.jsx(K,{value:"co_founder",children:"Co-Founder"}),n.jsx(K,{value:"promotional",children:"Promotional"}),n.jsx(K,{value:"standard",children:"Standard"})]})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"social_post_date",children:"Social Post Date"}),n.jsx(be,{id:"social_post_date",name:"social_post_date",type:"date",defaultValue:(d==null?void 0:d.socialPostDate)||"","data-testid":"input-social-post-date"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Sa,{id:"social_post_completed",name:"social_post_completed",defaultChecked:(d==null?void 0:d.socialPostCompleted)||!1,"data-testid":"input-social-completed"}),n.jsx(le,{htmlFor:"social_post_completed",children:"Social Post Completed"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"link_in_bio_until",children:"Link in Bio Until"}),n.jsx(be,{id:"link_in_bio_until",name:"link_in_bio_until",type:"date",defaultValue:(d==null?void 0:d.linkInBioUntil)||"","data-testid":"input-link-bio-until"})]})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"partnership_agreement",children:"Partnership Agreement"}),n.jsx(ti,{id:"partnership_agreement",name:"partnership_agreement",placeholder:"Partnership agreement details...",defaultValue:(d==null?void 0:d.partnershipAgreement)||"","data-testid":"input-agreement"})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(le,{htmlFor:"partnership_notes",children:"Notes"}),n.jsx(ti,{id:"partnership_notes",name:"partnership_notes",placeholder:"Additional notes...",defaultValue:(d==null?void 0:d.partnershipNotes)||"","data-testid":"input-notes"})]})]}),n.jsxs(Hs,{children:[n.jsx(Y,{type:"button",variant:"outline",onClick:()=>c(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsx(Y,{type:"submit",disabled:j.isPending,"data-testid":"button-save",children:j.isPending?"Saving...":"Save Partnership"})]})]})})}),n.jsx(Ar,{open:f,onOpenChange:h,children:n.jsxs(yr,{children:[n.jsxs(br,{children:[n.jsx(jr,{children:"Delete Partnership"}),n.jsx(nn,{children:"Are you sure you want to delete this partnership? This action cannot be undone."})]}),n.jsxs(Hs,{children:[n.jsx(Y,{variant:"outline",onClick:()=>h(!1),"data-testid":"button-cancel-delete",children:"Cancel"}),n.jsx(Y,{variant:"destructive",onClick:()=>p&&N.mutate(p),disabled:N.isPending,"data-testid":"button-confirm-delete",children:N.isPending?"Deleting...":"Delete"})]})]})})]})})}var qje="Separator",wT="horizontal",Wje=["horizontal","vertical"],U3=x.forwardRef((e,t)=>{const{decorative:r,orientation:a=wT,...i}=e,s=Hje(a)?a:wT,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return n.jsx(Ue.div,{"data-orientation":s,...l,...i,ref:t})});U3.displayName=qje;function Hje(e){return Wje.includes(e)}var V3=U3;const np=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},i)=>n.jsx(V3,{ref:i,decorative:r,orientation:t,className:je("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));np.displayName=V3.displayName;function Kje(e,t){return x.useReducer((r,a)=>t[r][a]??r,e)}var SS="ScrollArea",[q3,G1e]=vn(SS),[Gje,sa]=q3(SS),W3=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:i,scrollHideDelay:s=600,...o}=e,[l,c]=x.useState(null),[d,u]=x.useState(null),[f,h]=x.useState(null),[p,b]=x.useState(null),[g,y]=x.useState(null),[v,m]=x.useState(0),[j,N]=x.useState(0),[w,S]=x.useState(!1),[k,C]=x.useState(!1),A=nt(t,I=>c(I)),O=yh(i);return n.jsx(Gje,{scope:r,type:a,dir:O,scrollHideDelay:s,scrollArea:l,viewport:d,onViewportChange:u,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:b,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:k,onScrollbarYEnabledChange:C,onCornerWidthChange:m,onCornerHeightChange:N,children:n.jsx(Ue.div,{dir:O,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});W3.displayName=SS;var H3="ScrollAreaViewport",K3=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:i,...s}=e,o=sa(H3,r),l=x.useRef(null),c=nt(t,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),n.jsx(Ue.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});K3.displayName=H3;var si="ScrollAreaScrollbar",kS=x.forwardRef((e,t)=>{const{forceMount:r,...a}=e,i=sa(si,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return x.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),i.type==="hover"?n.jsx(Yje,{...a,ref:t,forceMount:r}):i.type==="scroll"?n.jsx(Qje,{...a,ref:t,forceMount:r}):i.type==="auto"?n.jsx(G3,{...a,ref:t,forceMount:r}):i.type==="always"?n.jsx(CS,{...a,ref:t}):null});kS.displayName=si;var Yje=x.forwardRef((e,t)=>{const{forceMount:r,...a}=e,i=sa(si,e.__scopeScrollArea),[s,o]=x.useState(!1);return x.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},u=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),n.jsx(ra,{present:r||s,children:n.jsx(G3,{"data-state":s?"visible":"hidden",...a,ref:t})})}),Qje=x.forwardRef((e,t)=>{const{forceMount:r,...a}=e,i=sa(si,e.__scopeScrollArea),s=e.orientation==="horizontal",o=Dv(()=>c("SCROLL_END"),100),[l,c]=Kje("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,i.scrollHideDelay,c]),x.useEffect(()=>{const d=i.viewport,u=s?"scrollLeft":"scrollTop";if(d){let f=d[u];const h=()=>{const p=d[u];f!==p&&(c("SCROLL"),o()),f=p};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[i.viewport,s,c,o]),n.jsx(ra,{present:r||l!=="hidden",children:n.jsx(CS,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:Ie(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ie(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),G3=x.forwardRef((e,t)=>{const r=sa(si,e.__scopeScrollArea),{forceMount:a,...i}=e,[s,o]=x.useState(!1),l=e.orientation==="horizontal",c=Dv(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?d:u)}},10);return cd(r.viewport,c),cd(r.content,c),n.jsx(ra,{present:a||s,children:n.jsx(CS,{"data-state":s?"visible":"hidden",...i,ref:t})})}),CS=x.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,i=sa(si,e.__scopeScrollArea),s=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Z3(l.viewport,l.content),u={...a,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return rwe(h,o.current,l,p)}return r==="horizontal"?n.jsx(Xje,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,p=NT(h,l,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?n.jsx(Jje,{...u,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,p=NT(h,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),Xje=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...i}=e,s=sa(si,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=nt(t,c,s.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(Q3,{"data-orientation":"horizontal",...i,ref:d,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$v(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),tF(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&a({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:tx(o.paddingLeft),paddingEnd:tx(o.paddingRight)}})}})}),Jje=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...i}=e,s=sa(si,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),d=nt(t,c,s.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),n.jsx(Q3,{"data-orientation":"vertical",...i,ref:d,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$v(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),tF(h,f)&&u.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&a({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:tx(o.paddingTop),paddingEnd:tx(o.paddingBottom)}})}})}),[Zje,Y3]=q3(si),Q3=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...h}=e,p=sa(si,r),[b,g]=x.useState(null),y=nt(t,A=>g(A)),v=x.useRef(null),m=x.useRef(""),j=p.viewport,N=a.content-a.viewport,w=nr(u),S=nr(c),k=Dv(f,10);function C(A){if(v.current){const O=A.clientX-v.current.left,I=A.clientY-v.current.top;d({x:O,y:I})}}return x.useEffect(()=>{const A=O=>{const I=O.target;(b==null?void 0:b.contains(I))&&w(O,N)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[j,b,N,w]),x.useEffect(S,[a,S]),cd(b,k),cd(p.content,k),n.jsx(Zje,{scope:r,scrollbar:b,hasThumb:i,onThumbChange:nr(s),onThumbPointerUp:nr(o),onThumbPositionChange:S,onThumbPointerDown:nr(l),children:n.jsx(Ue.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Ie(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),v.current=b.getBoundingClientRect(),m.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:Ie(e.onPointerMove,C),onPointerUp:Ie(e.onPointerUp,A=>{const O=A.target;O.hasPointerCapture(A.pointerId)&&O.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=m.current,p.viewport&&(p.viewport.style.scrollBehavior=""),v.current=null})})})}),ex="ScrollAreaThumb",X3=x.forwardRef((e,t)=>{const{forceMount:r,...a}=e,i=Y3(ex,e.__scopeScrollArea);return n.jsx(ra,{present:r||i.hasThumb,children:n.jsx(ewe,{ref:t,...a})})}),ewe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...i}=e,s=sa(ex,r),o=Y3(ex,r),{onThumbPositionChange:l}=o,c=nt(t,f=>o.onThumbChange(f)),d=x.useRef(void 0),u=Dv(()=>{d.current&&(d.current(),d.current=void 0)},100);return x.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(u(),!d.current){const p=nwe(f,l);d.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,u,l]),n.jsx(Ue.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:Ie(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),b=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:b,y:g})}),onPointerUp:Ie(e.onPointerUp,o.onThumbPointerUp)})});X3.displayName=ex;var AS="ScrollAreaCorner",J3=x.forwardRef((e,t)=>{const r=sa(AS,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?n.jsx(twe,{...e,ref:t}):null});J3.displayName=AS;var twe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,i=sa(AS,r),[s,o]=x.useState(0),[l,c]=x.useState(0),d=!!(s&&l);return cd(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),c(u)}),cd(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),d?n.jsx(Ue.div,{...a,ref:t,style:{width:s,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function tx(e){return e?parseInt(e,10):0}function Z3(e,t){const r=e/t;return isNaN(r)?0:r}function $v(e){const t=Z3(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function rwe(e,t,r,a="ltr"){const i=$v(r),s=i/2,o=t||s,l=i-o,c=r.scrollbar.paddingStart+o,d=r.scrollbar.size-r.scrollbar.paddingEnd-l,u=r.content-r.viewport,f=a==="ltr"?[0,u]:[u*-1,0];return eF([c,d],f)(e)}function NT(e,t,r="ltr"){const a=$v(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,l=s-a,c=r==="ltr"?[0,o]:[o*-1,0],d=hf(e,c);return eF([0,o],[0,l])(d)}function eF(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function tF(e,t){return e>0&&e<t}var nwe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=r.left!==s.left,l=r.top!==s.top;(o||l)&&t(),r=s,a=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(a)};function Dv(e,t){const r=nr(e),a=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),x.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function cd(e,t){const r=nr(t);$r(()=>{let a=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(a),i.unobserve(e)}}},[e,r])}var rF=W3,awe=K3,iwe=J3;const PS=x.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(rF,{ref:a,className:je("relative overflow-hidden",e),...r,children:[n.jsx(awe,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(nF,{}),n.jsx(iwe,{})]}));PS.displayName=rF.displayName;const nF=x.forwardRef(({className:e,orientation:t="vertical",...r},a)=>n.jsx(kS,{ref:a,orientation:t,className:je("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(X3,{className:"relative flex-1 rounded-full bg-border"})}));nF.displayName=kS.displayName;function swe(){var y,v;const[e,t]=x.useState(null),[r,a]=x.useState("all"),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,d]=x.useState(""),{data:u}=ue({queryKey:["/api/admin/chains/stats"],queryFn:()=>_e("/api/admin/chains/stats")}),{data:f=[],isLoading:h}=ue({queryKey:["/api/chains",r,i,o],queryFn:async()=>{const m=new URLSearchParams({limit:"100"});return r!=="all"&&m.append("position",r),i!=="all"&&m.append("difficulty",i),o!=="all"&&m.append("category",o),_e(`/api/chains?${m}`)}}),p=f.filter(m=>{var j;return m.name.toLowerCase().includes(c.toLowerCase())||((j=m.description)==null?void 0:j.toLowerCase().includes(c.toLowerCase()))}),b=m=>({white:"outline",blue:"default",purple:"default",brown:"secondary",black:"secondary"})[m]||"outline",g=m=>({beginner:"outline",intermediate:"default",advanced:"secondary"})[m]||"outline";return n.jsx(Ut,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Technique Chains"}),n.jsx("p",{className:"text-muted-foreground",children:"Manage pre-built BJJ technique sequences"})]})}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Chains"}),n.jsx(iI,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-chains",children:(u==null?void 0:u.totalChains)||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Saved"}),n.jsx(l7,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-saved",children:(u==null?void 0:u.totalSaved)||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Feedback"}),n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-feedback",children:(u==null?void 0:u.totalFeedback)||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Top Chain Saves"}),n.jsx(of,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-top-saves",children:((v=(y=u==null?void 0:u.topChains)==null?void 0:y[0])==null?void 0:v.timesSaved)||0})})]})]}),n.jsxs(q,{children:[n.jsx(X,{children:n.jsx(J,{children:"Filters"})}),n.jsx(H,{className:"space-y-4",children:n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsx(be,{placeholder:"Search chains...",value:c,onChange:m=>d(m.target.value),"data-testid":"input-search-chains"}),n.jsxs(Xe,{value:r,onValueChange:a,children:[n.jsx(Ye,{"data-testid":"select-position-filter",children:n.jsx(Je,{placeholder:"Position"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all","data-testid":"select-option-all-positions",children:"All Positions"}),n.jsx(K,{value:"closed_guard","data-testid":"select-option-closed-guard",children:"Closed Guard"}),n.jsx(K,{value:"mount","data-testid":"select-option-mount",children:"Mount"}),n.jsx(K,{value:"back_control","data-testid":"select-option-back-control",children:"Back Control"}),n.jsx(K,{value:"side_control","data-testid":"select-option-side-control",children:"Side Control"}),n.jsx(K,{value:"half_guard","data-testid":"select-option-half-guard",children:"Half Guard"})]})]}),n.jsxs(Xe,{value:i,onValueChange:s,children:[n.jsx(Ye,{"data-testid":"select-difficulty-filter",children:n.jsx(Je,{placeholder:"Difficulty"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all","data-testid":"select-option-all-difficulty",children:"All Levels"}),n.jsx(K,{value:"beginner","data-testid":"select-option-beginner",children:"Beginner"}),n.jsx(K,{value:"intermediate","data-testid":"select-option-intermediate",children:"Intermediate"}),n.jsx(K,{value:"advanced","data-testid":"select-option-advanced",children:"Advanced"})]})]}),n.jsxs(Xe,{value:o,onValueChange:l,children:[n.jsx(Ye,{"data-testid":"select-category-filter",children:n.jsx(Je,{placeholder:"Category"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all","data-testid":"select-option-all-category",children:"All Categories"}),n.jsx(K,{value:"submissions","data-testid":"select-option-submissions",children:"Submissions"}),n.jsx(K,{value:"sweeps","data-testid":"select-option-sweeps",children:"Sweeps"}),n.jsx(K,{value:"passing","data-testid":"select-option-passing",children:"Passing"}),n.jsx(K,{value:"escapes","data-testid":"select-option-escapes",children:"Escapes"})]})]})]})})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsxs(J,{children:["All Chains (",p.length,")"]}),n.jsx(Fe,{children:"Click on a chain to view details"})]}),n.jsx(H,{children:h?n.jsx("div",{children:"Loading chains..."}):n.jsx("div",{className:"space-y-2",children:p.map(m=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover-elevate cursor-pointer",onClick:()=>t(m),"data-testid":`chain-item-${m.id}`,children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold","data-testid":`text-chain-name-${m.id}`,children:m.name}),n.jsx(ae,{variant:b(m.minBeltLevel),"data-testid":`badge-belt-${m.id}`,children:m.minBeltLevel}),n.jsx(ae,{variant:g(m.difficultyLevel),"data-testid":`badge-difficulty-${m.id}`,children:m.difficultyLevel})]}),n.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1","data-testid":`text-chain-description-${m.id}`,children:m.description}),n.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[n.jsxs("span",{"data-testid":`text-step-count-${m.id}`,children:[m.stepCount," steps"]}),n.jsx("span",{children:""}),n.jsx("span",{"data-testid":`text-category-${m.id}`,children:m.primaryCategory}),n.jsx("span",{children:""}),n.jsxs("span",{"data-testid":`text-position-flow-${m.id}`,children:[m.positionStart,"  ",m.positionEnd]}),n.jsx("span",{children:""}),n.jsxs("span",{"data-testid":`text-saves-${m.id}`,children:[m.timesSaved," saves"]})]})]}),n.jsx(js,{className:"h-5 w-5 text-muted-foreground","data-testid":`icon-chevron-${m.id}`})]},m.id))})})]}),n.jsx(Ar,{open:e!==null,onOpenChange:m=>!m&&t(null),children:n.jsxs(yr,{className:"max-w-4xl max-h-[90vh]","data-testid":"dialog-chain-detail",children:[n.jsxs(br,{children:[n.jsx(jr,{"data-testid":"text-dialog-chain-name",children:e==null?void 0:e.name}),n.jsx(nn,{"data-testid":"text-dialog-chain-description",children:e==null?void 0:e.description})]}),n.jsx(PS,{className:"h-[500px] pr-4",children:e&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-wrap gap-2","data-testid":"section-chain-metadata",children:[n.jsxs(ae,{variant:b(e.minBeltLevel),"data-testid":"badge-dialog-belt",children:[e.minBeltLevel," belt"]}),n.jsx(ae,{variant:g(e.difficultyLevel),"data-testid":"badge-dialog-difficulty",children:e.difficultyLevel}),n.jsx(ae,{variant:"outline","data-testid":"badge-dialog-category",children:e.primaryCategory}),n.jsx(ae,{variant:"outline","data-testid":"badge-dialog-gi-preference",children:e.giPreference}),n.jsx(ae,{variant:"outline","data-testid":"badge-dialog-technical",children:e.technicalVsAthletic}),e.requiresAthleticism&&n.jsx(ae,{variant:"outline","data-testid":"badge-dialog-athleticism",children:"Requires Athleticism"}),e.requiresFlexibility&&n.jsx(ae,{variant:"outline","data-testid":"badge-dialog-flexibility",children:"Requires Flexibility"})]}),n.jsx(np,{}),n.jsxs("div",{className:"space-y-4","data-testid":"section-chain-steps",children:[n.jsx("h3",{className:"font-semibold text-lg",children:"Technique Steps"}),e.steps.map((m,j)=>n.jsxs(q,{"data-testid":`card-step-${j}`,children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary text-primary-foreground","data-testid":`badge-step-number-${j}`,children:m.step}),n.jsx(J,{className:"text-base","data-testid":`text-step-name-${j}`,children:m.name})]})}),n.jsxs(H,{className:"space-y-3",children:[n.jsx("p",{className:"text-sm","data-testid":`text-step-description-${j}`,children:m.description}),m.key_points&&m.key_points.length>0&&n.jsxs("div",{"data-testid":`section-key-points-${j}`,children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Key Points:"}),n.jsx("ul",{className:"space-y-1",children:m.key_points.map((N,w)=>n.jsxs("li",{className:"text-sm flex items-start gap-2","data-testid":`text-key-point-${j}-${w}`,children:[n.jsx(zr,{className:"h-4 w-4 text-green-500 dark:text-green-400 mt-0.5"}),n.jsx("span",{children:N})]},w))})]}),m.technique_search&&n.jsxs("p",{className:"text-xs text-muted-foreground","data-testid":`text-technique-search-${j}`,children:["Search: ",m.technique_search]})]})]},j))]}),n.jsx(np,{}),n.jsxs("div",{className:"grid grid-cols-2 gap-4","data-testid":"section-chain-analytics",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Times Recommended"}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"stat-dialog-recommended",children:e.timesRecommended})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Times Saved"}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"stat-dialog-saved",children:e.timesSaved})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Helpful Votes"}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"stat-dialog-helpful",children:e.helpfulCount})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Not Helpful Votes"}),n.jsx("p",{className:"text-2xl font-bold","data-testid":"stat-dialog-not-helpful",children:e.notHelpfulCount})]})]}),n.jsx(np,{}),n.jsxs("div",{"data-testid":"section-helpful-ratio",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Helpful Ratio"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("p",{className:"text-3xl font-bold","data-testid":"stat-dialog-ratio",children:e.helpfulRatio?`${parseFloat(e.helpfulRatio).toFixed(1)}%`:"N/A"}),e.helpfulRatio&&parseFloat(e.helpfulRatio)>=80&&n.jsx(ae,{variant:"default","data-testid":"badge-highly-rated",children:"Highly Rated"})]})]})]})})]})})]})})}function owe(){var y,v;const[e,t]=x.useState(""),[r,a]=x.useState("7d"),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,d]=x.useState(1),u=50,{data:f,isLoading:h}=ue({queryKey:["/api/admin/ai-logs",{dateFilter:r,statusFilter:i,modelFilter:o,page:c}],queryFn:()=>_e(`/api/admin/ai-logs?dateFilter=${r}&statusFilter=${i}&modelFilter=${o}&page=${c}&pageSize=${u}`)}),{data:p}=ue({queryKey:["/api/admin/ai-logs/stats"],queryFn:()=>_e("/api/admin/ai-logs/stats")}),b=((y=f==null?void 0:f.logs)==null?void 0:y.filter(m=>{var N,w,S;if(!e)return!0;const j=e.toLowerCase();return((N=m.userMessage)==null?void 0:N.toLowerCase().includes(j))||((w=m.aiResponse)==null?void 0:w.toLowerCase().includes(j))||((S=m.userPhone)==null?void 0:S.toLowerCase().includes(j))}))||[],g=()=>{const m=[["Timestamp","User","User Message","AI Response","Response Time (ms)","Tokens","Model","Status"].join(","),...b.map(S=>{var k,C;return[gn(new Date(S.timestamp),"yyyy-MM-dd HH:mm:ss"),S.userPhone||S.userEmail||"Unknown",`"${((k=S.userMessage)==null?void 0:k.replace(/"/g,'""'))||""}"`,`"${((C=S.aiResponse)==null?void 0:C.replace(/"/g,'""'))||""}"`,S.responseTimeMs||0,S.tokensUsed||0,S.model||"Claude Sonnet 4",S.status||"success"].join(",")})].join(`
`),j=new Blob([m],{type:"text/csv"}),N=window.URL.createObjectURL(j),w=document.createElement("a");w.href=N,w.download=`ai-logs-${gn(new Date,"yyyy-MM-dd")}.csv`,w.click()};return n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"AI Conversation Logs"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitor Prof. OS conversations and performance"})]}),n.jsxs(Y,{onClick:g,variant:"outline","data-testid":"button-export-csv",children:[n.jsx(C0,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(q,{"data-testid":"card-total-conversations",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Conversations"}),n.jsx(Ec,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total",children:(p==null?void 0:p.total)||0})})]}),n.jsxs(q,{"data-testid":"card-avg-response-time",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Avg Response Time"}),n.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsxs("div",{className:"text-2xl font-bold","data-testid":"stat-avg-time",children:[(p==null?void 0:p.avgResponseTime)||0,"ms"]})})]}),n.jsxs(q,{"data-testid":"card-total-tokens",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Tokens Used"}),n.jsx(of,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-tokens",children:((v=p==null?void 0:p.totalTokens)==null?void 0:v.toLocaleString())||0})})]}),n.jsxs(q,{"data-testid":"card-success-rate",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Success Rate"}),n.jsx(In,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsxs("div",{className:"text-2xl font-bold","data-testid":"stat-success-rate",children:[(p==null?void 0:p.successRate)||0,"%"]})})]})]}),n.jsxs(q,{children:[n.jsx(X,{children:n.jsx(J,{children:"Filters"})}),n.jsxs(H,{className:"flex flex-wrap gap-4",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsxs("div",{className:"relative",children:[n.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(be,{placeholder:"Search messages, users...",value:e,onChange:m=>t(m.target.value),className:"pl-10","data-testid":"input-search"})]})}),n.jsxs(Xe,{value:r,onValueChange:a,children:[n.jsx(Ye,{className:"w-[180px]","data-testid":"select-date-filter",children:n.jsx(Je,{placeholder:"Date range"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"24h",children:"Last 24 hours"}),n.jsx(K,{value:"7d",children:"Last 7 days"}),n.jsx(K,{value:"30d",children:"Last 30 days"}),n.jsx(K,{value:"all",children:"All time"})]})]}),n.jsxs(Xe,{value:i,onValueChange:s,children:[n.jsx(Ye,{className:"w-[150px]","data-testid":"select-status-filter",children:n.jsx(Je,{placeholder:"Status"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All"}),n.jsx(K,{value:"success",children:"Success"}),n.jsx(K,{value:"error",children:"Error"})]})]}),n.jsxs(Xe,{value:o,onValueChange:l,children:[n.jsx(Ye,{className:"w-[200px]","data-testid":"select-model-filter",children:n.jsx(Je,{placeholder:"AI Model"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Models"}),n.jsx(K,{value:"gpt-4o",children:"GPT-4o"}),n.jsx(K,{value:"claude-sonnet-4",children:"Claude Sonnet 4"}),n.jsx(K,{value:"gpt-4o-fallback",children:"GPT-4o (Fallback)"})]})]})]})]}),n.jsx(q,{children:n.jsxs(H,{className:"pt-6",children:[h?n.jsx("div",{className:"text-center py-8",children:"Loading..."}):b.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No logs found"}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Timestamp"}),n.jsx(G,{children:"User"}),n.jsx(G,{className:"max-w-[300px]",children:"User Message"}),n.jsx(G,{className:"max-w-[300px]",children:"Prof. OS Response"}),n.jsx(G,{children:"AI Model"}),n.jsx(G,{children:"Complexity"}),n.jsx(G,{children:"Time"}),n.jsx(G,{children:"Status"})]})}),n.jsx(kt,{children:b.map(m=>n.jsxs(we,{"data-testid":`row-log-${m.id}`,children:[n.jsx(V,{className:"text-sm",children:gn(new Date(m.timestamp),"MMM dd, HH:mm:ss")}),n.jsx(V,{className:"text-sm",children:m.userPhone||m.userEmail||"Unknown"}),n.jsx(V,{className:"max-w-[300px] truncate text-sm",children:m.userMessage}),n.jsx(V,{className:"max-w-[300px] truncate text-sm",children:m.aiResponse}),n.jsx(V,{children:m.modelUsed==="claude-sonnet-4"?n.jsx(ae,{variant:"default","data-testid":`badge-model-${m.id}`,children:"Claude S4"}):m.modelUsed==="gpt-4o-fallback"?n.jsx(ae,{variant:"secondary","data-testid":`badge-model-${m.id}`,children:"GPT-4o (FB)"}):n.jsx(ae,{variant:"outline","data-testid":`badge-model-${m.id}`,children:"GPT-4o"})}),n.jsx(V,{className:"text-sm",children:m.complexityScore!==null&&m.complexityScore!==void 0?n.jsxs("span",{className:m.complexityScore>7?"text-orange-500 font-semibold":"text-muted-foreground",children:[m.complexityScore,"/10"]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(V,{className:"text-sm",children:m.responseTimeMs?`${m.responseTimeMs}ms`:"-"}),n.jsx(V,{children:m.status==="error"?n.jsxs(ae,{variant:"destructive","data-testid":`badge-status-${m.id}`,children:[n.jsx(Tn,{className:"w-3 h-3 mr-1"}),"Error"]}):n.jsxs(ae,{variant:"default","data-testid":`badge-status-${m.id}`,children:[n.jsx(In,{className:"w-3 h-3 mr-1"}),"Success"]})})]},m.id))})]})}),(f==null?void 0:f.totalPages)>1&&n.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[n.jsx(Y,{variant:"outline",size:"sm",onClick:()=>d(m=>Math.max(1,m-1)),disabled:c===1,"data-testid":"button-prev-page",children:"Previous"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",c," of ",f.totalPages]}),n.jsx(Y,{variant:"outline",size:"sm",onClick:()=>d(m=>Math.min(f.totalPages,m+1)),disabled:c===f.totalPages,"data-testid":"button-next-page",children:"Next"})]})]})})]})})}function lwe(){const{toast:e}=tt(),[t,r]=x.useState(!1),[a,i]=x.useState(null),[s,o]=x.useState({name:"",time:"09:00",message:"",active:!0}),l=()=>{o({name:"",time:"09:00",message:"",active:!0}),i(null)},{data:c,isLoading:d}=ue({queryKey:["/api/admin/schedules"],queryFn:()=>_e("/api/admin/schedules")}),{data:u}=ue({queryKey:["/api/admin/schedules/stats"],queryFn:()=>_e("/api/admin/schedules/stats")}),f=qe({mutationFn:async v=>a?await _e(`/api/admin/schedules/${a.id}`,"PATCH",v):await _e("/api/admin/schedules","POST",v),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/schedules"]}),Pe.invalidateQueries({queryKey:["/api/admin/schedules/stats"]}),r(!1),l(),e({title:a?"Schedule Updated":"Schedule Created",description:a?"Schedule has been updated successfully":"New schedule has been created"})},onError:v=>{e({title:"Error",description:v.message||"Failed to save schedule",variant:"destructive"})}}),h=qe({mutationFn:async v=>await _e(`/api/admin/schedules/${v}/toggle`,"POST",{}),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/schedules"]}),e({title:"Schedule Updated",description:"Schedule status has been changed"})}}),p=qe({mutationFn:async v=>await _e(`/api/admin/schedules/${v}`,"DELETE",{}),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/schedules"]}),e({title:"Schedule Deleted",description:"Schedule has been permanently deleted"})}}),b=v=>{i(v),o({name:v.message||"",time:v.scheduleTime||"09:00",message:v.message||"",active:v.active!==!1}),r(!0)},g=v=>{v.preventDefault(),f.mutate(s)},y=(c==null?void 0:c.schedules)||[];return n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"SMS & Email Schedules"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage automated delivery schedules"})]}),n.jsxs(Ar,{open:t,onOpenChange:v=>{v||l(),r(v)},children:[n.jsx(mf,{asChild:!0,children:n.jsxs(Y,{"data-testid":"button-create-schedule",children:[n.jsx(P1,{className:"w-4 h-4 mr-2"}),"Create Schedule"]})}),n.jsx(yr,{children:n.jsxs("form",{onSubmit:g,children:[n.jsxs(br,{children:[n.jsx(jr,{children:a?"Edit Schedule":"Create New Schedule"}),n.jsx(nn,{children:a?"Update the schedule details":"Set up a new automated delivery schedule"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"message",children:"Message/Schedule Name"}),n.jsx(ti,{id:"message",value:s.message,onChange:v=>o({...s,message:v.target.value,name:v.target.value}),placeholder:"Daily technique delivery",required:!0,rows:2,"data-testid":"textarea-message"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"time",children:"Time of Day (24-hour format)"}),n.jsx(be,{id:"time",type:"time",value:s.time,onChange:v=>o({...s,time:v.target.value}),required:!0,"data-testid":"input-schedule-time"})]})]}),n.jsxs(Hs,{children:[n.jsx(Y,{type:"button",variant:"outline",onClick:()=>r(!1),"data-testid":"button-cancel",children:"Cancel"}),n.jsx(Y,{type:"submit",disabled:f.isPending,"data-testid":"button-save-schedule",children:f.isPending?"Saving...":a?"Update":"Create"})]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(q,{"data-testid":"card-total-schedules",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Schedules"}),n.jsx(Cx,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total",children:(u==null?void 0:u.total)||0})})]}),n.jsxs(q,{"data-testid":"card-active-schedules",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Active"}),n.jsx(Qn,{className:"h-4 w-4 text-green-500"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-active",children:(u==null?void 0:u.active)||0})})]}),n.jsxs(q,{"data-testid":"card-total-recipients",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Recipients"}),n.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-recipients",children:(u==null?void 0:u.totalRecipients)||0})})]}),n.jsxs(q,{"data-testid":"card-sent-today",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Sent Today"}),n.jsx(Mi,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-sent-today",children:(u==null?void 0:u.sentToday)||0})})]})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"All Schedules"}),n.jsx(Fe,{children:"Manage your automated delivery schedules"})]}),n.jsx(H,{children:d?n.jsx("div",{className:"text-center py-8",children:"Loading..."}):y.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No schedules found. Create your first schedule to get started."}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Message/Name"}),n.jsx(G,{children:"Time"}),n.jsx(G,{children:"Recipients"}),n.jsx(G,{children:"Last Sent"}),n.jsx(G,{children:"Status"}),n.jsx(G,{className:"text-right",children:"Actions"})]})}),n.jsx(kt,{children:y.map(v=>n.jsxs(we,{"data-testid":`row-schedule-${v.id}`,children:[n.jsx(V,{className:"font-medium",children:v.message}),n.jsx(V,{children:v.scheduleTime}),n.jsx(V,{children:v.recipientCount||0}),n.jsx(V,{className:"text-sm text-muted-foreground",children:v.lastSent?gn(new Date(v.lastSent),"MMM dd, HH:mm"):"Never"}),n.jsx(V,{children:v.active?n.jsxs(ae,{variant:"default","data-testid":`badge-status-${v.id}`,children:[n.jsx(Qn,{className:"w-3 h-3 mr-1"}),"Active"]}):n.jsxs(ae,{variant:"secondary","data-testid":`badge-status-${v.id}`,children:[n.jsx(A0,{className:"w-3 h-3 mr-1"}),"Paused"]})}),n.jsx(V,{className:"text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>h.mutate(v.id),"data-testid":`button-toggle-${v.id}`,children:v.active?n.jsx(A0,{className:"w-4 h-4"}):n.jsx(Qn,{className:"w-4 h-4"})}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>b(v),"data-testid":`button-edit-${v.id}`,children:n.jsx(Pu,{className:"w-4 h-4"})}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>p.mutate(v.id),"data-testid":`button-delete-${v.id}`,children:n.jsx(al,{className:"w-4 h-4"})})]})})]},v.id))})]})})})]})]})})}function cwe(){var m,j,N;const[e,t]=x.useState(""),[r,a]=x.useState("all"),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,d]=x.useState("all"),[u,f]=x.useState(null),{data:h,isLoading:p}=ue({queryKey:["/api/admin/techniques",{instructorFilter:r,categoryFilter:i,scoreFilter:o,statusFilter:c}],queryFn:()=>_e(`/api/admin/techniques?instructor=${r}&category=${i}&score=${o}&status=${c}`)}),{data:b}=ue({queryKey:["/api/admin/techniques/stats"],queryFn:()=>_e("/api/admin/techniques/stats")}),{data:g}=ue({queryKey:["/api/admin/techniques/instructors"],queryFn:()=>_e("/api/admin/techniques/instructors")}),y=((m=h==null?void 0:h.techniques)==null?void 0:m.filter(w=>{var k,C,A;if(!e)return!0;const S=e.toLowerCase();return((k=w.title)==null?void 0:k.toLowerCase().includes(S))||((C=w.instructorName)==null?void 0:C.toLowerCase().includes(S))||((A=w.position)==null?void 0:A.toLowerCase().includes(S))}))||[],v=w=>w>=80?"default":w>=70?"secondary":"destructive";return n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Techniques & Videos"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Browse and manage analyzed BJJ technique videos"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(q,{"data-testid":"card-total-videos",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Videos"}),n.jsx(Ni,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total",children:(b==null?void 0:b.total)||0})})]}),n.jsxs(q,{"data-testid":"card-avg-score",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Avg Score"}),n.jsx(Hr,{className:"h-4 w-4 text-yellow-500"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-avg-score",children:((j=b==null?void 0:b.avgScore)==null?void 0:j.toFixed(1))||0})})]}),n.jsxs(q,{"data-testid":"card-top-instructors",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Unique Instructors"}),n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-instructors",children:(b==null?void 0:b.uniqueInstructors)||0})})]}),n.jsxs(q,{"data-testid":"card-analyzed",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Analyzed"}),n.jsx(In,{className:"h-4 w-4 text-green-500"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-analyzed",children:(b==null?void 0:b.analyzed)||0})})]})]}),n.jsxs(q,{children:[n.jsx(X,{children:n.jsx(J,{children:"Filters"})}),n.jsxs(H,{className:"flex flex-wrap gap-4",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsxs("div",{className:"relative",children:[n.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(be,{placeholder:"Search techniques, instructors...",value:e,onChange:w=>t(w.target.value),className:"pl-10","data-testid":"input-search"})]})}),n.jsxs(Xe,{value:r,onValueChange:a,children:[n.jsx(Ye,{className:"w-[200px]","data-testid":"select-instructor",children:n.jsx(Je,{placeholder:"All instructors"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Instructors"}),(N=g==null?void 0:g.instructors)==null?void 0:N.map(w=>n.jsx(K,{value:w,children:w},w))]})]}),n.jsxs(Xe,{value:i,onValueChange:s,children:[n.jsx(Ye,{className:"w-[150px]","data-testid":"select-category",children:n.jsx(Je,{placeholder:"Category"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Categories"}),n.jsx(K,{value:"submission",children:"Submission"}),n.jsx(K,{value:"sweep",children:"Sweep"}),n.jsx(K,{value:"pass",children:"Pass"}),n.jsx(K,{value:"escape",children:"Escape"}),n.jsx(K,{value:"takedown",children:"Takedown"})]})]}),n.jsxs(Xe,{value:o,onValueChange:l,children:[n.jsx(Ye,{className:"w-[150px]","data-testid":"select-score",children:n.jsx(Je,{placeholder:"Score range"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Scores"}),n.jsx(K,{value:"80+",children:"80+ (Elite)"}),n.jsx(K,{value:"70-79",children:"70-79 (Good)"}),n.jsx(K,{value:"60-69",children:"60-69 (Fair)"}),n.jsx(K,{value:"0-59",children:"Below 60"})]})]}),n.jsxs(Xe,{value:c,onValueChange:d,children:[n.jsx(Ye,{className:"w-[150px]","data-testid":"select-status",children:n.jsx(Je,{placeholder:"Status"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All Status"}),n.jsx(K,{value:"analyzed",children:"Analyzed"}),n.jsx(K,{value:"pending",children:"Pending"}),n.jsx(K,{value:"failed",children:"Failed"})]})]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"All Techniques"}),n.jsx(Fe,{children:"View analyzed videos with detailed scoring"})]}),n.jsx(H,{children:p?n.jsx("div",{className:"text-center py-8",children:"Loading..."}):y.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No techniques found matching your filters."}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{className:"max-w-[250px]",children:"Title"}),n.jsx(G,{children:"Instructor"}),n.jsx(G,{children:"Quality"}),n.jsx(G,{children:"Teaching"}),n.jsx(G,{children:"Production"}),n.jsx(G,{children:"Detail"}),n.jsx(G,{className:"text-right",children:"Views"}),n.jsx(G,{className:"text-right",children:"Helpful"}),n.jsx(G,{children:"Date"}),n.jsx(G,{className:"text-right",children:"Actions"})]})}),n.jsx(kt,{children:y.map(w=>{const S=Number(w.finalScore||0),k=Number(w.teachingClarity||0),C=Number(w.productionQuality||0),A=Number(w.keyDetailQuality||0),O=w.viewCount||0,I=w.helpfulRatio||0;return n.jsxs(we,{"data-testid":`row-technique-${w.id}`,children:[n.jsx(V,{className:"max-w-[250px] truncate font-medium",children:w.title}),n.jsx(V,{className:"text-sm",children:w.instructorName||"Unknown"}),n.jsx(V,{children:n.jsxs(ae,{variant:v(S*10),"data-testid":`badge-score-${w.id}`,children:[S.toFixed(1),"/10"]})}),n.jsx(V,{className:"text-center font-mono text-sm",children:k>0?k.toFixed(1):"-"}),n.jsx(V,{className:"text-center font-mono text-sm",children:C>0?C.toFixed(1):"-"}),n.jsx(V,{className:"text-center font-mono text-sm",children:A>0?A.toFixed(1):"-"}),n.jsx(V,{className:"text-right font-mono text-sm",children:O>0?O.toLocaleString():"-"}),n.jsx(V,{className:"text-right font-mono text-sm",children:I>0?n.jsxs("span",{className:"text-green-600",children:[I,"%"]}):n.jsx("span",{className:"text-muted-foreground",children:"-"})}),n.jsx(V,{className:"text-sm text-muted-foreground",children:w.createdAt?gn(new Date(w.createdAt),"MMM dd"):"N/A"}),n.jsx(V,{className:"text-right",children:n.jsx(Y,{variant:"ghost",size:"sm",onClick:()=>f(w),"data-testid":`button-view-${w.id}`,children:n.jsx(Rr,{className:"w-4 h-4"})})})]},w.id)})})]})})})]}),n.jsx(Ar,{open:!!u,onOpenChange:w=>!w&&f(null),children:n.jsxs(yr,{className:"max-w-3xl",children:[n.jsxs(br,{children:[n.jsx(jr,{children:"Technique Analysis Details"}),n.jsx(nn,{children:u==null?void 0:u.title})]}),u&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-muted",children:n.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${u.videoId}`,title:u.title,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"Quality Analysis"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-1",children:[n.jsx(J,{className:"text-sm font-medium",children:"Overall"}),n.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsxs("div",{className:"text-2xl font-bold",children:[Number(u.finalScore||0).toFixed(1),"/10"]})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-1",children:[n.jsx(J,{className:"text-sm font-medium",children:"Teaching"}),n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsxs("div",{className:"text-2xl font-bold",children:[Number(u.teachingClarity||0)>0?Number(u.teachingClarity).toFixed(1):"-","/10"]})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-1",children:[n.jsx(J,{className:"text-sm font-medium",children:"Production"}),n.jsx(Ni,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsxs("div",{className:"text-2xl font-bold",children:[Number(u.productionQuality||0)>0?Number(u.productionQuality).toFixed(1):"-","/10"]})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-1",children:[n.jsx(J,{className:"text-sm font-medium",children:"Detail"}),n.jsx(In,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsxs("div",{className:"text-2xl font-bold",children:[Number(u.keyDetailQuality||0)>0?Number(u.keyDetailQuality).toFixed(1):"-","/10"]})})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-3",children:"User Engagement"}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-1",children:[n.jsx(J,{className:"text-sm font-medium",children:"Views"}),n.jsx(Qn,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold",children:u.viewCount>0?u.viewCount.toLocaleString():"-"})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-1",children:[n.jsx(J,{className:"text-sm font-medium",children:"Helpful"}),n.jsx(wi,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.helpfulRatio>0?`${u.helpfulRatio}%`:"-"}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[u.helpfulCount||0," helpful votes"]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-1",children:[n.jsx(J,{className:"text-sm font-medium",children:"Likes"}),n.jsx(wi,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold",children:u.likeCount>0?u.likeCount.toLocaleString():"-"})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-1",children:[n.jsx(J,{className:"text-sm font-medium",children:"Bookmarks"}),n.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold",children:u.recommendationCount>0?u.recommendationCount:"-"})})]})]})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Instructor:"}),n.jsx("span",{className:"font-medium",children:u.instructorName||"Unknown"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Position:"}),n.jsx("span",{className:"font-medium capitalize",children:u.position||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Technique Type:"}),n.jsx("span",{className:"font-medium capitalize",children:u.techniqueType||"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Belt Appropriate:"}),n.jsx("span",{className:"font-medium capitalize",children:u.beltAppropriate||"All"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Content Level:"}),n.jsx("span",{className:"font-medium",children:u.contentLevel||"N/A"})]})]}),u.keyDetails&&n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold mb-2",children:"Key Details:"}),n.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:u.keyDetails})]}),n.jsx(Y,{asChild:!0,className:"w-full",children:n.jsx("a",{href:u.videoUrl,target:"_blank",rel:"noopener noreferrer",children:"Watch on YouTube"})})]})]})})]})})}function dwe(){const{toast:e}=tt(),[t,r]=x.useState(null),[a,i]=x.useState(!1),[s,o]=x.useState(null),{data:l,isLoading:c,error:d}=ue({queryKey:["/api/admin/flagged-accounts"],queryFn:()=>_e("/api/admin/flagged-accounts")}),{data:u}=ue({queryKey:["/api/admin/devices",s],queryFn:()=>_e(`/api/admin/devices/${s}`),enabled:!!s&&a}),f=qe({mutationFn:async({userId:y,resolution:v})=>await _e(`/api/admin/flagged-accounts/${y}/review`,"POST",{resolution:v}),onSuccess:(y,v)=>{Pe.invalidateQueries({queryKey:["/api/admin/flagged-accounts"]}),e({title:" Account Reviewed",description:v.resolution==="legitimate"?"Account marked as legitimate":"Account flagged as fraudulent"}),r(null)},onError:y=>{e({title:"Error",description:y.message||"Failed to resolve flag",variant:"destructive"})}}),h=(y,v)=>{o(y),r(v),i(!0)},p=y=>{switch(y){case"HIGH":return"bg-red-500/10 text-red-500 border-red-500/20";case"MEDIUM":return"bg-yellow-500/10 text-yellow-500 border-yellow-500/20";case"LOW":return"bg-blue-500/10 text-blue-500 border-blue-500/20";default:return"bg-muted text-muted-foreground"}},b=(l==null?void 0:l.filter(y=>!y.isResolved))||[],g=(l==null?void 0:l.filter(y=>y.isResolved))||[];return n.jsx(Ut,{title:"Account Sharing Prevention",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Flagged"}),n.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-flagged",children:(l==null?void 0:l.length)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Accounts requiring review"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Unresolved"}),n.jsx(_a,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unresolved-count",children:b.length}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending admin action"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"High Risk"}),n.jsx(Rs,{className:"h-4 w-4 text-red-500"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-500","data-testid":"text-high-risk-count",children:(l==null?void 0:l.filter(y=>y.riskLevel==="HIGH").length)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Critical attention needed"})]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Flagged Accounts"}),n.jsx(Fe,{children:"Review and take action on accounts with suspicious sharing patterns"})]}),n.jsx(H,{children:d?n.jsxs("div",{className:"text-center py-8","data-testid":"error-flagged-accounts",children:[n.jsx(qo,{className:"h-12 w-12 mx-auto mb-2 text-red-500"}),n.jsx("p",{className:"text-red-500 font-medium",children:"Failed to load flagged accounts"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:d.message})]}):c?n.jsx("div",{className:"flex justify-center py-8","data-testid":"loading-flagged-accounts",children:n.jsx(ze,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):b.length===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-no-flagged-accounts",children:[n.jsx(Ta,{className:"h-12 w-12 mx-auto mb-2 text-green-500"}),n.jsx("p",{children:"No flagged accounts to review"})]}):n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"User"}),n.jsx(G,{children:"Risk Level"}),n.jsx(G,{children:"Fraud Score"}),n.jsx(G,{children:"Indicators"}),n.jsx(G,{children:"Devices"}),n.jsx(G,{children:"Flagged"}),n.jsx(G,{className:"text-right",children:"Actions"})]})}),n.jsx(kt,{children:b.map(y=>n.jsxs(we,{"data-testid":`row-flagged-account-${y.userId}`,children:[n.jsx(V,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:y.name||"Unknown"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:y.phoneNumber})]})}),n.jsx(V,{children:n.jsx(ae,{className:p(y.riskLevel),"data-testid":`badge-risk-${y.userId}`,children:y.riskLevel})}),n.jsx(V,{children:n.jsx("div",{className:"font-mono text-sm","data-testid":`text-fraud-score-${y.userId}`,children:y.fraudScore.toFixed(2)})}),n.jsx(V,{children:n.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.fraudIndicators.slice(0,2).map((v,m)=>n.jsx(ae,{variant:"outline",className:"text-xs",children:v},m)),y.fraudIndicators.length>2&&n.jsxs(ae,{variant:"outline",className:"text-xs",children:["+",y.fraudIndicators.length-2]})]})}),n.jsx(V,{children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Au,{className:"h-3 w-3 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:y.deviceCount})]})}),n.jsx(V,{className:"text-sm text-muted-foreground",children:Ul(new Date(y.flaggedAt),{addSuffix:!0})}),n.jsx(V,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>h(y.userId,y),"data-testid":`button-view-devices-${y.userId}`,children:[n.jsx(Rr,{className:"h-3 w-3 mr-1"}),"View"]}),n.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>f.mutate({userId:y.userId,resolution:"legitimate"}),disabled:f.isPending,"data-testid":`button-mark-legitimate-${y.userId}`,children:[n.jsx(Ta,{className:"h-3 w-3 mr-1"}),"Legitimate"]}),n.jsxs(Y,{size:"sm",variant:"destructive",onClick:()=>f.mutate({userId:y.userId,resolution:"fraudulent"}),disabled:f.isPending,"data-testid":`button-mark-fraudulent-${y.userId}`,children:[n.jsx(qo,{className:"h-3 w-3 mr-1"}),"Fraudulent"]})]})})]},y.id))})]})})]}),g.length>0&&n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Resolved Accounts"}),n.jsx(Fe,{children:"Previously reviewed flagged accounts"})]}),n.jsx(H,{children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"User"}),n.jsx(G,{children:"Risk Level"}),n.jsx(G,{children:"Fraud Score"}),n.jsx(G,{children:"Reviewed"})]})}),n.jsx(kt,{children:g.map(y=>n.jsxs(we,{className:"opacity-60",children:[n.jsx(V,{children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:y.name||"Unknown"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:y.phoneNumber})]})}),n.jsx(V,{children:n.jsx(ae,{className:p(y.riskLevel),children:y.riskLevel})}),n.jsx(V,{children:n.jsx("div",{className:"font-mono text-sm",children:y.fraudScore.toFixed(2)})}),n.jsx(V,{className:"text-sm text-muted-foreground",children:y.lastReviewedAt?Ul(new Date(y.lastReviewedAt),{addSuffix:!0}):"Never"})]},y.id))})]})})]}),n.jsx(Ar,{open:a,onOpenChange:i,children:n.jsxs(yr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[n.jsxs(br,{children:[n.jsx(jr,{children:"Device Details"}),n.jsx(nn,{children:t&&n.jsxs(n.Fragment,{children:["Authorized devices for ",t.name||t.phoneNumber," - ",n.jsxs(ae,{className:p(t.riskLevel),children:[t.riskLevel," RISK"]})]})})]}),t&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs(q,{children:[n.jsx(X,{children:n.jsx(J,{className:"text-sm",children:"Fraud Indicators"})}),n.jsx(H,{children:n.jsx("div",{className:"flex flex-wrap gap-2",children:t.fraudIndicators.map((y,v)=>n.jsx(ae,{variant:"outline",children:y},v))})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-semibold mb-3",children:["Authorized Devices (",(u==null?void 0:u.length)||0,")"]}),u&&u.length>0?n.jsx("div",{className:"space-y-2",children:u.map(y=>n.jsx(q,{children:n.jsx(H,{className:"p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Au,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{className:"font-medium",children:y.deviceName}),y.isActive?n.jsx(ae,{className:"bg-green-500/10 text-green-500 border-green-500/20",children:"Active"}):n.jsx(ae,{variant:"outline",children:"Inactive"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-muted-foreground",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"IP:"})," ",y.ipAddress]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Location:"})," ",y.location||"Unknown"]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"First seen:"})," ",Ul(new Date(y.firstSeenAt),{addSuffix:!0})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Last seen:"})," ",Ul(new Date(y.lastSeenAt),{addSuffix:!0})]})]}),n.jsxs("div",{className:"mt-2 text-xs text-muted-foreground font-mono",children:["Fingerprint: ",y.fingerprint.substring(0,16),"..."]})]})})})},y.id))}):n.jsx("p",{className:"text-sm text-muted-foreground",children:"No devices found"})]})]})]})})]})})}function uwe(){const{toast:e}=tt(),[t,r]=x.useState(null),[a,i]=x.useState(!1),[s,o]=x.useState(!1),[l,c]=x.useState(""),{data:d,isLoading:u,error:f}=ue({queryKey:["/api/admin/instructors/priority/list"],queryFn:()=>_e("/api/admin/instructors/priority/list")}),{data:h}=ue({queryKey:["/api/admin/instructors/priority/details",t==null?void 0:t.instructorId],queryFn:()=>_e(`/api/admin/instructors/priority/${t==null?void 0:t.instructorId}`),enabled:!!t&&a}),p=qe({mutationFn:async j=>{const N=j?`/api/admin/instructors/priority/recalculate/${j}`:"/api/admin/instructors/priority/recalculate";return await _e(N,"POST",{})},onSuccess:(j,N)=>{Pe.invalidateQueries({queryKey:["/api/admin/instructors/priority/list"]}),N&&Pe.invalidateQueries({queryKey:["/api/admin/instructors/priority/details",N]}),e({title:" Priority Recalculated",description:N?"Instructor priority updated successfully":`Recalculated priority for ${j.recalculated||0} instructors`})},onError:j=>{e({title:"Error",description:j.message||"Failed to recalculate priority",variant:"destructive"})}}),b=qe({mutationFn:async({instructorId:j,score:N})=>await _e(`/api/admin/instructors/priority/override/${j}`,"POST",{manualScore:N}),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/instructors/priority/list"]}),t&&Pe.invalidateQueries({queryKey:["/api/admin/instructors/priority/details",t.instructorId]}),e({title:" Manual Override Set",description:"Instructor priority manually overridden"}),o(!1),c("")},onError:j=>{e({title:"Error",description:j.message||"Failed to set manual override",variant:"destructive"})}}),g=j=>{r(j),i(!0),o(!1),c("")},y=()=>{if(!t||!l)return;const j=parseFloat(l);if(isNaN(j)||j<0||j>100){e({title:"Invalid Score",description:"Priority score must be between 0 and 100",variant:"destructive"});return}b.mutate({instructorId:t.instructorId,score:j})},v=j=>j>=80?"bg-green-500/10 text-green-500 border-green-500/20":j>=60?"bg-blue-500/10 text-blue-500 border-blue-500/20":j>=40?"bg-yellow-500/10 text-yellow-500 border-yellow-500/20":"bg-red-500/10 text-red-500 border-red-500/20",m=d?[...d].sort((j,N)=>N.priorityScore-j.priorityScore):[];return n.jsx(Ut,{title:"Instructor Priority Management",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Instructor Priority Scores"}),n.jsx("p",{className:"text-muted-foreground",children:"Auto-calculated scores based on YouTube subs, achievements, instructionals, and user feedback"})]}),n.jsxs(Y,{onClick:()=>p.mutate(),disabled:p.isPending,"data-testid":"button-recalculate-all",children:[p.isPending?n.jsx(ze,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Recalculate All"]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Instructors"}),n.jsx(_s,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-instructors",children:(d==null?void 0:d.length)||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"High Priority"}),n.jsx(sr,{className:"h-4 w-4 text-green-500"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-500","data-testid":"text-high-priority-count",children:(d==null?void 0:d.filter(j=>j.priorityScore>=80).length)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Score  80"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Manual Overrides"}),n.jsx(Pu,{className:"h-4 w-4 text-blue-500"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold text-blue-500","data-testid":"text-manual-override-count",children:(d==null?void 0:d.filter(j=>j.isManualOverride).length)||0})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Avg Priority"}),n.jsx(tI,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-avg-priority",children:d!=null&&d.length?(d.reduce((j,N)=>j+N.priorityScore,0)/d.length).toFixed(1):"0.0"})})]})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Instructor Rankings"}),n.jsx(Fe,{children:"Priority formula: YouTube (30pts) + Achievements (25pts) + Instructionals (20pts) + Feedback (25pts) = 100pts max"})]}),n.jsx(H,{children:f?n.jsxs("div",{className:"text-center py-8","data-testid":"error-instructors",children:[n.jsx(XCircle,{className:"h-12 w-12 mx-auto mb-2 text-red-500"}),n.jsx("p",{className:"text-red-500 font-medium",children:"Failed to load instructor data"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.message})]}):u?n.jsx("div",{className:"flex justify-center py-8","data-testid":"loading-instructors",children:n.jsx(ze,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):m.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-no-instructors",children:"No instructors found"}):n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Rank"}),n.jsx(G,{children:"Instructor"}),n.jsx(G,{children:"Priority Score"}),n.jsx(G,{children:"YouTube"}),n.jsx(G,{children:"Achievements"}),n.jsx(G,{children:"Instructionals"}),n.jsx(G,{children:"Feedback"}),n.jsx(G,{children:"Last Updated"}),n.jsx(G,{className:"text-right",children:"Actions"})]})}),n.jsx(kt,{children:m.map((j,N)=>n.jsxs(we,{"data-testid":`row-instructor-${j.instructorId}`,children:[n.jsxs(V,{className:"font-medium",children:["#",N+1]}),n.jsx(V,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-medium",children:j.instructorName}),j.isManualOverride&&n.jsxs(ae,{variant:"outline",className:"text-xs",children:[n.jsx(Pu,{className:"h-3 w-3 mr-1"}),"Manual"]})]})}),n.jsx(V,{children:n.jsx(ae,{className:v(j.priorityScore),"data-testid":`badge-priority-${j.instructorId}`,children:j.priorityScore.toFixed(1)})}),n.jsx(V,{children:n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(mk,{className:"h-3 w-3 text-red-500"}),n.jsx("span",{children:j.youtubeScore.toFixed(1)})]})}),n.jsx(V,{children:n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(_s,{className:"h-3 w-3 text-yellow-500"}),n.jsx("span",{children:j.achievementScore.toFixed(1)})]})}),n.jsx(V,{children:n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(Vo,{className:"h-3 w-3 text-blue-500"}),n.jsx("span",{children:j.instructionalScore.toFixed(1)})]})}),n.jsx(V,{children:n.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[n.jsx(Hr,{className:"h-3 w-3 text-purple-500"}),n.jsx("span",{children:j.feedbackScore.toFixed(1)})]})}),n.jsx(V,{className:"text-sm text-muted-foreground",children:Ul(new Date(j.lastCalculated),{addSuffix:!0})}),n.jsx(V,{className:"text-right",children:n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Y,{size:"sm",variant:"outline",onClick:()=>g(j),"data-testid":`button-view-details-${j.instructorId}`,children:"View Details"}),n.jsx(Y,{size:"sm",variant:"outline",onClick:()=>p.mutate(j.instructorId),disabled:p.isPending,"data-testid":`button-recalculate-${j.instructorId}`,children:n.jsx(Oa,{className:"h-3 w-3"})})]})})]},j.id))})]})})]}),n.jsx(Ar,{open:a,onOpenChange:i,children:n.jsxs(yr,{className:"max-w-2xl",children:[n.jsxs(br,{children:[n.jsxs(jr,{children:[t==null?void 0:t.instructorName," - Priority Breakdown"]}),n.jsx(nn,{children:"Detailed calculation of instructor priority score"})]}),h&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(q,{children:n.jsxs(X,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(J,{children:"Total Priority Score"}),n.jsxs(ae,{className:v(h.priorityScore),children:[h.priorityScore.toFixed(1)," / 100"]})]}),h.isManualOverride&&n.jsx(Fe,{className:"text-blue-500",children:" Manual override active"})]})}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(q,{children:n.jsxs(H,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mk,{className:"h-4 w-4 text-red-500"}),n.jsx("span",{className:"font-medium",children:"YouTube Subscribers"})]}),n.jsxs("span",{className:"font-bold",children:[h.breakdown.youtube.score," / ",h.breakdown.youtube.maxScore]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:h.breakdown.youtube.details})]})}),n.jsx(q,{children:n.jsxs(H,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_s,{className:"h-4 w-4 text-yellow-500"}),n.jsx("span",{className:"font-medium",children:"Achievements"})]}),n.jsxs("span",{className:"font-bold",children:[h.breakdown.achievements.score," / ",h.breakdown.achievements.maxScore]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:h.breakdown.achievements.details})]})}),n.jsx(q,{children:n.jsxs(H,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vo,{className:"h-4 w-4 text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Instructionals"})]}),n.jsxs("span",{className:"font-bold",children:[h.breakdown.instructionals.score," / ",h.breakdown.instructionals.maxScore]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:h.breakdown.instructionals.details})]})}),n.jsx(q,{children:n.jsxs(H,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hr,{className:"h-4 w-4 text-purple-500"}),n.jsx("span",{className:"font-medium",children:"User Feedback"})]}),n.jsxs("span",{className:"font-bold",children:[h.breakdown.feedback.score," / ",h.breakdown.feedback.maxScore]})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:h.breakdown.feedback.details})]})})]}),n.jsxs(q,{children:[n.jsx(X,{children:n.jsx(J,{className:"text-sm",children:"Manual Override"})}),n.jsx(H,{children:s?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(le,{htmlFor:"manual-score",children:"Priority Score (0-100)"}),n.jsx(be,{id:"manual-score",type:"number",min:"0",max:"100",step:"0.1",value:l,onChange:j=>c(j.target.value),placeholder:"Enter manual priority score","data-testid":"input-manual-score"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Y,{onClick:y,disabled:b.isPending,"data-testid":"button-save-manual-override",children:[n.jsx(cI,{className:"h-4 w-4 mr-2"}),"Save Override"]}),n.jsxs(Y,{variant:"outline",onClick:()=>{o(!1),c("")},"data-testid":"button-cancel-manual-override",children:[n.jsx(ni,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]}):n.jsxs(Y,{variant:"outline",onClick:()=>o(!0),"data-testid":"button-edit-manual-override",children:[n.jsx(Pu,{className:"h-4 w-4 mr-2"}),"Set Manual Override"]})})]})]})]})})]})})}function fwe(){var g,y,v,m,j,N,w,S,k,C,A,O,I,P,R;const[e,t]=x.useState("24"),{data:r,isLoading:a,error:i}=ue({queryKey:[`/api/admin/activity/stats?hours=${e}`],refetchInterval:3e4,refetchIntervalInBackground:!1}),{data:s,isLoading:o,error:l}=ue({queryKey:["/api/admin/activity/feed?limit=100"],refetchInterval:3e4,refetchIntervalInBackground:!1}),{data:c,isLoading:d,error:u}=ue({queryKey:[`/api/admin/activity/metrics?hours=${e}`],refetchInterval:3e4,refetchIntervalInBackground:!1}),f=r==null?void 0:r.stats,h=(s==null?void 0:s.feed)||[],p=c==null?void 0:c.metrics,b=$=>{switch($){case"user_signup":return"";case"video_approved":return"";case"video_rejected":return"";case"prof_query":return"";case"video_recommended":return"";case"video_saved":return"";case"referral":return"";case"lifetime_access":return"";default:return""}};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Activity Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"System health and activity monitoring"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Y,{variant:e==="1"?"default":"outline",onClick:()=>t("1"),"data-testid":"button-filter-1h",children:"Last Hour"}),n.jsx(Y,{variant:e==="6"?"default":"outline",onClick:()=>t("6"),"data-testid":"button-filter-6h",children:"6 Hours"}),n.jsx(Y,{variant:e==="24"?"default":"outline",onClick:()=>t("24"),"data-testid":"button-filter-24h",children:"24 Hours"})]})]}),(i||l||u)&&n.jsxs(q,{className:"border-destructive",children:[n.jsx(X,{children:n.jsx(J,{className:"text-destructive",children:"Error Loading Data"})}),n.jsx(H,{children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:[i&&"Failed to load stats. ",l&&"Failed to load activity feed. ",u&&"Failed to load metrics. ","Please refresh the page."]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(q,{"data-testid":"card-new-users",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"New Users"}),n.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-users-count",children:a?"...":(f==null?void 0:f.newUsers)||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last ",e," hours"]})]})]}),n.jsxs(q,{"data-testid":"card-video-curation",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:" Video Curation"}),n.jsx(Ni,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Videos"}),n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-videos",children:a?"...":((g=f==null?void 0:f.curation)==null?void 0:g.totalVideos)||0})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium mb-1",children:"TODAY'S ACTIVITY:"}),n.jsxs("div",{className:"space-y-1 text-xs",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:" Videos Saved:"}),n.jsx("span",{className:"font-mono text-green-600","data-testid":"text-videos-saved",children:((y=f==null?void 0:f.curation)==null?void 0:y.videosApproved)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:" Videos Searched:"}),n.jsx("span",{className:"font-mono","data-testid":"text-videos-searched",children:((v=f==null?void 0:f.curation)==null?void 0:v.videosAnalyzed)||0})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:" Videos Rejected:"}),n.jsx("span",{className:"font-mono text-red-600","data-testid":"text-videos-rejected",children:((m=f==null?void 0:f.curation)==null?void 0:m.videosRejected)||0})]})]})]})]})})]}),n.jsxs(q,{"data-testid":"card-engagement",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Engagement"}),n.jsx(Io,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-users",children:a?"...":((j=f==null?void 0:f.engagement)==null?void 0:j.activeUsers)||0}),n.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground mt-1",children:[n.jsxs("span",{children:[" ",((N=f==null?void 0:f.engagement)==null?void 0:N.profQueries)||0," queries"]}),n.jsxs("span",{children:[" ",((w=f==null?void 0:f.engagement)==null?void 0:w.videosSaved)||0," saves"]})]})]})]}),n.jsxs(q,{"data-testid":"card-referrals",children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Referrals"}),n.jsx(sf,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-new-referrals",children:a?"...":((S=f==null?void 0:f.referrals)==null?void 0:S.newReferrals)||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",((k=f==null?void 0:f.referrals)==null?void 0:k.uniqueReferrers)||0," referrers"]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(q,{className:"lg:col-span-2","data-testid":"card-activity-feed",children:[n.jsxs(X,{children:[n.jsx(J,{children:"Live Activity Feed"}),n.jsx(Fe,{children:"Recent system events and user actions"})]}),n.jsx(H,{children:n.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:o?n.jsx("p",{className:"text-muted-foreground",children:"Loading activity..."}):h.length===0?n.jsx("p",{className:"text-muted-foreground",children:"No recent activity"}):h.map($=>n.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover-elevate","data-testid":`activity-event-${$.id}`,children:[n.jsx("span",{className:"text-2xl",children:b($.event_type)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:$.description}),n.jsx("p",{className:"text-xs text-muted-foreground",children:gn(new Date($.created_at),"MMM d, h:mm a")})]}),n.jsx(ae,{variant:"outline",className:"text-xs",children:$.event_type.replace("_"," ")})]},$.id))})})]}),n.jsxs(q,{"data-testid":"card-quick-stats",children:[n.jsxs(X,{children:[n.jsx(J,{children:"Quick Stats"}),n.jsx(Fe,{children:"System health indicators"})]}),n.jsxs(H,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-sm font-medium",children:"Approval Rate"}),n.jsxs("span",{className:"text-sm font-bold",children:[((C=f==null?void 0:f.curation)==null?void 0:C.approvalRate)||0,"%"]})]}),n.jsx("div",{className:"w-full bg-secondary rounded-full h-2",children:n.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${((A=f==null?void 0:f.curation)==null?void 0:A.approvalRate)||0}%`}})})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-sm font-medium",children:"User Engagement"}),n.jsxs("span",{className:"text-sm font-bold",children:[((O=f==null?void 0:f.engagement)==null?void 0:O.activeUsers)||0," active"]})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg ",Math.round((((I=f==null?void 0:f.engagement)==null?void 0:I.profQueries)||0)/Math.max(((P=f==null?void 0:f.engagement)==null?void 0:P.activeUsers)||1,1))," queries/user"]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-sm font-medium",children:"Video Library"}),n.jsx("span",{className:"text-sm font-bold",children:"Growing"})]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",((R=f==null?void 0:f.curation)==null?void 0:R.videosApproved)||0," videos today"]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(q,{"data-testid":"card-curation-performance",children:[n.jsxs(X,{children:[n.jsx(J,{children:"Curation Performance"}),n.jsx(Fe,{children:"Success rates by search query"})]}),n.jsx(H,{children:n.jsx("div",{className:"space-y-3",children:d?n.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):!(p!=null&&p.curationPerformance)||p.curationPerformance.length===0?n.jsx("p",{className:"text-muted-foreground",children:"No curation data available"}):p.curationPerformance.slice(0,5).map(($,E)=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium truncate",children:$.search_query}),n.jsxs(ae,{variant:parseFloat($.success_rate)>=30?"default":"secondary",children:[$.success_rate,"%"]})]}),n.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:["Found: ",$.videos_found]}),n.jsxs("span",{className:"text-green-600",children:[" ",$.approved]}),n.jsxs("span",{className:"text-red-600",children:[" ",$.rejected]}),n.jsxs("span",{children:["Avg: ",$.avg_score,"/10"]})]})]},E))})})]}),n.jsxs(q,{"data-testid":"card-top-videos",children:[n.jsxs(X,{children:[n.jsx(J,{children:"Top Performing Videos"}),n.jsx(Fe,{children:"Most saved and recommended"})]}),n.jsx(H,{children:n.jsx("div",{className:"space-y-3",children:d?n.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):!(p!=null&&p.topVideos)||p.topVideos.length===0?n.jsx("p",{className:"text-muted-foreground",children:"No video data available"}):p.topVideos.slice(0,5).map(($,E)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs(ae,{variant:"outline",className:"text-xs",children:["#",E+1]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium truncate",children:$.technique_name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:$.instructor_name}),n.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground mt-1",children:[n.jsxs("span",{children:[" ",$.times_saved," saves"]}),n.jsxs("span",{children:[" ",$.helpful_count," helpful"]}),n.jsxs("span",{children:[" ",$.quality_score]})]})]})]},$.id))})})]}),n.jsxs(q,{"data-testid":"card-user-growth",children:[n.jsxs(X,{children:[n.jsx(J,{children:"User Growth Trend"}),n.jsx(Fe,{children:"Signups by hour"})]}),n.jsx(H,{children:n.jsx("div",{className:"space-y-2",children:d?n.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):!(p!=null&&p.userGrowth)||p.userGrowth.length===0?n.jsx("p",{className:"text-muted-foreground",children:"No growth data available"}):p.userGrowth.slice(0,8).map(($,E)=>n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("span",{className:"text-sm font-medium w-16",children:[Math.floor(parseFloat($.hour)),":00"]}),n.jsx("div",{className:"flex-1 bg-secondary rounded-full h-6 overflow-hidden",children:n.jsx("div",{className:"bg-primary h-full flex items-center px-2",style:{width:`${Math.min(100,parseInt($.new_users)/Math.max(...p.userGrowth.map(_=>parseInt(_.new_users)))*100)}%`},children:n.jsx("span",{className:"text-xs font-medium text-primary-foreground",children:$.new_users})})})]},E))})})]}),n.jsxs(q,{"data-testid":"card-referral-performance",children:[n.jsxs(X,{children:[n.jsx(J,{children:"Top Referrers"}),n.jsx(Fe,{children:"Highest conversion rates"})]}),n.jsx(H,{children:n.jsx("div",{className:"space-y-3",children:d?n.jsx("p",{className:"text-muted-foreground",children:"Loading..."}):!(p!=null&&p.referralPerformance)||p.referralPerformance.length===0?n.jsx("p",{className:"text-muted-foreground",children:"No referral data available"}):p.referralPerformance.slice(0,5).map(($,E)=>n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:$.referral_code}),n.jsxs(ae,{variant:"default",children:[$.conversion_rate,"% conversion"]})]}),n.jsxs("div",{className:"flex gap-2 text-xs text-muted-foreground",children:[n.jsxs("span",{children:[" ",$.referrer_phone]}),n.jsxs("span",{children:[" ",$.new_signups," referrals"]})]})]},E))})})]})]})]})}function hwe(){var y;const{toast:e}=tt(),{data:t,isLoading:r}=ue({queryKey:["/api/admin/curation-status"],queryFn:()=>_e("/api/admin/curation-status"),refetchInterval:1e4}),{data:a}=ue({queryKey:["/api/admin/curation-runs"],queryFn:()=>_e("/api/admin/curation-runs?limit=20"),refetchInterval:1e4}),i=qe({mutationFn:async v=>await _e("/api/admin/toggle-curation","POST",{enabled:v}),onSuccess:(v,m)=>{Pe.invalidateQueries({queryKey:["/api/admin/curation-status"]}),e({title:m?"Auto-Curation Enabled":"Auto-Curation Disabled",description:m?"Automatic video curation is now running on schedule":"Automatic video curation has been paused"})},onError:v=>{e({title:"Error",description:v.message||"Failed to update settings",variant:"destructive"})}}),s=qe({mutationFn:async()=>await _e("/api/admin/run-curation","POST",{}),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/curation-status"]}),Pe.invalidateQueries({queryKey:["/api/admin/curation-runs"]}),e({title:"Curation Started",description:"Manual curation run started successfully"})},onError:v=>{e({title:"Error",description:v.message||"Failed to start curation",variant:"destructive"})}}),o=(v,m)=>{if(!m)return"In progress...";const j=new Date(v).getTime(),w=new Date(m).getTime()-j,S=Math.floor(w/1e3);if(S<60)return`${S}s`;const k=Math.floor(S/60),C=S%60;return`${k}m ${C}s`},l=v=>new Date(v).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),c=v=>{switch(v){case"completed":return n.jsxs(ae,{variant:"default",className:"bg-green-600",children:[n.jsx(Ta,{className:"w-3 h-3 mr-1"}),"Completed"]});case"running":return n.jsxs(ae,{variant:"secondary",children:[n.jsx(ze,{className:"w-3 h-3 mr-1 animate-spin"}),"Running"]});case"failed":return n.jsxs(ae,{variant:"destructive",children:[n.jsx(qo,{className:"w-3 h-3 mr-1"}),"Failed"]});default:return n.jsx(ae,{variant:"outline",children:v})}},d=v=>{if(!v)return n.jsx(ae,{variant:"outline",children:"-"});switch(v){case"ok":return n.jsxs(ae,{variant:"default",className:"bg-green-600 dark:bg-green-700",children:[n.jsx(_a,{className:"w-3 h-3 mr-1"}),"OK"]});case"low":return n.jsxs(ae,{variant:"secondary",className:"bg-yellow-600 dark:bg-yellow-700 text-white dark:text-white",children:[n.jsx(Rs,{className:"w-3 h-3 mr-1"}),"Low"]});case"high":return n.jsxs(ae,{variant:"secondary",className:"bg-orange-600 dark:bg-orange-700 text-white dark:text-white",children:[n.jsx(Rs,{className:"w-3 h-3 mr-1"}),"High"]});case"critical":return n.jsxs(ae,{variant:"destructive",children:[n.jsx(Tn,{className:"w-3 h-3 mr-1"}),"Critical"]});case"no-data":return n.jsxs(ae,{variant:"outline",children:[n.jsx(Gz,{className:"w-3 h-3 mr-1"}),"No Data"]});default:return n.jsx(ae,{variant:"outline",children:v})}};if(r)return n.jsx(Ut,{children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx(ze,{className:"w-8 h-8 animate-spin"})})});const u=(t==null?void 0:t.enabled)||!1,f=(t==null?void 0:t.today)||{},h=(t==null?void 0:t.quota)||{},p=(t==null?void 0:t.capacity)||{},b=t==null?void 0:t.lastRun,g=(a==null?void 0:a.runs)||[];return n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-3xl font-bold",children:"Video Library Auto-Curation"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Automated discovery and quality control for BJJ technique videos"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-muted rounded-lg",children:[n.jsx(le,{htmlFor:"auto-curation-toggle",className:"cursor-pointer font-medium",children:"Auto-Curation"}),n.jsx(rN,{id:"auto-curation-toggle",checked:u,onCheckedChange:v=>i.mutate(v),disabled:i.isPending,"data-testid":"toggle-auto-curation"}),u?n.jsx(ae,{variant:"default",className:"bg-green-600",children:"ON"}):n.jsx(ae,{variant:"secondary",children:"OFF"})]}),n.jsx(Y,{onClick:()=>s.mutate(),disabled:s.isPending,"data-testid":"button-run-now",children:s.isPending?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Running..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Run Now"]})})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-1",children:[n.jsx(J,{className:"text-sm font-medium",children:"Today's Runs"}),n.jsx(Ni,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-today-runs",children:f.runs||0}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[f.videosApproved||0," videos added"]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-1",children:[n.jsx(J,{className:"text-sm font-medium",children:"Quota Used"}),n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsxs("div",{className:"text-2xl font-bold","data-testid":"stat-quota-used",children:[h.percentUsed||"0","%"]}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[h.used||0," / ",h.limit||0]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-1",children:[n.jsx(J,{className:"text-sm font-medium",children:"Quota Remaining"}),n.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-quota-remaining",children:((y=h.remaining)==null?void 0:y.toLocaleString())||0}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"API calls left"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-1",children:[n.jsx(J,{className:"text-sm font-medium",children:"Batch Size"}),n.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-batch-size",children:p.batchSize||0}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[p.runsPerDay||0,"x per day"]})]})]})]}),n.jsxs(q,{children:[n.jsx(X,{children:n.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[n.jsxs("div",{children:[n.jsx(J,{children:"Recent Curation Runs"}),n.jsx(Fe,{children:"Latest automated video discovery sessions"})]}),b&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx(Mi,{className:"w-4 h-4"}),"Last run: ",l(b.runDate)]})]})}),n.jsx(H,{children:g.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No curation runs yet. Click "Run Now" to start the first run.'}):n.jsx("div",{className:"rounded-lg border",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Started"}),n.jsx(G,{children:"Status"}),n.jsx(G,{children:"Guardrail"}),n.jsx(G,{className:"text-right",children:"Reviewed"}),n.jsx(G,{className:"text-right",children:"Added"}),n.jsx(G,{className:"text-right",children:"Rejected"}),n.jsx(G,{className:"text-right",children:"Skipped"}),n.jsx(G,{className:"text-right",children:"Accept Rate"}),n.jsx(G,{className:"text-right",children:"Duration"})]})}),n.jsx(kt,{children:g.map((v,m)=>n.jsxs(we,{"data-testid":`row-run-${m}`,children:[n.jsx(V,{className:"text-sm",children:l(v.runDate||v.startedAt)}),n.jsx(V,{children:c(v.status)}),n.jsx(V,{children:d(v.guardrailStatus)}),n.jsx(V,{className:"text-right font-mono text-sm",children:v.videosAnalyzed||0}),n.jsx(V,{className:"text-right font-mono text-sm text-green-600",children:v.videosAdded||0}),n.jsx(V,{className:"text-right font-mono text-sm text-muted-foreground",children:v.videosRejected||0}),n.jsx(V,{className:"text-right font-mono text-sm text-muted-foreground",children:n.jsx(B1,{children:n.jsxs(JI,{children:[n.jsx(ZI,{asChild:!0,children:n.jsx("span",{className:"cursor-help",children:(v.videosSkippedDuration||0)+(v.videosSkippedDuplicates||0)+(v.videosSkippedQuota||0)+(v.videosSkippedOther||0)})}),n.jsx(z1,{children:n.jsxs("div",{className:"text-xs space-y-1",children:[n.jsxs("div",{children:["Duration: ",v.videosSkippedDuration||0]}),n.jsxs("div",{children:["Duplicates: ",v.videosSkippedDuplicates||0]}),n.jsxs("div",{children:["Quota: ",v.videosSkippedQuota||0]}),n.jsxs("div",{children:["Other: ",v.videosSkippedOther||0]})]})})]})})}),n.jsx(V,{className:"text-right font-mono text-sm",children:v.acceptanceRate?`${Math.round(parseFloat(v.acceptanceRate))}%`:"-"}),n.jsx(V,{className:"text-right text-sm text-muted-foreground",children:o(v.startedAt,v.completedAt)})]},v.id||m))})]})})})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"How Auto-Curation Works"}),n.jsx(Fe,{children:"Fully automated video discovery and quality control system"})]}),n.jsxs(H,{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground",children:"1"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"YouTube Discovery"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Searches YouTube for BJJ techniques using targeted queries"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground",children:"2"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"AI Quality Analysis"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Claude analyzes teaching quality, instructor credibility, and content value"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground",children:"3"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Metadata Extraction"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Extracts technique details, timestamps, prerequisites, and skill levels"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground",children:"4"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Auto-Accept or Reject"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Videos scoring above threshold are automatically added to library"})]})]})]})]})]})})}function mwe(){var g,y,v;const[e,t]=x.useState("today"),[r,a]=x.useState(30),[i,s]=x.useState(!1),{data:o,isLoading:l,refetch:c,dataUpdatedAt:d}=ue({queryKey:["/api/analytics/stats",e],queryFn:async()=>{const m=await fetch(`/api/analytics/stats?range=${e}`,{credentials:"include"});if(!m.ok)throw new Error("Failed to fetch analytics");return m.json()},refetchInterval:3e4}),{data:u,refetch:f}=ue({queryKey:["/api/analytics/raw-visitors",e],queryFn:async()=>{const m=await fetch(`/api/analytics/raw-visitors?range=${e}`,{credentials:"include"});if(!m.ok)throw new Error("Failed to fetch raw data");return m.json()},enabled:i,refetchInterval:3e4});x.useEffect(()=>{const m=setInterval(()=>{a(j=>j<=1?30:j-1)},1e3);return()=>clearInterval(m)},[]),x.useEffect(()=>{a(30)},[d]);const h=m=>{t(m)},p=()=>{c(),i&&f(),a(30)},b=m=>new Date(m).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return l||!o?n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-analytics-title",children:"Website Analytics"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Track visitor stats, geographic breakdown, and top pages"})]})}),n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"text-muted-foreground",children:"Loading analytics..."})})]})}):n.jsx(Ut,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-analytics-title",children:"Website Analytics"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:"Track visitor stats, geographic breakdown, and top pages"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-green-500/10 border border-green-500/30 px-3 py-2 rounded-lg","data-testid":"live-visitors-indicator",children:[n.jsxs("div",{className:"relative",children:[n.jsx(lI,{className:"w-4 h-4 text-green-500"}),n.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),n.jsxs("span",{className:"text-green-500 font-semibold",children:[o.liveVisitors," live"]})]}),n.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground text-sm","data-testid":"refresh-countdown",children:[n.jsx(Mi,{className:"w-3.5 h-3.5"}),n.jsxs("span",{children:["Refreshing in ",r,"s"]})]}),n.jsxs(Xe,{value:e,onValueChange:m=>h(m),children:[n.jsxs(Ye,{className:"w-[160px]","data-testid":"select-time-range",children:[n.jsx(Cx,{className:"w-4 h-4 mr-2"}),n.jsx(Je,{})]}),n.jsxs(Qe,{children:[n.jsx(K,{value:"today","data-testid":"option-today",children:"Today"}),n.jsx(K,{value:"7d","data-testid":"option-7d",children:"Last 7 Days"}),n.jsx(K,{value:"30d","data-testid":"option-30d",children:"Last 30 Days"}),n.jsx(K,{value:"all","data-testid":"option-all",children:"All Time"})]})]}),n.jsxs(Y,{variant:"outline",size:"sm",onClick:p,"data-testid":"button-refresh-analytics",children:[n.jsx(i7,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Views"}),n.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-views",children:((g=o==null?void 0:o.stats)==null?void 0:g.totalViews)??0}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[e==="today"&&"Page views in the last 24 hours",e==="7d"&&"Page views in the last 7 days",e==="30d"&&"Page views in the last 30 days",e==="all"&&"Total page views all time"]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Unique Visitors"}),n.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-unique-visitors",children:((y=o==null?void 0:o.stats)==null?void 0:y.uniqueVisitors)??0}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Real humans (bots filtered)"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Sessions"}),n.jsx(S0,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sessions",children:((v=o==null?void 0:o.stats)==null?void 0:v.sessions)??0}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active browsing sessions"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Bots Filtered"}),n.jsx(Hz,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-500","data-testid":"text-bot-count",children:(o==null?void 0:o.botCount)??0}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Crawlers, scrapers, bots excluded"})]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(yy,{className:"w-5 h-5"}),"Device Breakdown"]}),n.jsx(Fe,{children:"Mobile vs Desktop visitors (bots excluded)"})]}),n.jsx(H,{children:o!=null&&o.deviceBreakdown&&o.deviceBreakdown.length>0?n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:o.deviceBreakdown.map((m,j)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg","data-testid":`device-${m.deviceType||"unknown"}`,children:[m.deviceType==="mobile"?n.jsx(Au,{className:"w-8 h-8 text-blue-500"}):m.deviceType==="tablet"?n.jsx(Au,{className:"w-8 h-8 text-purple-500"}):n.jsx(yy,{className:"w-8 h-8 text-green-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold capitalize",children:m.deviceType||"Unknown"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.views," views (",m.uniqueVisitors," unique)"]})]})]},j))}):n.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No device data available"})})]}),n.jsxs(sl,{defaultValue:"pages",className:"space-y-4",children:[n.jsxs(Zs,{children:[n.jsx(Zt,{value:"pages",children:"Top Pages"}),n.jsx(Zt,{value:"sources",children:"Traffic Sources"}),n.jsx(Zt,{value:"raw",onClick:()=>s(!0),children:"Raw Visitor Data"})]}),n.jsx(er,{value:"pages",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(S0,{className:"w-5 h-5"}),"Top Pages"]}),n.jsx(Fe,{children:"Most visited pages (bots excluded)"})]}),n.jsx(H,{children:o!=null&&o.topPages&&o.topPages.length>0?n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Page Path"}),n.jsx(G,{className:"text-right",children:"Views"})]})}),n.jsx(kt,{children:o.topPages.map((m,j)=>n.jsxs(we,{"data-testid":`row-top-page-${j}`,children:[n.jsx(V,{className:"font-mono text-sm",children:m.pagePath}),n.jsx(V,{className:"text-right",children:n.jsx(ae,{variant:"secondary",children:m.views})})]},j))})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No page views recorded"})})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(uk,{className:"w-5 h-5"}),"Traffic Sources"]}),n.jsx(Fe,{children:"Where visitors came from"})]}),n.jsx(H,{children:o!=null&&o.sources&&o.sources.length>0?n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Source"}),n.jsx(G,{className:"text-right",children:"Views"})]})}),n.jsx(kt,{children:o.sources.map((m,j)=>n.jsxs(we,{"data-testid":`row-source-${j}`,children:[n.jsx(V,{children:m.source??"Direct"}),n.jsx(V,{className:"text-right",children:n.jsx(ae,{variant:"secondary",children:m.views})})]},j))})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No traffic source data"})})]})]})}),n.jsx(er,{value:"sources",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(r7,{className:"w-5 h-5"}),"USA States Breakdown"]}),n.jsx(Fe,{children:"Top 20 US states by visitor count"})]}),n.jsx(H,{children:o!=null&&o.usaStates&&o.usaStates.length>0?n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"State"}),n.jsx(G,{className:"text-right",children:"Views"}),n.jsx(G,{className:"text-right",children:"Visitors"})]})}),n.jsx(kt,{children:o.usaStates.map((m,j)=>n.jsxs(we,{"data-testid":`row-state-${m.stateCode??j}`,children:[n.jsx(V,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ae,{variant:"outline",className:"font-mono",children:m.stateCode??"Unknown"}),n.jsx("span",{children:m.stateName??"Unknown"})]})}),n.jsx(V,{className:"text-right",children:n.jsx(ae,{variant:"secondary",children:m.views})}),n.jsx(V,{className:"text-right",children:n.jsx(ae,{variant:"secondary",children:m.uniqueVisitors})})]},j))})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No US state data available"})})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(uk,{className:"w-5 h-5"}),"Countries Breakdown"]}),n.jsx(Fe,{children:"Top 20 countries by visitor count"})]}),n.jsx(H,{children:o!=null&&o.countries&&o.countries.length>0?n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Country"}),n.jsx(G,{className:"text-right",children:"Views"}),n.jsx(G,{className:"text-right",children:"Visitors"})]})}),n.jsx(kt,{children:o.countries.map((m,j)=>n.jsxs(we,{"data-testid":`row-country-${m.countryCode??j}`,children:[n.jsx(V,{children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ae,{variant:"outline",className:"font-mono",children:m.countryCode??"Unknown"}),n.jsx("span",{children:m.countryName??"Unknown"})]})}),n.jsx(V,{className:"text-right",children:n.jsx(ae,{variant:"secondary",children:m.views})}),n.jsx(V,{className:"text-right",children:n.jsx(ae,{variant:"secondary",children:m.uniqueVisitors})})]},j))})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No country data available"})})]})]})}),n.jsx(er,{value:"raw",children:n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(ur,{className:"w-5 h-5"}),"Raw Visitor Data"]}),n.jsxs(Fe,{children:["Detailed visitor information for verification (",(u==null?void 0:u.uniqueVisitors)??0," unique visitors today)"]})]}),n.jsx(H,{children:u!=null&&u.visitors&&u.visitors.length>0?n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Visitor ID"}),n.jsx(G,{children:"Device"}),n.jsx(G,{children:"Browser/OS"}),n.jsx(G,{children:"Location"}),n.jsx(G,{children:"Pages"}),n.jsx(G,{children:"First Seen"}),n.jsx(G,{children:"Last Seen"})]})}),n.jsx(kt,{children:u.visitors.map((m,j)=>n.jsxs(we,{"data-testid":`row-visitor-${j}`,children:[n.jsxs(V,{className:"font-mono text-xs",children:[m.visitorId.slice(0,8),"..."]}),n.jsx(V,{children:m.deviceType==="mobile"?n.jsxs(ae,{variant:"outline",className:"gap-1",children:[n.jsx(Au,{className:"w-3 h-3"})," Mobile"]}):n.jsxs(ae,{variant:"outline",className:"gap-1",children:[n.jsx(yy,{className:"w-3 h-3"})," Desktop"]})}),n.jsxs(V,{className:"text-sm",children:[m.browser||"Unknown"," / ",m.os||"Unknown"]}),n.jsx(V,{children:n.jsx(ae,{variant:"secondary",children:m.location||"Unknown"})}),n.jsx(V,{children:n.jsxs(ae,{children:[m.pageViews," pages"]})}),n.jsx(V,{className:"text-sm",children:b(m.firstSeen)}),n.jsx(V,{className:"text-sm",children:b(m.lastSeen)})]},j))})]}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i?"No visitor data for today":"Click to load raw visitor data"})})]})})]})]})})}const pwe=["How many users signed up today?","What's the current MRR?","How many videos were added this week?","What's the trial conversion rate?","Are there any curation jobs running?","Show me today's key metrics"];function gwe(){const[e,t]=x.useState(""),[r,a]=x.useState(null),i=x.useRef(null),s=x.useRef(null),{toast:o}=tt(),{data:l,isLoading:c}=ue({queryKey:["/api/admin/dev-os/history"],refetchInterval:5e3}),d=(l==null?void 0:l.messages)||[];x.useEffect(()=>{if(console.log(" [FRONTEND] History data updated:",{messageCount:d.length,isLoading:c}),d.length>0){const v=d.slice(-3);console.log(" [FRONTEND] Last 3 messages:"),v.forEach((m,j)=>{var N,w;console.log(`  ${j+1}. Role: ${m.role}, Content length: ${((N=m.content)==null?void 0:N.length)||0}, Content: ${((w=m.content)==null?void 0:w.substring(0,100))||"[EMPTY]"}`)})}},[d,c]);const u=qe({mutationFn:async v=>{var j;console.log(" [FRONTEND] Sending message to Dev OS:",v);const m=await _e("/api/admin/dev-os/chat","POST",{message:v});return console.log(" [FRONTEND] Response received:",m),console.log(" [FRONTEND] Response keys:",Object.keys(m||{})),console.log(" [FRONTEND] Response.response field:",m==null?void 0:m.response),console.log(" [FRONTEND] Response.response length:",(j=m==null?void 0:m.response)==null?void 0:j.length),m},onSuccess:async v=>{console.log(" [FRONTEND] Mutation success, data:",v),console.log(" [FRONTEND] Invalidating history query..."),await Pe.invalidateQueries({queryKey:["/api/admin/dev-os/history"]}),console.log(" [FRONTEND] History query invalidated")},onError:v=>{console.error(" [FRONTEND] Mutation error:",v),o({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}}),f=qe({mutationFn:async()=>_e("/api/admin/dev-os/clear-history","POST",{}),onSuccess:async()=>{await Pe.invalidateQueries({queryKey:["/api/admin/dev-os/history"]}),o({title:"Chat Cleared",description:"Your chat history has been cleared"})},onError:()=>{o({title:"Error",description:"Failed to clear history",variant:"destructive"})}}),h=qe({mutationFn:async()=>_e("/api/admin/dev-os/daily-report","GET",void 0),onSuccess:async()=>{await Pe.invalidateQueries({queryKey:["/api/admin/dev-os/history"]}),o({title:"Daily Report Generated",description:"Check the chat for your daily report"})},onError:()=>{o({title:"Error",description:"Failed to generate daily report",variant:"destructive"})}}),p=v=>{const m=String(v||e);m.trim()&&(t(""),u.mutate(m))},b=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),p())},g=v=>{navigator.clipboard.writeText(v.content),a(v.id),setTimeout(()=>a(null),2e3),o({title:"Copied",description:"Message copied to clipboard"})},y=()=>{var v;(v=i.current)==null||v.scrollIntoView({behavior:"smooth"})};return x.useEffect(()=>{y()},[d]),x.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=s.current.scrollHeight+"px")},[e]),n.jsx(Ut,{children:n.jsxs("div",{className:"admin-chat-container",children:[n.jsxs("div",{className:"chat-page-header",children:[n.jsx("div",{className:"chat-header-title",children:n.jsx("h2",{children:"Dev OS"})}),n.jsxs("div",{className:"chat-header-actions",children:[n.jsxs(Y,{variant:"outline",onClick:()=>h.mutate(),disabled:h.isPending,className:"chat-action-btn","data-testid":"button-daily-report",children:[n.jsx(af,{className:"w-4 h-4 btn-icon"}),n.jsx("span",{className:"btn-label",children:"Daily Report"})]}),n.jsxs(Y,{variant:"outline",onClick:()=>f.mutate(),disabled:d.length===0||f.isPending,className:"chat-action-btn","data-testid":"button-clear-chat",children:[n.jsx("span",{className:"btn-icon",children:""}),n.jsx("span",{className:"btn-label",children:"Clear History"})]})]})]}),n.jsxs(q,{className:"quick-prompts-section p-4",children:[n.jsx("h3",{className:"quick-prompts-title",children:"Quick Prompts"}),n.jsx("div",{className:"quick-prompts-grid",children:pwe.map((v,m)=>n.jsx(ae,{variant:"outline",className:"quick-prompt-badge cursor-pointer hover-elevate active-elevate-2",onClick:()=>p(v),"data-testid":`quick-prompt-${m}`,children:v},m))})]}),n.jsxs("div",{className:"chat-messages-wrapper",children:[n.jsxs("div",{className:"chat-messages-list",children:[c&&n.jsx("div",{className:"chat-loading",children:"Loading chat history..."}),!c&&d.length===0&&n.jsxs("div",{className:"chat-empty",children:[n.jsx("div",{className:"chat-empty-icon",children:n.jsx(Ql,{})}),n.jsx("p",{className:"text-lg font-medium",children:"Start chatting with Dev OS"}),n.jsx("p",{className:"chat-empty-text",children:"Try one of the quick prompts above or type your own message"}),n.jsx("p",{className:"text-xs mt-2 opacity-60",children:"Messages persist for 48 hours"})]}),d.map(v=>n.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 relative group ${v.role==="user"?"bg-primary text-primary-foreground":v.messageType==="report"?"bg-accent border-2 border-primary":"bg-muted"}`,"data-testid":`message-${v.role}`,children:[n.jsx("button",{onClick:()=>g(v),className:`absolute top-2 right-2 p-1.5 rounded-md opacity-0 group-hover:opacity-100 transition-opacity ${v.role==="user"?"hover:bg-primary-foreground/20":"hover:bg-muted-foreground/20"}`,"data-testid":`button-copy-${v.id}`,children:r===v.id?n.jsx(zr,{className:"w-4 h-4"}):n.jsx(Tp,{className:"w-4 h-4"})}),v.messageType==="report"&&n.jsxs(ae,{variant:"secondary",className:"mb-2",children:[n.jsx(af,{className:"w-3 h-3 mr-1"}),"Daily Report"]}),n.jsx("p",{className:"whitespace-pre-wrap pr-8",children:v.content}),n.jsx("p",{className:"text-xs mt-2 opacity-70",children:new Date(v.createdAt).toLocaleString()})]})},v.id)),u.isPending&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-muted rounded-lg p-4",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}),n.jsx("div",{ref:i})]}),n.jsx("div",{className:"chat-input-wrapper",children:n.jsxs("div",{className:"chat-input-form",children:[n.jsx("div",{className:"chat-textarea-wrapper",children:n.jsx(ti,{ref:s,value:e,onChange:v=>t(v.target.value),onKeyDown:b,placeholder:"Ask about BJJ OS metrics, system health, or business data...",className:"chat-textarea",rows:1,"data-testid":"input-message"})}),n.jsx(Y,{onClick:()=>p(),disabled:!e.trim()||u.isPending,className:"chat-send-btn","data-testid":"button-send",children:n.jsx(Tc,{className:"w-4 h-4"})})]})})]})]})})}function xwe(){const[e,t]=x.useState({}),[r,a]=x.useState({}),[i,s]=x.useState([]),[o,l]=x.useState("idle"),[c,d]=x.useState(!1),[u,f]=x.useState({qualityThreshold:7,videosPerRun:20,focusInstructors:""}),[h,p]=x.useState([]),[b,g]=x.useState(null),y=x.useRef(null),v=x.useRef(null),{toast:m}=tt();x.useEffect(()=>{N(),w()},[]),x.useEffect(()=>{v.current&&h.length>0&&v.current.scrollIntoView({behavior:"smooth"})},[h]);const j=O=>{y.current&&y.current.close(),g(O),p([]);const I=new EventSource(`/api/admin/curation/stream?runId=${O}`);y.current=I,I.onmessage=P=>{try{const R=JSON.parse(P.data);R.type==="success"&&R.message.includes("complete")?(p($=>[...$,{id:crypto.randomUUID(),timestamp:R.time||new Date().toISOString(),message:R.message,icon:R.icon||""}]),l("idle"),N(),I.close()):R.type==="error"?(p($=>[...$,{id:crypto.randomUUID(),timestamp:R.time||new Date().toISOString(),message:R.message,icon:R.icon||""}]),l("idle"),I.close()):p($=>[...$,{id:crypto.randomUUID(),timestamp:R.time||new Date().toISOString(),message:R.message,icon:R.icon||"",detail:R.data}])}catch(R){console.error("Failed to parse SSE event:",R)}},I.onerror=()=>{console.log("SSE connection closed or error"),I.close(),l("idle"),p(P=>[...P,{id:crypto.randomUUID(),timestamp:new Date().toISOString(),message:"Connection lost - check logs for final results",icon:""}]),N()}};x.useEffect(()=>()=>{y.current&&y.current.close()},[]);const N=async()=>{try{const I=await(await fetch("/api/admin/command/log?limit=20")).json();I.success&&s(I.logs)}catch(O){console.error("Failed to load command log:",O)}},w=async()=>{var O;try{const P=await(await fetch("/api/admin/curation/settings")).json();P&&f({qualityThreshold:P.qualityThreshold||7,videosPerRun:P.videosPerRun||20,focusInstructors:((O=P.focusInstructors)==null?void 0:O.join(", "))||""})}catch(I){console.error("Failed to load settings:",I)}},S=async()=>{try{(await fetch("/api/admin/curation/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qualityThreshold:u.qualityThreshold,videosPerRun:u.videosPerRun,focusInstructors:u.focusInstructors.split(",").map(I=>I.trim()).filter(Boolean)})})).ok&&m({title:" Settings Saved",description:"Changes will apply to next curation run"})}catch(O){m({title:" Failed to Save",description:O.message,variant:"destructive"})}},k=async(O,I={})=>{var P;t(R=>({...R,[O]:!0}));try{const $=await(await fetch("/api/admin/command",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:O,params:I})})).json();$.result&&a(_=>({..._,[O]:$.result}));const E=$.runId||((P=$.data)==null?void 0:P.runId);O==="run_curation"&&$.success&&E?(l("running"),j(E),m({title:" Curation Started",description:"Watch live progress below!"})):O==="run_curation"&&$.success?(l("running"),m({title:" Curation Started",description:"Running in background. You'll receive an email in 5-10 minutes with results."}),setTimeout(()=>l("idle"),3e4)):m({title:$.success?" Command Executed":" Command Failed",description:$.message,variant:$.success?"default":"destructive"}),await N(),t(_=>({..._,[O]:!1}))}catch(R){const $=R.message||"Failed to execute command";a(E=>({...E,[O]:{status:"error",title:"Command Failed",timestamp:new Date().toISOString(),actions:[$]}})),m({title:" Command Failed",description:$,variant:"destructive"}),t(E=>({...E,[O]:!1}))}},C=({result:O})=>n.jsx("div",{className:`mt-3 rounded-lg border ${O.status==="success"?"border-green-500/50 bg-green-500/5":"border-destructive/50 bg-destructive/5"}`,children:n.jsxs("div",{className:"p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-lg",children:O.status==="success"?"":""}),n.jsx("span",{className:"font-semibold",children:O.title})]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(O.timestamp).toLocaleTimeString()})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-1.5",children:"What Happened:"}),n.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground",children:O.actions.map((I,P)=>n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-primary mt-0.5",children:""}),n.jsx("span",{children:I})]},P))})]}),O.metrics&&Object.keys(O.metrics).length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Results:"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(O.metrics).map(([I,P])=>n.jsxs("div",{className:"flex flex-col gap-0.5",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:I}),n.jsx("span",{className:"text-sm font-medium",children:P})]},I))})]}),O.changes&&O.changes.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold mb-1.5",children:"Changes Made:"}),n.jsx("ul",{className:"space-y-1 text-sm",children:O.changes.map((I,P)=>n.jsxs("li",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx("span",{children:I.before}),n.jsx("span",{className:"text-primary",children:""}),n.jsx("span",{className:"font-medium text-foreground",children:I.after})]},P))})]}),O.viewLink&&n.jsxs("a",{href:O.viewLink,className:"inline-flex items-center gap-1 text-sm text-primary hover:underline",children:["View Details ",n.jsx(xi,{className:"h-3 w-3"})]})]})}),A=({icon:O,title:I,duration:P,command:R,danger:$=!1})=>{const E=e[R],_=r[R],M=R==="run_curation"&&o==="running";return n.jsx(q,{className:`${$?"border-destructive/50":""} hover-elevate`,children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(O,{className:`h-5 w-5 ${$?"text-destructive":"text-primary"}`}),n.jsx("h3",{className:"font-semibold",children:I})]}),n.jsx(ae,{variant:"outline",className:"text-xs",children:E||M?" Running...":P})]}),n.jsx(Y,{onClick:()=>k(R),disabled:E||M,variant:$?"destructive":"default",className:"w-full","data-testid":`button-${R}`,children:M?"Running...":"Execute"}),R==="run_curation"&&M&&h.length>0&&n.jsxs("div",{className:"bg-background border border-primary/30 rounded-md overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-primary/10 border-b border-primary/20",children:[n.jsx(lI,{className:"h-3 w-3 text-primary animate-pulse"}),n.jsx("span",{className:"text-xs font-medium text-primary",children:"Live Progress"}),n.jsxs(ae,{variant:"outline",className:"text-[10px] ml-auto",children:[h.length," events"]})]}),n.jsx(PS,{className:"h-48",children:n.jsxs("div",{className:"p-2 space-y-1 text-xs font-mono",children:[h.map(T=>n.jsxs("div",{className:"flex items-start gap-2 py-0.5",children:[n.jsx("span",{className:"w-4 text-center flex-shrink-0",children:T.icon}),n.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:new Date(T.timestamp).toLocaleTimeString("en-US",{hour12:!1})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("span",{className:"text-foreground",children:T.message}),T.detail&&n.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",T.detail,")"]})]})]},T.id)),n.jsx("div",{ref:v})]})})]}),R==="run_curation"&&M&&h.length===0&&n.jsxs("div",{className:"bg-muted/50 border border-border rounded-md p-3 text-sm space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[n.jsx($i,{className:"h-4 w-4"}),n.jsx("span",{children:"Curation running in background"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground",children:["You'll receive an email in 5-10 minutes with:",n.jsxs("ul",{className:"list-disc list-inside mt-1 ml-2",children:[n.jsx("li",{children:"Videos analyzed"}),n.jsx("li",{children:"Videos added to library"}),n.jsx("li",{children:"API quota used"})]})]})]}),_&&n.jsx(C,{result:_})]})})})};return n.jsx(Ut,{children:n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:" Command Center"}),n.jsx("p",{className:"text-muted-foreground",children:"Execute system commands and operations"})]}),n.jsxs(Y,{variant:"outline",onClick:N,"data-testid":"button-refresh-logs",children:[n.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Refresh Logs"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-xl font-semibold",children:" Curation Controls"}),n.jsx(ae,{variant:"outline",children:"System Operations"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsx(A,{icon:Qn,title:" Run Curation",duration:"5-10 min",command:"run_curation"}),n.jsx(A,{icon:Kz,title:" Take Snapshot",duration:"~30 sec",command:"take_snapshot"}),n.jsx(A,{icon:al,title:" Flush Cache",duration:"Instant",command:"flush_cache"})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"cursor-pointer",onClick:()=>d(!c),children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vd,{className:"h-5 w-5"}),n.jsx(J,{className:"text-base",children:" Curation Settings"})]}),c?n.jsx(rI,{className:"h-4 w-4"}):n.jsx(Ax,{className:"h-4 w-4"})]}),n.jsx(Fe,{className:"text-xs",children:"Customize curation parameters"})]}),c&&n.jsxs(H,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(le,{htmlFor:"quality-threshold",className:"text-sm flex justify-between",children:[n.jsx("span",{children:"Quality Threshold"}),n.jsx("span",{className:"font-bold",children:u.qualityThreshold})]}),n.jsx(Lu,{id:"quality-threshold",min:5,max:9,step:.5,value:[u.qualityThreshold],onValueChange:O=>f({...u,qualityThreshold:O[0]}),className:"w-full"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum quality score for videos (5-9)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"videos-per-run",className:"text-sm",children:"Videos to Analyze Per Run"}),n.jsxs("select",{id:"videos-per-run",value:u.videosPerRun,onChange:O=>f({...u,videosPerRun:parseInt(O.target.value)}),className:"w-full p-2 border rounded bg-background",children:[n.jsx("option",{value:"10",children:"10 (Fast - 3 min)"}),n.jsx("option",{value:"20",children:"20 (Normal - 5 min)"}),n.jsx("option",{value:"30",children:"30 (Thorough - 8 min)"}),n.jsx("option",{value:"50",children:"50 (Maximum - 12 min)"})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"More videos = longer runtime, more results"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"focus-instructors",className:"text-sm",children:"Priority Instructors"}),n.jsx(be,{id:"focus-instructors",type:"text",placeholder:"e.g., John Danaher, Gordon Ryan",value:u.focusInstructors,onChange:O=>f({...u,focusInstructors:O.target.value}),className:"w-full"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated list of instructors to prioritize"})]}),n.jsx(Y,{onClick:S,className:"w-full",variant:"default",children:" Save Settings"}),n.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Settings apply to next curation run"})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h2",{className:"text-xl font-semibold",children:" System Maintenance"}),n.jsx(ae,{variant:"outline",children:"API Testing"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.jsx(A,{icon:c7,title:" Test APIs",duration:"~10 sec",command:"test_apis"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h2",{className:"text-xl font-semibold",children:" Recent Commands"}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Execution Log"}),n.jsxs(Fe,{children:["Last ",i.length," commands executed"]})]}),n.jsx(H,{children:n.jsx("div",{className:"space-y-2",children:i.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No commands executed yet"}):i.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded border bg-card hover-elevate","data-testid":`log-entry-${O.id}`,children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx(ae,{variant:O.success?"default":"destructive",children:O.success?"":""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:O.command}),n.jsx("div",{className:"text-xs text-muted-foreground",children:O.message})]})]}),n.jsxs("div",{className:"text-xs text-muted-foreground text-right",children:[n.jsx("div",{children:new Date(O.timestamp).toLocaleString()}),n.jsxs("div",{className:"text-[10px]",children:[O.executionTimeMs,"ms"]})]})]},O.id))})})]})]})]})})}function vwe(){var m,j,N,w,S,k,C,A,O,I,P,R,$,E,_,M,T,D,B,ee,re,oe,ve;const[e,t]=x.useState(!1),[r,a]=x.useState(""),[i,s]=x.useState(""),[o,l]=x.useState(null),{toast:c}=tt(),d=qe({mutationFn:async ce=>(await ut("POST","/api/admin/login",{password:ce})).json(),onSuccess:()=>{t(!0),c({title:"Login successful"})},onError:()=>{c({title:"Invalid password",variant:"destructive"})}}),{data:u}=ue({queryKey:["/api/admin/dashboard/stats"],enabled:e}),{data:f,isLoading:h}=ue({queryKey:["/api/admin/users"],enabled:e}),{data:p}=ue({queryKey:["/api/admin/referrals/redemptions"],enabled:e}),{data:b}=ue({queryKey:["/api/admin/actions-log"],enabled:e}),{data:g}=ue({queryKey:["/api/admin/curation/batches"],enabled:e}),y=qe({mutationFn:async ce=>(await ut("POST","/api/admin/grant-lifetime-access",ce)).json(),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/users"]}),c({title:"Lifetime access granted successfully"}),l(null)},onError:ce=>{c({title:"Error granting lifetime access",description:ce.message,variant:"destructive"})}});if(!e)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsxs(q,{className:"w-full max-w-md",children:[n.jsxs(X,{children:[n.jsx(J,{children:"Admin Login"}),n.jsx(Fe,{children:"Enter admin password to continue"})]}),n.jsx(H,{children:n.jsxs("form",{onSubmit:ce=>{ce.preventDefault(),d.mutate(r)},className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"password","data-testid":"label-password",children:"Password"}),n.jsx(be,{id:"password",type:"password",value:r,onChange:ce=>a(ce.target.value),placeholder:"Enter admin password","data-testid":"input-password"})]}),n.jsx(Y,{type:"submit",className:"w-full",disabled:d.isPending,"data-testid":"button-login",children:d.isPending?"Logging in...":"Login"})]})})]})});const v=(f==null?void 0:f.filter(ce=>{var me,Ce;const Oe=i.toLowerCase();return((me=ce.email)==null?void 0:me.toLowerCase().includes(Oe))||((Ce=ce.username)==null?void 0:Ce.toLowerCase().includes(Oe))}))||[];return n.jsx("div",{className:"min-h-screen bg-background p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-admin-title",children:"BJJ OS Admin Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Comprehensive system management and monitoring"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Users"}),n.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-users",children:((j=(m=u==null?void 0:u.stats)==null?void 0:m.users)==null?void 0:j.totalUsers)||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",((w=(N=u==null?void 0:u.stats)==null?void 0:N.users)==null?void 0:w.newToday)||0," today"]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Active Subscriptions"}),n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-subs",children:((k=(S=u==null?void 0:u.stats)==null?void 0:S.subscriptions)==null?void 0:k.active)||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[((A=(C=u==null?void 0:u.stats)==null?void 0:C.subscriptions)==null?void 0:A.trialing)||0," trialing"]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"AI Messages Today"}),n.jsx(Io,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-ai-messages",children:((I=(O=u==null?void 0:u.stats)==null?void 0:O.ai)==null?void 0:I.messagesToday)||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[((R=(P=u==null?void 0:u.stats)==null?void 0:P.ai)==null?void 0:R.uniqueUsersToday)||0," unique users"]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Video Library"}),n.jsx(Km,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-video-library",children:((E=($=u==null?void 0:u.stats)==null?void 0:$.videoLibrary)==null?void 0:E.totalVideos)||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg rating: ",((T=(M=(_=u==null?void 0:u.stats)==null?void 0:_.videoLibrary)==null?void 0:M.avgVideoRating)==null?void 0:T.toFixed(1))||"N/A"]})]})]})]}),n.jsxs(sl,{defaultValue:"users",className:"space-y-4",children:[n.jsxs(Zs,{children:[n.jsx(Zt,{value:"users","data-testid":"tab-users",children:"User Management"}),n.jsx(Zt,{value:"referrals","data-testid":"tab-referrals",children:"Referral Redemptions"}),n.jsx(Zt,{value:"curation","data-testid":"tab-curation",children:"Video Curation"}),n.jsx(Zt,{value:"logs","data-testid":"tab-logs",children:"Admin Actions"})]}),n.jsx(er,{value:"users",className:"space-y-4",children:n.jsxs(q,{children:[n.jsx(X,{children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx(J,{children:"User Management"}),n.jsx(Fe,{children:"Manage users, grant lifetime access, and view user details"})]})})}),n.jsxs(H,{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"relative flex-1",children:[n.jsx(xn,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(be,{placeholder:"Search by email, username, or phone...",value:i,onChange:ce=>s(ce.target.value),className:"pl-8","data-testid":"input-search-users"})]})}),n.jsx("div",{className:"rounded-md border",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Email"}),n.jsx(G,{children:"Username"}),n.jsx(G,{children:"Belt Rank"}),n.jsx(G,{children:"Subscription"}),n.jsx(G,{children:"Status"}),n.jsx(G,{children:"Actions"})]})}),n.jsx(kt,{children:h?n.jsx(we,{children:n.jsx(V,{colSpan:6,className:"text-center",children:"Loading users..."})}):v.length===0?n.jsx(we,{children:n.jsx(V,{colSpan:6,className:"text-center",children:"No users found"})}):v.map(ce=>n.jsxs(we,{"data-testid":`row-user-${ce.id}`,children:[n.jsx(V,{className:"font-medium",children:ce.email}),n.jsx(V,{children:ce.username||"-"}),n.jsx(V,{children:ce.beltRank||"-"}),n.jsx(V,{children:ce.hasLifetimeAccess?n.jsxs(ae,{variant:"default",children:[n.jsx(dk,{className:"w-3 h-3 mr-1"}),"Lifetime"]}):ce.subscriptionStatus==="active"?n.jsx(ae,{variant:"default",children:"Active"}):ce.subscriptionStatus==="trialing"?n.jsx(ae,{variant:"secondary",children:"Trial"}):n.jsx(ae,{variant:"outline",children:"None"})}),n.jsx(V,{children:ce.isActive?n.jsx(ae,{variant:"default",children:"Active"}):n.jsx(ae,{variant:"destructive",children:"Inactive"})}),n.jsx(V,{children:n.jsx("div",{className:"flex gap-2",children:n.jsxs(Ar,{children:[n.jsx(mf,{asChild:!0,children:n.jsx(Y,{variant:"outline",size:"sm",onClick:()=>l(ce),"data-testid":`button-view-${ce.id}`,children:n.jsx(Rr,{className:"w-4 h-4"})})}),n.jsxs(yr,{className:"max-w-2xl",children:[n.jsxs(br,{children:[n.jsx(jr,{children:"User Details"}),n.jsx(nn,{children:"View and manage user information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(le,{children:"Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:o==null?void 0:o.email})]}),n.jsxs("div",{children:[n.jsx(le,{children:"Username"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(o==null?void 0:o.username)||"Not set"})]}),n.jsxs("div",{children:[n.jsx(le,{children:"Belt Rank"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(o==null?void 0:o.beltRank)||"Not set"})]}),n.jsxs("div",{children:[n.jsx(le,{children:"Total Sessions"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(o==null?void 0:o.totalSessions)||0})]}),n.jsxs("div",{children:[n.jsx(le,{children:"Total Hours"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:(o==null?void 0:o.totalHours)||0})]})]}),!(o!=null&&o.hasLifetimeAccess)&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Grant Lifetime Access"}),n.jsxs("form",{onSubmit:Oe=>{Oe.preventDefault();const Ce=new FormData(Oe.currentTarget).get("reason");y.mutate({email:o.email,reason:Ce})},className:"space-y-2",children:[n.jsx(ti,{name:"reason",placeholder:"Reason for granting lifetime access...",required:!0,"data-testid":"input-lifetime-reason"}),n.jsxs(Y,{type:"submit",disabled:y.isPending,"data-testid":"button-grant-lifetime",children:[n.jsx(dk,{className:"w-4 h-4 mr-2"}),y.isPending?"Granting...":"Grant Lifetime Access"]})]})]}),(o==null?void 0:o.hasLifetimeAccess)&&n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium",children:"Lifetime Access Granted"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["By: ",o.grantedLifetimeBy||"Unknown"]}),o.grantedLifetimeReason&&n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Reason: ",o.grantedLifetimeReason]})]})]})]})]})})})]},ce.id))})]})})]})]})}),n.jsx(er,{value:"referrals",className:"space-y-4",children:n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Referral Redemptions"}),n.jsx(Fe,{children:"Track referral code usage and rewards"})]}),n.jsx(H,{children:n.jsx("div",{className:"rounded-md border",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Code"}),n.jsx(G,{children:"Creator"}),n.jsx(G,{children:"Redeemed By"}),n.jsx(G,{children:"Reward"}),n.jsx(G,{children:"Date"})]})}),n.jsx(kt,{children:((D=p==null?void 0:p.redemptions)==null?void 0:D.length)===0?n.jsx(we,{children:n.jsx(V,{colSpan:5,className:"text-center",children:"No redemptions found"})}):(B=p==null?void 0:p.redemptions)==null?void 0:B.map(ce=>n.jsxs(we,{children:[n.jsx(V,{className:"font-medium",children:ce.code}),n.jsx(V,{children:ce.creatorEmail}),n.jsx(V,{children:ce.redeemerEmail}),n.jsx(V,{children:ce.rewardApplied||"1 month free"}),n.jsx(V,{children:new Date(ce.redeemedAt).toLocaleDateString()})]},ce.id))})]})})})]})}),n.jsx(er,{value:"curation",className:"space-y-4",children:n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Video Curation Batches"}),n.jsx(Fe,{children:"Monitor automated video curation performance"})]}),n.jsx(H,{children:n.jsx("div",{className:"rounded-md border",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Batch Time"}),n.jsx(G,{children:"Videos Scanned"}),n.jsx(G,{children:"Approved"}),n.jsx(G,{children:"Rejected"}),n.jsx(G,{children:"Avg Rating"}),n.jsx(G,{children:"API Cost"})]})}),n.jsx(kt,{children:((ee=g==null?void 0:g.batches)==null?void 0:ee.length)===0?n.jsx(we,{children:n.jsx(V,{colSpan:6,className:"text-center",children:"No curation batches found"})}):(re=g==null?void 0:g.batches)==null?void 0:re.map(ce=>{var Oe,me;return n.jsxs(we,{children:[n.jsx(V,{children:new Date(ce.batchTime).toLocaleString()}),n.jsx(V,{children:ce.videosScanned||0}),n.jsx(V,{children:n.jsx(ae,{variant:"default",children:ce.videosApproved||0})}),n.jsx(V,{children:n.jsx(ae,{variant:"destructive",children:ce.videosRejected||0})}),n.jsx(V,{children:((Oe=ce.avgRating)==null?void 0:Oe.toFixed(1))||"N/A"}),n.jsxs(V,{children:["$",((me=ce.apiCost)==null?void 0:me.toFixed(2))||"0.00"]})]},ce.id)})})]})})})]})}),n.jsx(er,{value:"logs",className:"space-y-4",children:n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Admin Actions Log"}),n.jsx(Fe,{children:"Track all admin actions for accountability"})]}),n.jsx(H,{children:n.jsx("div",{className:"rounded-md border",children:n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Admin"}),n.jsx(G,{children:"Action Type"}),n.jsx(G,{children:"Target User"}),n.jsx(G,{children:"Date"})]})}),n.jsx(kt,{children:((oe=b==null?void 0:b.actions)==null?void 0:oe.length)===0?n.jsx(we,{children:n.jsx(V,{colSpan:4,className:"text-center",children:"No admin actions found"})}):(ve=b==null?void 0:b.actions)==null?void 0:ve.map(ce=>n.jsxs(we,{children:[n.jsx(V,{className:"font-medium",children:ce.adminEmail}),n.jsx(V,{children:n.jsx(ae,{variant:"outline",children:ce.actionType})}),n.jsx(V,{children:ce.targetUserEmail||ce.targetUsername||"-"}),n.jsx(V,{children:new Date(ce.createdAt).toLocaleString()})]},ce.id))})]})})})]})})]})]})})}function ywe(){var k,C,A,O,I,P,R,$,E,_;const[e,t]=x.useState(!1),[r,a]=x.useState(""),[i,s]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState("all"),[u,f]=x.useState(""),{toast:h}=tt(),p=qe({mutationFn:async M=>(await ut("POST","/api/admin/login",{password:M})).json(),onSuccess:()=>{t(!0),h({title:"Login successful"})},onError:()=>{h({title:"Invalid password",variant:"destructive"})}}),{data:b,isLoading:g}=ue({queryKey:["/api/admin/email-stats"],enabled:e,refetchInterval:3e4}),{data:y,isLoading:v}=ue({queryKey:["/api/admin/email-logs",{search:i,type:o,status:c}],enabled:e,refetchInterval:3e4}),{data:m}=ue({queryKey:["/api/admin/email-problems"],enabled:e,refetchInterval:6e4}),j=qe({mutationFn:async M=>(await ut("POST",`/api/admin/email-logs/${M}/resend`,{})).json(),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/admin/email-logs"]}),Pe.invalidateQueries({queryKey:["/api/admin/email-stats"]}),h({title:"Email resent successfully"})},onError:M=>{h({title:"Failed to resend email",description:M.message,variant:"destructive"})}}),N=qe({mutationFn:async M=>(await ut("POST","/api/admin/email/send-verification",{email:M})).json(),onSuccess:M=>{Pe.invalidateQueries({queryKey:["/api/admin/email-logs"]}),Pe.invalidateQueries({queryKey:["/api/admin/email-stats"]}),h({title:"Verification email sent",description:`Code: ${M.code}`}),f("")},onError:M=>{h({title:"Failed to send email",description:M.message,variant:"destructive"})}});if(!e)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:n.jsxs(q,{className:"w-full max-w-md",children:[n.jsxs(X,{children:[n.jsx(J,{children:"Admin Login"}),n.jsx(Fe,{children:"Enter admin password to continue"})]}),n.jsx(H,{children:n.jsxs("form",{onSubmit:M=>{M.preventDefault(),p.mutate(r)},className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"password",children:"Password"}),n.jsx(be,{id:"password",type:"password",value:r,onChange:M=>a(M.target.value),placeholder:"Enter admin password","data-testid":"input-admin-password"})]}),n.jsx(Y,{type:"submit",className:"w-full",disabled:p.isPending,"data-testid":"button-admin-login",children:p.isPending?"Logging in...":"Login"})]})})]})});const w=M=>{switch(M){case"sent":return n.jsxs(ae,{variant:"secondary",className:"gap-1",children:[n.jsx(Mi,{className:"h-3 w-3"})," Sent"]});case"delivered":return n.jsxs(ae,{variant:"default",className:"gap-1 bg-green-600",children:[n.jsx(In,{className:"h-3 w-3"})," Delivered"]});case"failed":return n.jsxs(ae,{variant:"destructive",className:"gap-1",children:[n.jsx(qo,{className:"h-3 w-3"})," Failed"]});case"bounced":return n.jsxs(ae,{variant:"destructive",className:"gap-1",children:[n.jsx(Rs,{className:"h-3 w-3"})," Bounced"]});default:return n.jsx(ae,{variant:"outline",children:M})}},S=M=>{const T={verification:"bg-blue-500/20 text-blue-400 border-blue-500/30",welcome:"bg-green-500/20 text-green-400 border-green-500/30",lifetime_access:"bg-purple-500/20 text-purple-400 border-purple-500/30",lifetime_invite:"bg-amber-500/20 text-amber-400 border-amber-500/30"};return n.jsx(ae,{variant:"outline",className:T[M]||"",children:M.replace(/_/g," ")})};return n.jsx("div",{className:"min-h-screen bg-background p-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-email-admin-title",children:"Email Tracking Dashboard"}),n.jsx("p",{className:"text-muted-foreground",children:"Monitor email delivery and debug issues"})]}),n.jsxs(Ar,{children:[n.jsx(mf,{asChild:!0,children:n.jsxs(Y,{"data-testid":"button-send-test-email",children:[n.jsx(Tc,{className:"h-4 w-4 mr-2"}),"Send Test Email"]})}),n.jsxs(yr,{children:[n.jsxs(br,{children:[n.jsx(jr,{children:"Send Verification Email"}),n.jsx(nn,{children:"Send a verification email to any address for testing"})]}),n.jsx("div",{className:"space-y-4 py-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"email",children:"Email Address"}),n.jsx(be,{id:"email",type:"email",value:u,onChange:M=>f(M.target.value),placeholder:"test@example.com","data-testid":"input-test-email"})]})}),n.jsxs(Hs,{children:[n.jsx(RH,{asChild:!0,children:n.jsx(Y,{variant:"outline",children:"Cancel"})}),n.jsx(Y,{onClick:()=>N.mutate(u),disabled:!u||N.isPending,"data-testid":"button-confirm-send",children:N.isPending?"Sending...":"Send Email"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Sent Today"}),n.jsx($i,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-sent-today",children:(b==null?void 0:b.sentToday)||0}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(b==null?void 0:b.total)||0," total emails tracked"]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Delivery Rate"}),n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsxs("div",{className:"text-2xl font-bold text-green-500","data-testid":"text-delivery-rate",children:[(b==null?void 0:b.deliveryRate)||0,"%"]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(b==null?void 0:b.delivered)||0," delivered"]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Failed"}),n.jsx(fk,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold text-red-500","data-testid":"text-failed-count",children:(b==null?void 0:b.failed)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2 gap-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Bounced"}),n.jsx(t7,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold text-amber-500","data-testid":"text-bounced-count",children:(b==null?void 0:b.bounced)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Invalid addresses"})]})]})]}),n.jsxs(sl,{defaultValue:"logs",className:"space-y-4",children:[n.jsxs(Zs,{children:[n.jsx(Zt,{value:"logs","data-testid":"tab-logs",children:"All Emails"}),n.jsxs(Zt,{value:"problems","data-testid":"tab-problems",children:["Problems",(((k=m==null?void 0:m.problemEmails)==null?void 0:k.length)||0)+(((C=m==null?void 0:m.unverifiedUsers)==null?void 0:C.length)||0)>0&&n.jsx(ae,{variant:"destructive",className:"ml-2",children:(((A=m==null?void 0:m.problemEmails)==null?void 0:A.length)||0)+(((O=m==null?void 0:m.unverifiedUsers)==null?void 0:O.length)||0)})]})]}),n.jsxs(er,{value:"logs",className:"space-y-4",children:[n.jsx(q,{children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[n.jsxs("div",{className:"flex-1 min-w-[200px]",children:[n.jsx(le,{htmlFor:"search",children:"Search Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(xn,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(be,{id:"search",placeholder:"Search by email address...",value:i,onChange:M=>s(M.target.value),className:"pl-8","data-testid":"input-search-email"})]})]}),n.jsxs("div",{className:"w-[150px]",children:[n.jsx(le,{children:"Email Type"}),n.jsxs(Xe,{value:o,onValueChange:l,children:[n.jsx(Ye,{"data-testid":"select-type-filter",children:n.jsx(Je,{placeholder:"All types"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All types"}),n.jsx(K,{value:"verification",children:"Verification"}),n.jsx(K,{value:"welcome",children:"Welcome"}),n.jsx(K,{value:"lifetime_access",children:"Lifetime Access"}),n.jsx(K,{value:"lifetime_invite",children:"Lifetime Invite"})]})]})]}),n.jsxs("div",{className:"w-[150px]",children:[n.jsx(le,{children:"Status"}),n.jsxs(Xe,{value:c,onValueChange:d,children:[n.jsx(Ye,{"data-testid":"select-status-filter",children:n.jsx(Je,{placeholder:"All statuses"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All statuses"}),n.jsx(K,{value:"sent",children:"Sent"}),n.jsx(K,{value:"delivered",children:"Delivered"}),n.jsx(K,{value:"failed",children:"Failed"}),n.jsx(K,{value:"bounced",children:"Bounced"})]})]})]}),n.jsx(Y,{variant:"outline",onClick:()=>{s(""),l("all"),d("all")},"data-testid":"button-clear-filters",children:"Clear"})]})})}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Email Logs"}),n.jsxs(Fe,{children:[(y==null?void 0:y.total)||0," total emails found"]})]}),n.jsx(H,{children:v?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):((I=y==null?void 0:y.logs)==null?void 0:I.length)===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No emails found"}):n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Recipient"}),n.jsx(G,{children:"Type"}),n.jsx(G,{children:"Status"}),n.jsx(G,{children:"Subject"}),n.jsx(G,{children:"Sent"}),n.jsx(G,{children:"Actions"})]})}),n.jsx(kt,{children:(P=y==null?void 0:y.logs)==null?void 0:P.map(M=>n.jsxs(we,{"data-testid":`row-email-${M.id}`,children:[n.jsx(V,{className:"font-medium",children:M.recipientEmail}),n.jsx(V,{children:S(M.emailType)}),n.jsx(V,{children:w(M.status)}),n.jsx(V,{className:"max-w-[200px] truncate",title:M.subject,children:M.subject}),n.jsx(V,{children:M.sentAt?gn(new Date(M.sentAt),"MMM d, h:mm a"):"-"}),n.jsx(V,{children:n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>j.mutate(M.id),disabled:j.isPending,"data-testid":`button-resend-${M.id}`,children:[n.jsx(Oa,{className:"h-3 w-3 mr-1"}),"Resend"]}),M.errorMessage&&n.jsxs(Ar,{children:[n.jsx(mf,{asChild:!0,children:n.jsxs(Y,{size:"sm",variant:"destructive",children:[n.jsx(Rs,{className:"h-3 w-3 mr-1"}),"Error"]})}),n.jsxs(yr,{children:[n.jsx(br,{children:n.jsx(jr,{children:"Error Details"})}),n.jsx("div",{className:"p-4 bg-red-500/10 rounded-lg text-sm",children:n.jsx("code",{children:M.errorMessage})})]})]})]})})]},M.id))})]})})]})]}),n.jsxs(er,{value:"problems",className:"space-y-4",children:[n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(fk,{className:"h-5 w-5 text-red-500"}),"Failed & Bounced Emails"]}),n.jsx(Fe,{children:"Emails that need attention or resending"})]}),n.jsx(H,{children:((R=m==null?void 0:m.problemEmails)==null?void 0:R.length)===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground flex flex-col items-center gap-2",children:[n.jsx(e7,{className:"h-8 w-8 text-green-500"}),n.jsx("p",{children:"No problem emails - all deliveries successful!"})]}):n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Recipient"}),n.jsx(G,{children:"Type"}),n.jsx(G,{children:"Status"}),n.jsx(G,{children:"Error"}),n.jsx(G,{children:"Actions"})]})}),n.jsx(kt,{children:($=m==null?void 0:m.problemEmails)==null?void 0:$.map(M=>n.jsxs(we,{"data-testid":`row-problem-${M.id}`,children:[n.jsx(V,{className:"font-medium",children:M.recipientEmail}),n.jsx(V,{children:S(M.emailType)}),n.jsx(V,{children:w(M.status)}),n.jsx(V,{className:"max-w-[250px] truncate text-red-400",children:M.errorMessage||"Bounced"}),n.jsx(V,{children:n.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>j.mutate(M.id),disabled:j.isPending,"data-testid":`button-resend-problem-${M.id}`,children:[n.jsx(Oa,{className:"h-3 w-3 mr-1"}),"Retry"]})})]},M.id))})]})})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(Rs,{className:"h-5 w-5 text-amber-500"}),"Unverified Users (24h+)"]}),n.jsx(Fe,{children:"Users who signed up but never verified their email"})]}),n.jsx(H,{children:((E=m==null?void 0:m.unverifiedUsers)==null?void 0:E.length)===0?n.jsxs("div",{className:"text-center py-8 text-muted-foreground flex flex-col items-center gap-2",children:[n.jsx(In,{className:"h-8 w-8 text-green-500"}),n.jsx("p",{children:"All recent users have verified their emails!"})]}):n.jsxs(Nt,{children:[n.jsx(St,{children:n.jsxs(we,{children:[n.jsx(G,{children:"Email"}),n.jsx(G,{children:"Signed Up"}),n.jsx(G,{children:"Actions"})]})}),n.jsx(kt,{children:(_=m==null?void 0:m.unverifiedUsers)==null?void 0:_.map(M=>n.jsxs(we,{"data-testid":`row-unverified-${M.id}`,children:[n.jsx(V,{className:"font-medium",children:M.email}),n.jsx(V,{children:M.createdAt?gn(new Date(M.createdAt),"MMM d, h:mm a"):"-"}),n.jsx(V,{children:n.jsxs(Y,{size:"sm",variant:"outline",onClick:()=>N.mutate(M.email),disabled:N.isPending,"data-testid":`button-resend-verification-${M.id}`,children:[n.jsx(Tc,{className:"h-3 w-3 mr-1"}),"Send Verification"]})})]},M.id))})]})})]})]})]})]})})}function bwe(){const[e,t]=x.useState(""),r=x.useRef(null),a=bx(),{data:i,isLoading:s}=ue({queryKey:["/api/admin/dev-os/messages"],staleTime:1/0,refetchOnWindowFocus:!1}),o=(i==null?void 0:i.messages)||[],l=qe({mutationFn:async u=>{var h,p;console.log(" [FRONTEND] Sending Dev OS message:",u);const f=await ut("/api/admin/dev-os/chat",{method:"POST",body:JSON.stringify({message:u})});return console.log(" [FRONTEND] Dev OS response received:",{success:f.success,responseLength:(h=f.response)==null?void 0:h.length,actionsExecuted:((p=f.actionsExecuted)==null?void 0:p.length)||0}),f},onMutate:async u=>{await a.cancelQueries({queryKey:["/api/admin/dev-os/messages"]});const f=a.getQueryData(["/api/admin/dev-os/messages"]);return a.setQueryData(["/api/admin/dev-os/messages"],h=>h?{...h,messages:[...h.messages,{id:"temp-"+Date.now(),role:"user",content:u,createdAt:new Date().toISOString()}]}:{success:!0,messages:[{id:"temp-"+Date.now(),role:"user",content:u,createdAt:new Date().toISOString()}]}),{previousMessages:f}},onSuccess:()=>{console.log(" [FRONTEND] Streaming complete"),a.invalidateQueries({queryKey:["/api/admin/dev-os/messages"]}),t("")},onError:(u,f,h)=>{console.error(" [FRONTEND] Mutation error handler:",u),h!=null&&h.previousMessages&&a.setQueryData(["/api/admin/dev-os/messages"],h.previousMessages)}});x.useEffect(()=>{var u;(u=r.current)==null||u.scrollIntoView({behavior:"smooth"})},[o.length]);const c=()=>{!e.trim()||l.isPending||l.mutate(e.trim())},d=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),c())};return s?n.jsx("div",{className:"dev-os-chat-container",children:n.jsx("div",{className:"chat-loading",children:"Loading Dev OS..."})}):n.jsxs("div",{className:"dev-os-chat-container",children:[n.jsxs("div",{className:"chat-messages","data-testid":"devos-chat-messages",children:[o.length===0?n.jsxs("div",{className:"chat-empty-state",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("h3",{children:"Dev OS Intelligence"}),n.jsx("p",{children:"Ask me about system status, metrics, or run actions"}),n.jsxs("div",{className:"example-queries",children:[n.jsx("button",{onClick:()=>t("Give me a system status"),className:"example-chip","data-testid":"example-query-status",children:"System Status"}),n.jsx("button",{onClick:()=>t("How many active users today?"),className:"example-chip","data-testid":"example-query-users",children:"Active Users"}),n.jsx("button",{onClick:()=>t("What's our MRR?"),className:"example-chip","data-testid":"example-query-mrr",children:"MRR"})]})]}):o.map(u=>n.jsxs("div",{className:`chat-message ${u.role}`,"data-testid":`message-${u.role}`,children:[n.jsx("div",{className:"message-avatar",children:u.role==="user"?"":""}),n.jsxs("div",{className:"message-content",children:[n.jsx("div",{className:"message-text",children:u.content}),n.jsx("div",{className:"message-time",children:new Date(u.createdAt).toLocaleTimeString()})]})]},u.id)),l.isPending&&n.jsxs("div",{className:"chat-message assistant typing","data-testid":"typing-indicator",children:[n.jsx("div",{className:"message-avatar",children:""}),n.jsx("div",{className:"message-content",children:n.jsxs("div",{className:"typing-dots",children:[n.jsx("span",{}),n.jsx("span",{}),n.jsx("span",{})]})})]}),n.jsx("div",{ref:r})]}),n.jsx("div",{className:"chat-input-area",children:n.jsxs("div",{className:"chat-input-container",children:[n.jsx("textarea",{value:e,onChange:u=>t(u.target.value),onKeyPress:d,placeholder:"Ask Dev OS...",className:"chat-input",rows:1,disabled:l.isPending,"data-testid":"input-devos-message"}),n.jsx("button",{onClick:c,disabled:!e.trim()||l.isPending,className:"chat-send-button","data-testid":"button-send-devos-message",children:l.isPending?"":""})]})})]})}function jwe(){var v;const[e,t]=x.useState("overview"),[r,a]=x.useState(null),i=bx(),{data:s,isLoading:o,isError:l,error:c,refetch:d}=ue({queryKey:["/api/admin/quick-metrics"],queryFn:async()=>{const m=await fetch("/api/admin/quick-metrics",{credentials:"include",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(m.status===401)throw window.location.href="/admin/login",new Error("Authentication required");if(!m.ok){const j=await m.text();throw new Error(`${m.status}: ${j}`)}return m.json()},refetchInterval:3e4,retry:1}),{data:u}=ue({queryKey:["/api/admin/system-health"],refetchInterval:3e4,retry:1,enabled:!!s}),{data:f}=ue({queryKey:["/api/admin/alerts"],queryFn:async()=>{const m=await fetch("/api/admin/alerts",{credentials:"include"});if(!m.ok)throw new Error("Failed to fetch alerts");return m.json()},refetchInterval:3e4,retry:1,enabled:!!s}),{data:h,refetch:p}=ue({queryKey:["/api/admin/elite-curator/stats"],queryFn:async()=>{const m=await fetch("/api/admin/elite-curator/stats",{credentials:"include"});if(!m.ok)throw new Error("Failed to fetch elite curator stats");return m.json()},refetchInterval:3e4,retry:1,enabled:!!s}),b=qe({mutationFn:async m=>{const j=await fetch(`/api/admin/alerts/${m}/dismiss`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!j.ok)throw new Error("Failed to dismiss alert");return j.json()},onSuccess:()=>{i.invalidateQueries({queryKey:["/api/admin/alerts"]})}}),g=((v=f==null?void 0:f.alerts)==null?void 0:v.filter(m=>!m.dismissedAt))||[];async function y(m,j){a(m);try{const w=await(await fetch(`/api/admin/actions/${m}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j||{})})).json();w.success?(alert(` ${w.message||"Action completed"}`),setTimeout(()=>d(),2e3)):alert(` ${w.error||"Action failed"}`)}catch(N){console.error("Action failed:",N),alert(` ${N.message}`)}finally{a(null)}}return o?n.jsx("div",{className:"dev-os-mobile loading-state",children:n.jsx("div",{className:"loading-spinner",children:"Loading Dev OS..."})}):l||!s?n.jsx("div",{className:"dev-os-mobile loading-state",children:n.jsxs("div",{className:"error-state",children:[n.jsx("p",{children:" Failed to load Dev OS"}),n.jsx("p",{className:"error-message",children:(c==null?void 0:c.toString())||"Unknown error"}),n.jsx("button",{onClick:()=>d(),className:"action-chip primary",style:{marginTop:"1rem"},children:"Retry"})]})}):n.jsxs("div",{className:"dev-os-mobile",children:[n.jsx("header",{className:"top-bar","data-testid":"devos-top-bar",children:n.jsxs("div",{className:"top-bar-content",children:[n.jsx("h1",{className:"top-bar-title",children:"Dev OS 2.0"}),n.jsx("button",{onClick:()=>d(),className:"refresh-btn","data-testid":"button-refresh-metrics",children:""})]})}),n.jsx("div",{className:"quick-actions-strip",children:n.jsxs("div",{className:"actions-scroll",children:[n.jsx("button",{onClick:()=>y("restart-curation"),className:"action-chip primary",disabled:!!r,"data-testid":"action-chip-restart",children:" Restart"}),n.jsx("button",{onClick:()=>y("view-logs",{service:"curation"}),className:"action-chip",disabled:!!r,"data-testid":"action-chip-logs",children:" Logs"}),n.jsx("button",{onClick:()=>y("diagnose-curation"),className:"action-chip",disabled:!!r,"data-testid":"action-chip-diagnose",children:" Diagnose"}),n.jsx("button",{onClick:()=>{const m=prompt("Enter threshold (0-10):","7.0");m&&fetch("/api/admin/execute/curation/adjust-threshold",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({threshold:parseFloat(m)})}).then(j=>j.json()).then(j=>{alert(j.success?` ${j.message}`:` ${j.error}`)})},className:"action-chip",disabled:!!r,"data-testid":"action-chip-threshold",children:" Threshold"}),n.jsx("button",{onClick:()=>{fetch("/api/admin/execute/system/check-resources",{method:"POST",headers:{"Content-Type":"application/json"}}).then(m=>m.json()).then(m=>{m.success&&alert(` Resources:

Memory: ${m.memory.heapUsed}
Uptime: ${m.uptime}
Node: ${m.nodeVersion}`)})},className:"action-chip",disabled:!!r,"data-testid":"action-chip-resources",children:" Resources"})]})}),n.jsxs("div",{className:"efficiency-hero","data-testid":"efficiency-metrics",children:[n.jsxs("div",{className:"efficiency-header",children:[n.jsx("h2",{className:"efficiency-title",children:" Curation Efficiency (Today)"}),n.jsxs("span",{className:`efficiency-status status-${s.curationEfficiency.status}`,children:[s.curationEfficiency.status==="optimal"&&" OPTIMAL",s.curationEfficiency.status==="strict"&&" STRICT",s.curationEfficiency.status==="too_strict"&&" TOO STRICT",s.curationEfficiency.status==="loose"&&" LOOSE",s.curationEfficiency.status==="too_loose"&&" TOO LOOSE",s.curationEfficiency.status==="unknown"&&" NO DATA"]})]}),n.jsxs("div",{className:"efficiency-stats",children:[n.jsxs("div",{className:"efficiency-stat",children:[n.jsx("div",{className:"efficiency-label",children:"Screened"}),n.jsx("div",{className:"efficiency-value",children:s.curationEfficiency.screened})]}),n.jsxs("div",{className:"efficiency-stat success",children:[n.jsx("div",{className:"efficiency-label",children:"Accepted"}),n.jsx("div",{className:"efficiency-value",children:s.curationEfficiency.accepted})]}),n.jsxs("div",{className:"efficiency-stat danger",children:[n.jsx("div",{className:"efficiency-label",children:"Rejected"}),n.jsx("div",{className:"efficiency-value",children:s.curationEfficiency.rejected})]}),n.jsxs("div",{className:"efficiency-stat primary",children:[n.jsx("div",{className:"efficiency-label",children:"Acceptance Rate"}),n.jsxs("div",{className:"efficiency-value",children:[s.curationEfficiency.acceptanceRate.toFixed(1),"%"]})]})]}),n.jsx("div",{className:"efficiency-guide",children:n.jsxs("small",{children:["Target: 2-5% (elite curation) ",s.curationEfficiency.acceptanceRate<.5&&"  Too strict - might miss good content",s.curationEfficiency.acceptanceRate>=.5&&s.curationEfficiency.acceptanceRate<=2&&"  High quality bar",s.curationEfficiency.acceptanceRate>2&&s.curationEfficiency.acceptanceRate<=5&&"  Optimal elite curation",s.curationEfficiency.acceptanceRate>5&&s.curationEfficiency.acceptanceRate<=15&&"  Quality may be diluting",s.curationEfficiency.acceptanceRate>15&&"  Accepting too much"]})})]}),g.length>0&&n.jsx("div",{className:"alerts-container","data-testid":"alerts-container",children:g.map(m=>n.jsxs("div",{className:`alert alert-${m.severity}`,"data-testid":`alert-${m.severity}`,children:[n.jsxs("div",{className:"alert-content",children:[n.jsxs("div",{className:"alert-header",children:[n.jsxs("span",{className:"alert-icon",children:[m.severity==="critical"&&"",m.severity==="warning"&&"",m.severity==="info"&&""]}),n.jsx("span",{className:"alert-title",children:m.title})]}),n.jsx("p",{className:"alert-message",children:m.message})]}),n.jsx("button",{className:"alert-dismiss",onClick:()=>b.mutate(m.id),disabled:b.isPending,"data-testid":"button-dismiss-alert",children:""})]},m.id))}),n.jsxs("div",{className:"metrics-compact",children:[n.jsxs("div",{className:"metric-row",children:[n.jsx(Tm,{icon:"",label:"Curation",value:s.curationRunning?" Active":" Offline",subtitle:s.minutesSinceRun<999?`${s.minutesSinceRun}m ago`:"Never",status:s.curationRunning?"good":"critical","data-testid":"metric-curation"}),n.jsx(Tm,{icon:"",label:"Library",value:s.totalVideos,subtitle:`+${s.videosToday} today`,"data-testid":"metric-videos"})]}),n.jsxs("div",{className:"metric-row",children:[n.jsx(Tm,{icon:"",label:"API Quota",value:"N/A",subtitle:"Check system","data-testid":"metric-quota"}),n.jsx(Tm,{icon:"",label:"Users",value:s.totalUsers,subtitle:`${s.activeSubscriptions} active`,"data-testid":"metric-users"})]})]}),n.jsxs("div",{className:"main-content",children:[e==="overview"&&n.jsxs("div",{className:"overview-section",children:[n.jsx("h2",{className:"section-title",children:"System Status"}),n.jsx("p",{className:"section-description",children:"Core metrics and operational status at a glance"}),n.jsxs("div",{className:"status-summary",children:[n.jsxs("div",{className:"status-item",children:[n.jsx("span",{className:"status-label",children:"Curation Pipeline"}),n.jsx("span",{className:`status-badge ${s.curationRunning?"running":"stopped"}`,children:s.curationRunning?" Active":" Offline"})]}),n.jsxs("div",{className:"status-item",children:[n.jsx("span",{className:"status-label",children:"Last Curation Run"}),n.jsx("span",{className:"status-value",children:s.minutesSinceRun<999?`${s.minutesSinceRun} minutes ago`:"Never"})]}),n.jsxs("div",{className:"status-item",children:[n.jsx("span",{className:"status-label",children:"Efficiency Status"}),n.jsxs("span",{className:`status-badge ${s.curationEfficiency.status==="optimal"?"running":s.curationEfficiency.status==="strict"?"warning":s.curationEfficiency.status==="unknown"?"neutral":"stopped"}`,children:[s.curationEfficiency.status==="optimal"&&" Optimal (2-5%)",s.curationEfficiency.status==="strict"&&" Strict (<2%)",s.curationEfficiency.status==="too_strict"&&" Too Strict",s.curationEfficiency.status==="loose"&&" Loose (>5%)",s.curationEfficiency.status==="too_loose"&&" Too Loose",s.curationEfficiency.status==="unknown"&&" No Data"]})]})]})]}),e==="stats"&&u&&n.jsxs("div",{className:"stats-section",children:[n.jsx("h2",{className:"section-title",children:"Detailed Statistics"}),n.jsxs(Om,{title:" Curation Pipeline",defaultOpen:!0,children:[n.jsx(Yr,{label:"Status",value:u.curation.isRunning?" RUNNING":" OFFLINE"}),n.jsx(Yr,{label:"Last Run",value:`${u.curation.minutesSinceLastRun} min ago`}),n.jsx(Yr,{label:"Screened (Hour)",value:u.curation.lastHour.screened}),n.jsx(Yr,{label:"Accepted (Hour)",value:u.curation.lastHour.accepted}),n.jsx(Yr,{label:"Acceptance Rate",value:`${u.curation.lastHour.acceptanceRate}%`}),n.jsx(Yr,{label:"API Quota",value:`${u.curation.apiQuota.percentUsed}%`})]}),n.jsxs(Om,{title:" Video Library",children:[n.jsx(Yr,{label:"Total Videos",value:u.videos.total}),n.jsx(Yr,{label:"Elite Tier",value:`${u.videos.elite} (${u.videos.elitePercent}%)`}),n.jsx(Yr,{label:"Added Today",value:u.videos.addedToday})]}),n.jsxs(Om,{title:" Revenue & Subscriptions",children:[n.jsx(Yr,{label:"MRR",value:`$${u.stripe.mrr}`}),n.jsx(Yr,{label:"Active Subscriptions",value:u.stripe.activeSubscriptions}),n.jsx(Yr,{label:"Trial Users",value:u.stripe.trialUsers})]}),n.jsxs(Om,{title:" User Metrics",children:[n.jsx(Yr,{label:"Total Users",value:u.users.total}),n.jsx(Yr,{label:"Signed Up Today",value:u.users.signedUpToday}),n.jsx(Yr,{label:"Lifetime Access",value:u.users.lifetimeAccess})]})]}),e==="actions"&&n.jsxs("div",{className:"actions-section",children:[n.jsx("h2",{className:"section-title",children:"System Operations"}),n.jsxs("div",{className:"action-category",children:[n.jsx("h3",{className:"category-title",children:"Curation Control"}),n.jsxs("div",{className:"action-buttons-grid",children:[n.jsx(da,{icon:"",label:"Restart Curation",onClick:()=>y("restart-curation"),variant:"primary","data-testid":"button-action-restart"}),n.jsx(da,{icon:"",label:"View Logs",onClick:()=>y("view-logs"),"data-testid":"button-action-logs"}),n.jsx(da,{icon:"",label:"Diagnose",onClick:()=>y("diagnose-curation"),"data-testid":"button-action-diagnose"})]})]}),n.jsxs("div",{className:"action-category",children:[n.jsx("h3",{className:"category-title",children:"Video Management"}),n.jsxs("div",{className:"action-buttons-grid",children:[n.jsx(da,{icon:"",label:"Add Video",onClick:()=>{const m=prompt("Enter YouTube URL:");m&&fetch("/api/admin/execute/video/add-manual",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:m})}).then(j=>j.json()).then(j=>{alert(j.success?` ${j.message}`:` ${j.error}`),j.success&&d()})},variant:"primary","data-testid":"button-action-add-video"}),n.jsx(da,{icon:"",label:"Delete Video",onClick:()=>{const m=prompt("Enter video ID:");m&&confirm("Delete this video?")&&fetch("/api/admin/execute/video/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoId:m})}).then(j=>j.json()).then(j=>{alert(j.success?` ${j.message}`:` ${j.error}`),j.success&&d()})},"data-testid":"button-action-delete-video"})]})]}),n.jsxs("div",{className:"action-category",children:[n.jsx("h3",{className:"category-title",children:" Elite Curator"}),h?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"efficiency-stats",style:{marginBottom:"1rem"},children:[n.jsxs("div",{className:"efficiency-stat",children:[n.jsx("div",{className:"efficiency-label",children:"Status"}),n.jsx("div",{className:"efficiency-value",children:h.enabled?" ON":" OFF"})]}),n.jsxs("div",{className:"efficiency-stat",children:[n.jsx("div",{className:"efficiency-label",children:"Searches Today"}),n.jsxs("div",{className:"efficiency-value",children:[h.dailySearchesUsed,"/",h.maxDailySearches]})]}),n.jsxs("div",{className:"efficiency-stat success",children:[n.jsx("div",{className:"efficiency-label",children:"Approval Rate"}),n.jsxs("div",{className:"efficiency-value",children:[h.today.approvalRate,"%"]})]}),n.jsxs("div",{className:"efficiency-stat primary",children:[n.jsx("div",{className:"efficiency-label",children:"Library Progress"}),n.jsxs("div",{className:"efficiency-value",children:[h.library.progress,"%"]})]})]}),n.jsxs("div",{className:"action-buttons-grid",children:[n.jsx(da,{icon:h.enabled?"":"",label:h.enabled?"Disable":"Enable",onClick:()=>{fetch("/api/admin/elite-curator/toggle",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:!h.enabled})}).then(m=>m.json()).then(m=>{alert(m.success?` ${m.message}`:` ${m.error}`),m.success&&(p(),d())})},variant:h.enabled?"default":"primary","data-testid":"button-elite-curator-toggle"}),n.jsx(da,{icon:"",label:"Run Now",onClick:()=>{confirm("Start elite curator run? This will use YouTube API quota.")&&(a("elite-curator"),fetch("/api/admin/elite-curator/run",{method:"POST",headers:{"Content-Type":"application/json"}}).then(m=>m.json()).then(m=>{alert(m.success?` ${m.message}

Approved: ${m.videosApproved}
Approval Rate: ${m.approvalRate.toFixed(1)}%`:` ${m.message}`),m.success&&(p(),d())}).finally(()=>a(null)))},variant:"primary",disabled:!!r||!h.enabled,"data-testid":"button-elite-curator-run"})]}),n.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.75rem",opacity:.7},children:[n.jsxs("div",{children:["Elite Instructors: ",h.eliteInstructorCount]}),n.jsxs("div",{children:["Library: ",h.library.current,"/",h.library.target," (",h.library.remaining," remaining)"]}),n.jsxs("div",{children:["Today: ",h.today.searches," searches, ",h.today.approved," approved"]})]})]}):n.jsx("div",{style:{padding:"1rem",textAlign:"center",opacity:.5},children:"Loading elite curator stats..."})]}),n.jsxs("div",{className:"action-category",children:[n.jsx("h3",{className:"category-title",children:"User Management"}),n.jsxs("div",{className:"action-buttons-grid",children:[n.jsx(da,{icon:"",label:"Grant Lifetime",onClick:()=>{const m=prompt("Enter email:");m&&fetch("/api/admin/execute/user/create-lifetime",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m})}).then(j=>j.json()).then(j=>{alert(j.success?` ${j.message}`:` ${j.error}`),j.success&&d()})},variant:"primary","data-testid":"button-action-lifetime"}),n.jsx(da,{icon:"",label:"Cancel Sub",onClick:()=>{const m=prompt("Enter user ID:");m&&confirm("Cancel subscription?")&&fetch("/api/admin/execute/user/cancel-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:m})}).then(j=>j.json()).then(j=>{alert(j.success?` ${j.message}`:` ${j.error}`),j.success&&d()})},"data-testid":"button-action-cancel-sub"})]})]}),n.jsxs("div",{className:"action-category",children:[n.jsx("h3",{className:"category-title",children:"System"}),n.jsxs("div",{className:"action-buttons-grid",children:[n.jsx(da,{icon:"",label:"Clear Cache",onClick:()=>{confirm("Clear cache?")&&fetch("/api/admin/execute/system/clear-cache",{method:"POST",headers:{"Content-Type":"application/json"}}).then(m=>m.json()).then(m=>{alert(m.success?` ${m.message}`:` ${m.error}`)})},"data-testid":"button-action-clear-cache"}),n.jsx(da,{icon:"",label:"Resources",onClick:()=>{fetch("/api/admin/execute/system/check-resources",{method:"POST",headers:{"Content-Type":"application/json"}}).then(m=>m.json()).then(m=>{m.success&&alert(` Resources:

Memory: ${m.memory.heapUsed}
Uptime: ${m.uptime}
Node: ${m.nodeVersion}`)})},"data-testid":"button-action-resources"})]})]})]})]}),e==="chat"&&n.jsx("div",{className:"view-content",children:n.jsx(bwe,{})}),n.jsxs("nav",{className:"bottom-nav",children:[n.jsxs("button",{onClick:()=>t("overview"),className:`nav-btn ${e==="overview"?"active":""}`,"data-testid":"nav-overview",children:[n.jsx("span",{className:"nav-icon",children:""}),n.jsx("span",{className:"nav-label",children:"Overview"})]}),n.jsxs("button",{onClick:()=>t("stats"),className:`nav-btn ${e==="stats"?"active":""}`,"data-testid":"nav-stats",children:[n.jsx("span",{className:"nav-icon",children:""}),n.jsx("span",{className:"nav-label",children:"Stats"})]}),n.jsxs("button",{onClick:()=>t("actions"),className:`nav-btn ${e==="actions"?"active":""}`,"data-testid":"nav-actions",children:[n.jsx("span",{className:"nav-icon",children:""}),n.jsx("span",{className:"nav-label",children:"Actions"})]}),n.jsxs("button",{onClick:()=>t("chat"),className:`nav-btn ${e==="chat"?"active":""}`,"data-testid":"nav-chat",children:[n.jsx("span",{className:"nav-icon",children:""}),n.jsx("span",{className:"nav-label",children:"Chat"})]})]})]})}function Tm({icon:e,label:t,value:r,subtitle:a,status:i}){const s={good:"#4ade80",warning:"#fbbf24",critical:"#ef4444"}[i||"good"];return n.jsxs("div",{className:"metric-card-compact",children:[n.jsxs("div",{className:"metric-header",children:[n.jsx("span",{className:"metric-icon",children:e}),n.jsx("span",{className:"metric-label",children:t})]}),n.jsx("div",{className:"metric-value",style:i?{color:s}:{},children:r}),a&&n.jsx("div",{className:"metric-subtitle",children:a})]})}function Om({title:e,children:t,defaultOpen:r=!1}){const[a,i]=x.useState(r);return n.jsxs("div",{className:"expandable-section",children:[n.jsxs("button",{onClick:()=>i(!a),className:"section-header","data-testid":`expand-${e.toLowerCase().replace(/\s+/g,"-")}`,children:[n.jsx("span",{children:e}),n.jsx("span",{className:"expand-icon",children:a?"":""})]}),a&&n.jsx("div",{className:"section-content",children:t})]})}function Yr({label:e,value:t}){return n.jsxs("div",{className:"stat-row",children:[n.jsx("span",{className:"stat-label",children:e}),n.jsx("span",{className:"stat-value",children:t})]})}function da({icon:e,label:t,onClick:r,variant:a="default"}){return n.jsxs("button",{onClick:r,className:`action-button ${a}`,children:[n.jsx("span",{className:"action-icon",children:e}),n.jsx("span",{className:"action-label",children:t})]})}function wwe(){const[,e]=at();return n.jsxs("div",{className:"not-found-page page-container",children:[n.jsxs("div",{className:"not-found-container",children:[n.jsxs("div",{className:"not-found-logo",children:[n.jsxs("div",{className:"not-found-logo-mark",children:[n.jsx("div",{className:"not-found-logo-line"}),n.jsx("div",{className:"not-found-logo-line"}),n.jsx("div",{className:"not-found-logo-line"}),n.jsx("div",{className:"not-found-logo-line"})]}),n.jsx("span",{className:"not-found-logo-text",children:"BJJ OS"})]}),n.jsxs("div",{className:"not-found-content",children:[n.jsx("h1",{className:"not-found-code",children:"404"}),n.jsx("h2",{className:"not-found-title",children:"Page Not Found"}),n.jsx("p",{className:"not-found-description",children:"The page you're looking for doesn't exist or has been moved."}),n.jsxs("div",{className:"not-found-actions",children:[n.jsx("button",{className:"not-found-button primary",onClick:()=>e("/"),"data-testid":"button-home",children:"Go Home"}),n.jsx("button",{className:"not-found-button secondary",onClick:()=>e("/login"),"data-testid":"button-login",children:"Login"})]})]})]}),n.jsx("style",{children:`
        /* ==================== GLOBAL VARIABLES ==================== */
        :root {
          --black: #000000;
          --black-elevated: #0F0F0F;
          --white: #FFFFFF;
          --gray-light: #A0A0A0;
          --gray-medium: #71717A;
          --gray-dark: #1A1A1A;
          --blue: #2563EB;
          --purple: #7C3AED;
          --blue-hover-1: #1D4ED8;
          --purple-hover-1: #6D28D9;
          --font-mono: 'JetBrains Mono', monospace;
        }

        /* ==================== BASE STYLES ==================== */
        .not-found-page {
          font-family: var(--font-mono);
          background: radial-gradient(circle at 50% 0%, #0A0812 0%, #15111F 50%, #0A0812 100%);
          color: var(--white);
          min-height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          position: relative;
          padding: 40px;
        }

        /* Subtle grain texture overlay */
        .not-found-page::before {
          content: '';
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-image: 
            url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
          pointer-events: none;
          z-index: 9999;
          mix-blend-mode: overlay;
        }

        /* ==================== CONTAINER ==================== */
        .not-found-container {
          max-width: 600px;
          text-align: center;
          position: relative;
          z-index: 1;
        }

        /* ==================== LOGO ==================== */
        .not-found-logo {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          margin-bottom: 64px;
        }

        .not-found-logo-mark {
          display: flex;
          gap: 2px;
          height: 20px;
        }

        .not-found-logo-line {
          width: 1px;
          height: 20px;
          background: var(--white);
        }

        .not-found-logo-line:nth-child(2) {
          margin-right: 2px;
        }

        .not-found-logo-line:nth-child(3) {
          margin-left: 2px;
        }

        .not-found-logo-text {
          font-weight: 700;
          font-size: 16px;
          color: var(--white);
        }

        /* ==================== CONTENT ==================== */
        .not-found-content {
          background: var(--black-elevated);
          padding: 64px 48px;
          border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .not-found-code {
          font-size: 96px;
          font-weight: 700;
          color: var(--white);
          line-height: 1;
          margin-bottom: 24px;
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        @supports not (background-clip: text) {
          .not-found-code {
            color: var(--blue);
          }
        }

        .not-found-title {
          font-size: 32px;
          font-weight: 700;
          color: var(--white);
          margin-bottom: 16px;
        }

        .not-found-description {
          font-size: 16px;
          color: var(--gray-light);
          line-height: 1.6;
          margin-bottom: 48px;
        }

        /* ==================== ACTIONS ==================== */
        .not-found-actions {
          display: flex;
          gap: 16px;
          justify-content: center;
          flex-wrap: wrap;
        }

        .not-found-button {
          font-family: var(--font-mono);
          font-weight: 700;
          font-size: 16px;
          padding: 14px 32px;
          border: none;
          cursor: pointer;
          transition: all 150ms ease;
        }

        .not-found-button.primary {
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          background-size: 200% 200%;
          animation: gradient-shift 8s ease infinite;
          color: var(--white);
        }

        .not-found-button.primary:hover {
          background: linear-gradient(135deg, var(--blue-hover-1) 0%, var(--purple-hover-1) 100%);
        }

        .not-found-button.secondary {
          background: transparent;
          border: 1px solid var(--gray-dark);
          color: var(--gray-light);
        }

        .not-found-button.secondary:hover {
          border: 1px solid var(--blue);
          color: var(--blue);
        }

        .not-found-button:active {
          transform: translateY(1px);
        }

        @keyframes gradient-shift {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }

        /* ==================== MOBILE RESPONSIVE ==================== */
        @media (max-width: 768px) {
          .not-found-page {
            padding: 24px;
          }

          .not-found-content {
            padding: 48px 32px;
          }

          .not-found-code {
            font-size: 72px;
          }

          .not-found-title {
            font-size: 24px;
          }

          .not-found-actions {
            flex-direction: column;
          }

          .not-found-button {
            width: 100%;
          }
        }
      `})]})}const ST=[{path:"/chat",icon:Ec,label:"Chat",testId:"nav-chat"},{path:"/library",icon:Vo,label:"Videos",testId:"nav-library"},{path:"/saved-videos",icon:aI,label:"Saved",testId:"nav-saved"},{path:"/settings",icon:vd,label:"Settings",testId:"nav-settings"}];function Ei({children:e}){const[t]=at(),{data:r}=ue({queryKey:["/api/auth/me"]});return n.jsxs("div",{className:"flex h-screen w-full overflow-hidden",children:[n.jsxs("aside",{className:"hidden md:flex md:w-64 flex-col border-r bg-card",children:[n.jsxs("div",{className:"p-6 border-b",children:[n.jsx("a",{href:"/","data-testid":"link-home",children:n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"h-8 w-auto"})}),(r==null?void 0:r.displayName)&&n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r.displayName})]}),n.jsx("nav",{className:"flex-1 p-4 space-y-2",children:ST.map(a=>{const i=a.icon,s=t===a.path;return n.jsx(dr,{href:a.path,children:n.jsxs("a",{"data-testid":a.testId,className:`
                    flex items-center gap-3 px-4 py-3 rounded-md
                    transition-colors hover-elevate active-elevate-2 cursor-pointer
                    ${s?"bg-primary text-primary-foreground":"text-foreground hover:bg-accent"}
                  `,children:[n.jsx(i,{className:"w-5 h-5"}),n.jsx("span",{className:"font-medium",children:a.label})]})},a.path)})})]}),n.jsx("main",{className:"flex-1 overflow-auto flex flex-col pb-16 md:pb-0",children:e}),n.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-[100] bg-card border-t",style:{paddingBottom:"max(0px, env(safe-area-inset-bottom))"},children:n.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:ST.map(a=>{const i=a.icon,s=t===a.path;return n.jsx(dr,{href:a.path,children:n.jsxs("a",{"data-testid":`${a.testId}-mobile`,className:`
                    flex flex-col items-center justify-center gap-1 px-3 py-2 rounded-md
                    transition-colors min-w-[60px] cursor-pointer
                    ${s?"text-primary":"text-muted-foreground hover:text-foreground"}
                  `,children:[n.jsx(i,{className:`w-5 h-5 ${s?"fill-primary":""}`}),n.jsx("span",{className:"text-xs font-medium",children:a.label})]})},a.path)})})})]})}var Nwe="AspectRatio",aF=x.forwardRef((e,t)=>{const{ratio:r=1/1,style:a,...i}=e;return n.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:n.jsx(Ue.div,{...i,ref:t,style:{...a,position:"absolute",top:0,right:0,bottom:0,left:0}})})});aF.displayName=Nwe;var Swe=aF;const kT=Swe;function ES({thumbnailUrl:e,videoId:t,title:r,className:a=""}){const[i,s]=x.useState(0),[o,l]=x.useState(!0),c=x.useMemo(()=>{const f=[];return e&&e.trim()&&f.push(e),t&&t.trim()&&(f.push(`https://img.youtube.com/vi/${t}/maxresdefault.jpg`),f.push(`https://img.youtube.com/vi/${t}/hqdefault.jpg`),f.push(`https://img.youtube.com/vi/${t}/mqdefault.jpg`),f.push(`https://i.ytimg.com/vi/${t}/mqdefault.jpg`)),f},[e,t]);x.useEffect(()=>{s(0),l(!0)},[c]);const d=c[i];if(!d)return n.jsx(kT,{ratio:16/9,className:a,children:n.jsx("div",{className:"w-full h-full bg-[#0A0A0B] rounded-lg flex items-center justify-center border border-[#1A1A1C]",children:n.jsx("img",{src:"/bjjos-logo.png",alt:"BJJ OS",className:"h-8 w-auto opacity-60"})})});const u=()=>{s(i+1),l(!0)};return n.jsx(kT,{ratio:16/9,className:a,children:n.jsxs("div",{className:"relative w-full h-full rounded-lg overflow-hidden bg-[#1A1A1C]",children:[o&&n.jsx("div",{className:"absolute inset-0 bg-[#2A2A2C] animate-pulse"}),n.jsx("img",{src:d,alt:r,className:`w-full h-full object-cover transition-opacity duration-200 ${o?"opacity-0":"opacity-100"}`,loading:"lazy",onLoad:()=>l(!1),onError:u},d),n.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:n.jsx(Qn,{className:"w-12 h-12 text-white drop-shadow-lg"})})]})})}function TS({size:e="md",className:t}){const r={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};return n.jsxs("div",{className:je("relative inline-block",r[e],t),"data-testid":"ios-spinner",children:[n.jsx("div",{className:"absolute inset-0",children:[...Array(12)].map((a,i)=>n.jsx("div",{className:"absolute left-1/2 top-0 -translate-x-1/2 w-[8%] h-[25%] bg-current rounded-full origin-[center_200%]",style:{transform:`rotate(${i*30}deg) translateX(-50%)`,opacity:1-i*.08,animation:"ios-spinner 1s linear infinite",animationDelay:`${-i*(1/12)}s`}},i))}),n.jsx("style",{children:`
        @keyframes ios-spinner {
          from { opacity: 1; }
          to { opacity: 0.15; }
        }
      `})]})}function kwe(e){var l;if(!e)return[{text:""}];const t=[],r=/\[VIDEO:\s*([^\]]+)\]/g,a=new Set,i=new Set;let s=0,o;for(;(o=r.exec(e))!==null;){o.index>s&&t.push({text:e.slice(s,o.index)});const c=o[1].split("|").map(d=>d.trim());if(c.length>=5){const d=((l=c[3])==null?void 0:l.trim())||"",u=parseInt(c[4],10);if(isNaN(u))console.warn("[parseVideoTokens] Invalid video ID (NaN), using fallback:",c[4]);else{if(a.has(u)){console.log("[parseVideoTokens] Skipping duplicate video ID:",u),s=o.index+o[0].length;continue}a.add(u);const f={title:c[0],instructor:c[1],duration:c[2],videoId:d,id:u};d||console.warn("[parseVideoTokens] Enriched token missing videoId:",c),t.push({text:"",video:f}),s=o.index+o[0].length;continue}}if(c.length<5||isNaN(parseInt(c[4],10))){console.warn("[parseVideoTokens] Enrichment failed, using fallback format. Parts:",c.length);const u=(c[0]||"").match(/^(.+?)\s+by\s+(.+)$/i);if(u){const f=u[1].trim(),h=u[2].trim(),p=`${f.toLowerCase()}-${h.toLowerCase()}`;if(i.has(p)){console.log("[parseVideoTokens] Skipping duplicate video by title:",f),s=o.index+o[0].length;continue}i.add(p);const b={title:f,instructor:h,duration:"full",videoId:"",id:Date.now()};t.push({text:"",video:b}),console.log("[parseVideoTokens] Rendered fallback card:",f,"by",h)}else console.warn("[parseVideoTokens] Could not parse video token:",o[1]),t.push({text:o[0]})}s=o.index+o[0].length}return s<e.length&&t.push({text:e.slice(s)}),t.length>0?t:[{text:e}]}function Cwe(){var E;const[e,t]=x.useState(""),[r,a]=x.useState(!1),[i,s]=x.useState(new Set),[o,l]=x.useState(null),[c,d]=x.useState("Analyzing your training"),{messages:u,setMessages:f,historyLoaded:h,setHistoryLoaded:p}=CV(),b=x.useRef(null),{toast:g}=tt(),[,y]=at(),{data:v,isLoading:m,error:j,isFetching:N}=ue({queryKey:["/api/auth/me"]}),w=((E=v==null?void 0:v.id)==null?void 0:E.toString())||"",{data:S,isLoading:k}=ue({queryKey:["/api/ai/chat/history",w],enabled:!!w,refetchOnMount:!0,staleTime:0});x.useLayoutEffect(()=>{var T;if(u.length>0||h){console.log("[CHAT] Context already has",u.length,"messages - skipping reload");return}const _=Pe.getQueryData(["/api/auth/me"]),M=(T=_==null?void 0:_.id)==null?void 0:T.toString();if(M){const D=Pe.getQueryData(["/api/ai/chat/history",M]);if(D!=null&&D.messages&&D.messages.length>0){console.log("[CHAT] Loading",D.messages.length,"messages from React Query cache");const B=D.messages.map(ee=>({id:ee.id,role:ee.role,content:ee.content,timestamp:ee.createdAt}));f(B),p(!0)}}},[]);const{data:C}=ue({queryKey:["/api/ai/saved-videos",w],enabled:!!w});x.useEffect(()=>{C!=null&&C.videos&&s(new Set(C.videos.map(_=>parseInt(_.id))))},[C]),x.useEffect(()=>{j&&!m&&(g({title:"Authentication Required",description:"Please log in to continue",variant:"destructive"}),y("/login"))},[j,m,y,g]),x.useEffect(()=>{!m&&!N&&v&&(console.log("[CHAT] User data loaded, checking onboarding status:",{onboardingCompleted:v.onboardingCompleted,isFetching:N,isLoading:m}),v.onboardingCompleted?console.log("[CHAT] User has completed onboarding, staying on /chat"):(console.log("[CHAT] User has not completed onboarding, redirecting to /onboarding"),y("/onboarding")))},[v,m,N,y]),x.useEffect(()=>{if(!(u.length>0||h)&&S!=null&&S.messages&&S.messages.length>0){const _=S.messages.map(M=>({id:M.id,role:M.role,content:M.content,timestamp:M.createdAt}));console.log("[CHAT] Loading",_.length,"messages from API response"),f(_),p(!0)}},[S,u.length,h,f,p]),x.useEffect(()=>{var _;(_=b.current)==null||_.scrollIntoView({behavior:"smooth"})},[u]),x.useEffect(()=>{if(!r){d("Analyzing your training");return}const _=["Analyzing your training","Reviewing your patterns","Finding relevant techniques","Crafting response"];let M=0;const T=setInterval(()=>{M=(M+1)%_.length,d(_[M])},2e3);return()=>clearInterval(T)},[r]);const A=async()=>{var B;if(!e.trim()||r)return;Be("light");const _=e.trim();t("");const M={id:Date.now().toString(),role:"user",content:_,timestamp:new Date().toISOString()};f(ee=>[...ee,M]),a(!0);const T=Date.now().toString()+"-assistant",D={id:T,role:"assistant",content:"",timestamp:new Date().toISOString()};f(ee=>[...ee,D]);try{const ee=await fetch("/api/ai/chat/claude/stream",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:_,userId:w})});if(!ee.ok)throw new Error("Failed to send message");const re=(B=ee.body)==null?void 0:B.getReader(),oe=new TextDecoder;let ve="",ce="",Oe=!1;if(re)for(;;){const{done:me,value:Ce}=await re.read();if(me)break;ce+=oe.decode(Ce,{stream:!0});const te=ce.split(`
`);ce=te.pop()||"";for(const W of te)if(W.startsWith("data: ")){const z=W.slice(6);if(z==="[DONE]"){Oe=!0,a(!1);break}try{const Q=JSON.parse(z);if(Q.error){console.error("[SSE] Server error:",Q.error),ve="I had trouble with that message. This can happen when certain words trigger safety filters, even in normal BJJ context. Could you try rephrasing? For example, instead of 'I got destroyed,' you could say 'I struggled against mount.'",f(Ve=>Ve.map(de=>de.id===T?{...de,content:ve}:de)),a(!1),Oe=!0;break}if(Q.chunk||Q.content){const Ve=Q.chunk||Q.content;ve+=Ve,f(de=>de.map(Ae=>Ae.id===T?{...Ae,content:ve}:Ae))}else Q.processedContent&&(console.log("[VIDEO TOKENS]  Received processed content with video tokens"),ve=Q.processedContent,f(Ve=>Ve.map(de=>de.id===T?{...de,content:Q.processedContent}:de)))}catch{console.debug("[SSE] Skipping unparseable data:",z.substring(0,50))}}if(Oe)break}a(!1),console.log("[CHAT] Message sent successfully, invalidating chat history cache"),Pe.invalidateQueries({queryKey:["/api/ai/chat/history",w]})}catch(ee){a(!1),f(re=>re.filter(oe=>oe.id!==T)),g({title:"Error",description:ee.message||"Failed to send message",variant:"destructive"})}},O=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),A())},I=qe({mutationFn:async _=>(console.log("[CHAT SAVE] Attempting to save video:",{videoId:_,userId:w}),Be("light"),await ut("POST","/api/ai/saved-videos",{videoId:_,userId:w})),onSuccess:(_,M)=>{console.log("[CHAT SAVE] Successfully saved video:",M),Be("success"),s(T=>new Set([...Array.from(T),M])),g({title:"Saved",description:"Video added to your library"}),Pe.invalidateQueries({queryKey:["/api/ai/saved-videos",w]})},onError:(_,M)=>{console.error("[CHAT SAVE] Failed to save video:",{videoId:M,error:_.message||_}),g({title:"Error",description:_.message||"Failed to save video",variant:"destructive"})}}),P=qe({mutationFn:async _=>(console.log("[CHAT UNSAVE] Attempting to unsave video:",{videoId:_,userId:w}),await ut("DELETE",`/api/ai/saved-videos/${_}`,{userId:w})),onSuccess:(_,M)=>{console.log("[CHAT UNSAVE] Successfully unsaved video:",M),s(T=>{const D=Array.from(T);return new Set(D.filter(B=>B!==M))}),g({title:"Removed",description:"Video removed from your library"}),Pe.invalidateQueries({queryKey:["/api/ai/saved-videos",w]})},onError:(_,M)=>{console.error("[CHAT UNSAVE] Failed to unsave video:",{videoId:M,error:_.message||_}),g({title:"Error",description:_.message||"Failed to remove video",variant:"destructive"})}}),R=_=>{console.log("[CHAT TOGGLE SAVE] Toggle save for video:",{videoId:_,isSaved:i.has(_),userId:w}),i.has(_)?P.mutate(_):I.mutate(_)};if(m)return n.jsx("div",{className:"min-h-screen bg-[#0A0A0B] flex items-center justify-center",children:n.jsx(TS,{size:"lg",className:"text-purple-400"})});const $=u.length>0;return n.jsxs(Ei,{children:[n.jsxs("div",{className:"h-full bg-[#0A0A0B] flex flex-col overflow-hidden",children:[n.jsx("header",{className:"sticky top-0 z-100 bg-[#0A0A0B] border-b border-[#1A1A1C]",style:{height:"80px"},"data-testid":"chat-header",children:n.jsxs("div",{className:"h-full flex flex-col items-center justify-center px-6",children:[n.jsx("h1",{className:"text-[20px] md:text-[24px] font-bold text-white tracking-tight",children:"Prof. OS"}),n.jsxs("p",{className:"text-[13px] md:text-[14px] text-white/70 text-center leading-relaxed mt-1",style:{letterSpacing:"0.02em"},children:["Learns your game.",n.jsx("br",{className:"md:hidden"})," Makes you better."]})]})}),n.jsxs("main",{className:"flex-1 overflow-y-auto pb-48 md:pb-32",style:{WebkitOverflowScrolling:"touch"},children:[!$&&n.jsx("div",{className:"flex items-center justify-center min-h-full px-5 py-20",children:n.jsxs("div",{className:"bg-[#0A0A0B] border border-[#1A1A1C] rounded-xl p-10 md:p-16 max-w-[600px] w-full text-center",style:{boxShadow:"0 4px 20px rgba(0,0,0,0.5)"},"data-testid":"welcome-message",children:[n.jsx("h2",{className:"text-[24px] md:text-[28px] font-medium text-white mb-8",style:{letterSpacing:"0.02em"},children:"Prof. OS"}),n.jsxs("div",{className:"space-y-6 mb-10",children:[n.jsxs("p",{className:"text-[15px] md:text-[16px] text-white/90 leading-relaxed",style:{letterSpacing:"0.02em"},children:["I've analyzed 10,000+",n.jsx("br",{}),"videos from elite",n.jsx("br",{}),"instructors."]}),n.jsxs("p",{className:"text-[15px] md:text-[16px] text-white/90 leading-relaxed",style:{letterSpacing:"0.02em"},children:["I track patterns in",n.jsx("br",{}),"your training you",n.jsx("br",{}),"can't see."]}),n.jsxs("p",{className:"text-[15px] md:text-[16px] text-white/90 leading-relaxed",style:{letterSpacing:"0.02em"},children:["I remember every",n.jsx("br",{}),"detail you share."]})]}),n.jsxs("p",{className:"text-[15px] md:text-[16px] text-white/85 leading-relaxed mb-16",style:{letterSpacing:"0.02em"},children:["The more we talk,",n.jsx("br",{}),"the smarter I get",n.jsx("br",{}),"about YOUR jiu jitsu."]}),n.jsxs("p",{className:"text-[16px] md:text-[18px] font-medium text-white",style:{letterSpacing:"0.02em"},children:["What did you work",n.jsx("br",{}),"on today?"]})]})}),$&&n.jsxs("div",{className:"max-w-[600px] mx-auto px-5 py-6 space-y-2",children:[u.map(_=>n.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[75%] rounded-2xl px-4 py-3 ${_.role==="user"?"bg-[#2563EB] text-white rounded-tr-sm chat-message-sent":"bg-[#111113] text-white/90 rounded-tl-sm chat-message-streaming"}`,style:{fontSize:"15px",lineHeight:"1.5"},children:[kwe(_.content).map((M,T)=>n.jsxs("div",{children:[M.text&&n.jsx("p",{className:"whitespace-pre-wrap",children:M.text}),M.video&&n.jsxs("div",{className:"mt-3 bg-[#0A0A0B] border border-[#1A1A1C] rounded-lg overflow-hidden","data-testid":`video-card-${M.video.id}`,children:[n.jsx(ES,{videoId:M.video.videoId,title:M.video.title,className:"bg-[#1A1A1C]"}),n.jsxs("div",{className:"p-3 space-y-2",children:[n.jsx("h4",{className:"text-[14px] font-semibold text-white/90",children:M.video.title}),n.jsx("p",{className:"text-[12px] text-[#2563EB]",children:M.video.instructor}),n.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[n.jsx(Y,{size:"sm",className:"h-9 bg-[#2563EB] hover:bg-[#1d4ed8] text-white rounded-full",onClick:()=>l({videoId:M.video.videoId,title:M.video.title,instructor:M.video.instructor}),"data-testid":`button-watch-${M.video.id}`,children:"Watch"}),n.jsx(Y,{size:"sm",variant:"ghost",className:"h-9 w-9 p-0",onClick:()=>R(M.video.id),"data-testid":`button-save-${M.video.id}`,children:i.has(M.video.id)?n.jsx(C1,{className:"h-4 w-4 text-[#2563EB]"}):n.jsx(Ea,{className:"h-4 w-4 text-white/50"})})]})]})]})]},T)),n.jsx("div",{className:"text-[12px] text-white/50 mt-2",children:new Date(_.timestamp).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})},_.id)),r&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-[#111113] text-white/90 rounded-2xl rounded-tl-sm px-4 py-3 chat-thinking-indicator",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsxs("div",{className:"flex gap-1 mt-1",children:[n.jsx("span",{className:"w-2 h-2 bg-white/50 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("span",{className:"w-2 h-2 bg-white/50 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("span",{className:"w-2 h-2 bg-white/50 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),n.jsxs("div",{className:"text-[14px] text-white/70",children:[c,"..."]})]})})}),n.jsx("div",{ref:b})]})]}),n.jsx("div",{className:"fixed left-0 right-0 z-50 bg-[#0A0A0B] border-t border-[#1A1A1C] px-4 pb-4 md:bottom-0 bottom-16",style:{paddingTop:"16px",paddingBottom:"calc(16px + env(safe-area-inset-bottom))"},"data-testid":"chat-input-area",children:n.jsxs("div",{className:"max-w-[600px] mx-auto space-y-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("textarea",{ref:_=>_&&(_.style.fontSize="16px"),value:e,onChange:_=>t(_.target.value),onKeyPress:O,placeholder:"Ask Prof. OS...",className:"w-full bg-[#111113] border border-[#333333] rounded-3xl px-5 py-3 pr-14 text-white placeholder:text-white/60 resize-none focus:outline-none focus:ring-2 focus:ring-[#2563EB] focus:border-transparent",style:{fontSize:"16px",minHeight:"48px",maxHeight:"120px"},rows:1,"data-testid":"input-message"}),n.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center text-white/70 hover:text-white transition-colors rounded-full","data-testid":"button-voice",children:n.jsx(sI,{className:"w-5 h-5"})})]}),n.jsx(Y,{onClick:A,disabled:!e.trim()||r,className:"w-full h-12 bg-[#2563EB] hover:bg-[#1d4ed8] text-white font-medium rounded-3xl text-[16px]","data-testid":"button-send",children:"Send"})]})})]}),o&&n.jsx(Lh,{videoId:o.videoId,title:o.title,instructor:o.instructor,onClose:()=>l(null)})]})}const fb=768;function Awe(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${fb-1}px)`),a=()=>{t(window.innerWidth<fb)};return r.addEventListener("change",a),t(window.innerWidth<fb),()=>r.removeEventListener("change",a)},[]),!!e}const Pwe=oN,Ewe=lN,iF=x.forwardRef(({className:e,...t},r)=>n.jsx(jh,{className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));iF.displayName=jh.displayName;const Twe=gd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),sF=x.forwardRef(({side:e="right",className:t,children:r,...a},i)=>n.jsxs(Ewe,{children:[n.jsx(iF,{}),n.jsxs(wh,{ref:i,className:je(Twe({side:e}),t),...a,children:[r,n.jsxs(kh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[n.jsx(ni,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sF.displayName=wh.displayName;const oF=({className:e,...t})=>n.jsx("div",{className:je("flex flex-col space-y-2 text-center sm:text-left",e),...t});oF.displayName="SheetHeader";const lF=x.forwardRef(({className:e,...t},r)=>n.jsx(Nh,{ref:r,className:je("text-lg font-semibold text-foreground",e),...t}));lF.displayName=Nh.displayName;const cF=x.forwardRef(({className:e,...t},r)=>n.jsx(Sh,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));cF.displayName=Sh.displayName;const Owe="sidebar_state",_we=60*60*24*7,Iwe="16rem",Rwe="18rem",Mwe="3rem",$we="b",dF=x.createContext(null);function uF(){const e=x.useContext(dF);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function Dwe({defaultOpen:e=!0,open:t,onOpenChange:r,className:a,style:i,children:s,...o}){const l=Awe(),[c,d]=x.useState(!1),[u,f]=x.useState(e),h=t??u,p=x.useCallback(v=>{const m=typeof v=="function"?v(h):v;r?r(m):f(m),document.cookie=`${Owe}=${m}; path=/; max-age=${_we}`},[r,h]),b=x.useCallback(()=>l?d(v=>!v):p(v=>!v),[l,p,d]);x.useEffect(()=>{const v=m=>{m.key===$we&&(m.metaKey||m.ctrlKey)&&(m.preventDefault(),b())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[b]);const g=h?"expanded":"collapsed",y=x.useMemo(()=>({state:g,open:h,setOpen:p,isMobile:l,openMobile:c,setOpenMobile:d,toggleSidebar:b}),[g,h,p,l,c,d,b]);return n.jsx(dF.Provider,{value:y,children:n.jsx(B1,{delayDuration:0,children:n.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Iwe,"--sidebar-width-icon":Mwe,...i},className:je("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",a),...o,children:s})})})}function Lwe({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:a,children:i,...s}){const{isMobile:o,state:l,openMobile:c,setOpenMobile:d}=uF();return r==="none"?n.jsx("div",{"data-slot":"sidebar",className:je("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",a),...s,children:i}):o?n.jsx(Pwe,{open:c,onOpenChange:d,...s,children:n.jsxs(sF,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":Rwe},side:e,children:[n.jsxs(oF,{className:"sr-only",children:[n.jsx(lF,{children:"Sidebar"}),n.jsx(cF,{children:"Displays the mobile sidebar."})]}),n.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):n.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[n.jsx("div",{"data-slot":"sidebar-gap",className:je("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),n.jsx("div",{"data-slot":"sidebar-container",className:je("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...s,children:n.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function Fwe({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:je("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function Bwe({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:je("relative flex w-full min-w-0 flex-col p-2",e),...t})}function zwe({className:e,asChild:t=!1,...r}){const a=t?jx:"div";return n.jsx(a,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:je("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})}function Uwe({className:e,...t}){return n.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:je("w-full text-sm",e),...t})}function Vwe({className:e,...t}){return n.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:je("flex w-full min-w-0 flex-col gap-1",e),...t})}function qwe({className:e,...t}){return n.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:je("group/menu-item relative",e),...t})}const Wwe=gd("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Hwe({asChild:e=!1,isActive:t=!1,variant:r="default",size:a="default",tooltip:i,className:s,...o}){const l=e?jx:"button",{isMobile:c,state:d}=uF(),u=n.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":a,"data-active":t,className:je(Wwe({variant:r,size:a}),s),...o});return i?(typeof i=="string"&&(i={children:i}),n.jsxs(JI,{children:[n.jsx(ZI,{asChild:!0,children:u}),n.jsx(z1,{side:"right",align:"center",hidden:d!=="collapsed"||c,...i})]})):u}const Kwe=[{title:"Profile",path:"/settings/profile",icon:il},{title:"Security",path:"/settings/security",icon:_a},{title:"Subscription",path:"/settings/subscription",icon:ph},{title:"Referrals",path:"/settings/referrals",icon:ur}];function Gwe(){const[e]=at();return n.jsx(Lwe,{children:n.jsx(Fwe,{children:n.jsxs(Bwe,{children:[n.jsxs(zwe,{className:"flex items-center gap-2 mb-4",children:[n.jsx(Nd,{className:"w-4 h-4 text-primary"}),n.jsx("span",{className:"text-base font-semibold",children:"BJJ OS Settings"})]}),n.jsx(Uwe,{children:n.jsx(Vwe,{children:Kwe.map(t=>{const r=t.icon,a=e===t.path;return n.jsx(qwe,{children:n.jsx(Hwe,{asChild:!0,"data-active":a,children:n.jsxs(dr,{href:t.path,"data-testid":`link-${t.title.toLowerCase()}`,children:[n.jsx(r,{className:"w-4 h-4"}),n.jsx("span",{children:t.title})]})})},t.title)})})})]})})})}function Ks({children:e}){const[,t]=at(),r=async()=>{const{clearAuth:i}=await xh(async()=>{const{clearAuth:s}=await Promise.resolve().then(()=>rR);return{clearAuth:s}},void 0);await i(),t("/")},a={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"};return n.jsx(Dwe,{style:a,children:n.jsxs("div",{className:"flex h-screen w-full",children:[n.jsx(Gwe,{}),n.jsxs("div",{className:"flex flex-col flex-1",children:[n.jsxs("header",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx(dr,{href:"/chat",children:n.jsxs(Y,{variant:"ghost",size:"sm","data-testid":"button-back-chat",children:[n.jsx(Hn,{className:"w-4 h-4 mr-2"}),"Back to Chat"]})}),n.jsxs(Y,{variant:"ghost",size:"sm",onClick:r,"data-testid":"button-logout",children:[n.jsx(xd,{className:"w-4 h-4 mr-2"}),"Logout"]})]}),n.jsx("main",{className:"flex-1 overflow-auto p-6",children:e})]})]})})}function Ywe(){var g;const{toast:e}=tt(),[t,r]=x.useState(!1),[a,i]=x.useState({displayName:"",username:"",beltLevel:"white",style:"gi",trainingFrequency:2,struggleAreaCategory:"guard_passing",heightFeet:"",heightInches:"",weight:"",age:""}),s=y=>{if(!y)return{feet:"",inches:""};const v=parseInt(y);return isNaN(v)?{feet:"",inches:""}:{feet:String(Math.floor(v/12)),inches:String(v%12)}},o=()=>{const y=parseInt(a.heightFeet)||0,v=parseInt(a.heightInches)||0;if(!(y===0&&v===0))return String(y*12+v)},l=y=>{if(!y)return"Not set";const v=parseInt(y);if(isNaN(v))return y;const m=Math.floor(v/12),j=v%12;return`${m}'${j}"`},{data:c,isLoading:d}=ue({queryKey:["/api/auth/me"],refetchOnMount:!0});x.useEffect(()=>{if(c!=null&&c.user){const y=s(c.user.height);i({displayName:c.user.displayName||"",username:c.user.username||"",beltLevel:c.user.beltLevel||"white",style:c.user.style||"gi",trainingFrequency:c.user.trainingFrequency||2,struggleAreaCategory:c.user.struggleAreaCategory||"guard_passing",heightFeet:y.feet,heightInches:y.inches,weight:c.user.weight||"",age:c.user.age||""})}},[c==null?void 0:c.user]),console.log("[ProfileSettings] Query data:",c),console.log("[ProfileSettings] User:",c==null?void 0:c.user),console.log("[ProfileSettings] Belt level:",(g=c==null?void 0:c.user)==null?void 0:g.beltLevel);const u=qe({mutationFn:async y=>await ut("PATCH","/api/auth/profile",y),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/auth/me"]}),e({title:"Profile Updated",description:"Your profile has been successfully updated"}),r(!1)},onError:y=>{e({title:"Update Failed",description:y.message,variant:"destructive"})}}),f=()=>{console.log("[ProfileSettings] Edit button clicked"),console.log("[ProfileSettings] User data:",c==null?void 0:c.user);const y=c==null?void 0:c.user,v=s(y==null?void 0:y.height);i({displayName:(y==null?void 0:y.displayName)||"",username:(y==null?void 0:y.username)||"",beltLevel:(y==null?void 0:y.beltLevel)||"white",style:(y==null?void 0:y.style)||"gi",trainingFrequency:(y==null?void 0:y.trainingFrequency)||2,struggleAreaCategory:(y==null?void 0:y.struggleAreaCategory)||"guard_passing",heightFeet:v.feet,heightInches:v.inches,weight:(y==null?void 0:y.weight)||"",age:(y==null?void 0:y.age)||""}),r(!0),console.log("[ProfileSettings] Edit mode enabled")},h=()=>{const y={...a,height:o()};u.mutate(y)},p=()=>{r(!1)};if(d)return n.jsx(Ks,{children:n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(ze,{className:"w-8 h-8 animate-spin text-primary"})})});const b=c==null?void 0:c.user;return n.jsx(Ks,{children:n.jsxs("div",{className:"max-w-2xl",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Profile Settings"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Manage your personal information and training preferences"}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Personal Information"}),n.jsx(Fe,{children:"Your profile helps us personalize your training experience"})]}),n.jsxs(H,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Name"}),t?n.jsx(be,{value:a.displayName,onChange:y=>i({...a,displayName:y.target.value}),placeholder:"Enter your name","data-testid":"input-name"}):n.jsx(be,{value:(b==null?void 0:b.displayName)||"Not set",disabled:!0,"data-testid":"text-name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Email"}),n.jsx(be,{value:(b==null?void 0:b.email)||(b==null?void 0:b.phoneNumber)||"",disabled:!0,"data-testid":"input-email"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Belt Level"}),t?n.jsxs(Xe,{value:a.beltLevel,onValueChange:y=>i({...a,beltLevel:y}),children:[n.jsx(Ye,{"data-testid":"select-belt",children:n.jsx(Je,{})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"white",children:"White Belt"}),n.jsx(K,{value:"blue",children:"Blue Belt"}),n.jsx(K,{value:"purple",children:"Purple Belt"}),n.jsx(K,{value:"brown",children:"Brown Belt"}),n.jsx(K,{value:"black",children:"Black Belt"})]})]}):n.jsx(be,{value:b!=null&&b.beltLevel?`${b.beltLevel.charAt(0).toUpperCase()+b.beltLevel.slice(1)} Belt`:"Not set",disabled:!0,"data-testid":"text-belt"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Training Style"}),t?n.jsxs(Xe,{value:a.style,onValueChange:y=>i({...a,style:y}),children:[n.jsx(Ye,{"data-testid":"select-style",children:n.jsx(Je,{})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"gi",children:"Gi"}),n.jsx(K,{value:"nogi",children:"No-Gi"}),n.jsx(K,{value:"both",children:"Both"})]})]}):n.jsx(be,{value:b!=null&&b.style?b.style==="both"?"Gi & No-Gi":b.style==="nogi"?"No-Gi":"Gi":"Not set",disabled:!0,"data-testid":"text-style"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Biggest Struggle"}),t?n.jsxs(Xe,{value:a.struggleAreaCategory,onValueChange:y=>i({...a,struggleAreaCategory:y}),children:[n.jsx(Ye,{"data-testid":"select-struggle",children:n.jsx(Je,{})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"guard_passing",children:"Guard Passing"}),n.jsx(K,{value:"guard_retention",children:"Guard Retention"}),n.jsx(K,{value:"submissions",children:"Submissions from Top"}),n.jsx(K,{value:"escapes",children:"Escapes from Bottom"}),n.jsx(K,{value:"takedowns",children:"Takedowns"}),n.jsx(K,{value:"transitions",children:"Position Transitions"}),n.jsx(K,{value:"other",children:"Other"})]})]}):n.jsx(be,{value:b!=null&&b.struggleAreaCategory?b.struggleAreaCategory.split("_").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "):"Not set",disabled:!0,"data-testid":"text-struggle"})]}),n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Optional Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Height"}),t?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx(be,{type:"number",min:"0",max:"8",placeholder:"5",value:a.heightFeet,onChange:y=>i({...a,heightFeet:y.target.value}),"data-testid":"input-height-feet"})}),n.jsx("span",{className:"text-muted-foreground font-medium",children:"ft"}),n.jsx("div",{className:"flex-1",children:n.jsx(be,{type:"number",min:"0",max:"11",placeholder:"10",value:a.heightInches,onChange:y=>i({...a,heightInches:y.target.value}),"data-testid":"input-height-inches"})}),n.jsx("span",{className:"text-muted-foreground font-medium",children:"in"})]}):n.jsx(be,{value:l(b==null?void 0:b.height),disabled:!0,"data-testid":"text-height"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Weight"}),t?n.jsx(be,{value:a.weight,onChange:y=>i({...a,weight:y.target.value}),placeholder:"e.g., 170 lbs or 77kg","data-testid":"input-weight"}):n.jsx(be,{value:(b==null?void 0:b.weight)||"Not set",disabled:!0,"data-testid":"text-weight"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{children:"Age"}),t?n.jsx(be,{value:a.age,onChange:y=>i({...a,age:y.target.value}),placeholder:"e.g., 32","data-testid":"input-age"}):n.jsx(be,{value:(b==null?void 0:b.age)||"Not set",disabled:!0,"data-testid":"text-age"})]})]}),n.jsx("div",{className:"flex gap-3 pt-4",children:t?n.jsxs(n.Fragment,{children:[n.jsxs(Y,{onClick:h,disabled:u.isPending,"data-testid":"button-save",children:[u.isPending&&n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]}),n.jsx(Y,{variant:"outline",onClick:p,disabled:u.isPending,"data-testid":"button-cancel",children:"Cancel"})]}):n.jsx(Y,{onClick:f,"data-testid":"button-edit",children:"Edit Profile"})})]})]})]})})}function Qwe(){const{toast:e}=tt(),[t,r]=x.useState(!1),[a,i]=x.useState(!1),[s,o]=x.useState(!1),[l,c]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),{data:d,isLoading:u}=ue({queryKey:["/api/auth/me"]}),f=qe({mutationFn:async g=>await ut("POST","/api/auth/set-password",g),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/auth/me"]}),e({title:"Password Updated",description:"Your password has been set successfully. You can now use it to log in faster."}),c({currentPassword:"",newPassword:"",confirmPassword:""})},onError:g=>{e({title:"Failed to Set Password",description:g.message,variant:"destructive"})}}),h=()=>{if(l.newPassword.length<8){e({title:"Password Too Short",description:"Password must be at least 8 characters",variant:"destructive"});return}if(l.newPassword!==l.confirmPassword){e({title:"Passwords Don't Match",description:"Please make sure your passwords match",variant:"destructive"});return}f.mutate({newPassword:l.newPassword,currentPassword:d!=null&&d.hasPassword?l.currentPassword:void 0})};if(u)return n.jsx(Ks,{children:n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(ze,{className:"w-8 h-8 animate-spin text-primary"})})});const p=d,b=p==null?void 0:p.hasPassword;return n.jsx(Ks,{children:n.jsxs("div",{className:"max-w-2xl",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Security Settings"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Manage your password and account security"}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(Wo,{className:"w-5 h-5"}),b?"Change Password":"Set Password (Optional)"]}),n.jsx(Fe,{children:b?"Update your password to keep your account secure":"Add a password to log in faster. You can always use email verification instead."})]}),n.jsxs(H,{className:"space-y-4",children:[b&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"currentPassword",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(be,{id:"currentPassword",type:t?"text":"password",value:l.currentPassword,onChange:g=>c({...l,currentPassword:g.target.value}),placeholder:"Enter current password","data-testid":"input-current-password"}),n.jsx(Y,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>r(!t),"data-testid":"button-toggle-current-password",children:t?n.jsx(Is,{className:"w-4 h-4"}):n.jsx(Rr,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"newPassword",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(be,{id:"newPassword",type:a?"text":"password",value:l.newPassword,onChange:g=>c({...l,newPassword:g.target.value}),placeholder:"Enter new password (min 8 characters)","data-testid":"input-new-password"}),n.jsx(Y,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>i(!a),"data-testid":"button-toggle-new-password",children:a?n.jsx(Is,{className:"w-4 h-4"}):n.jsx(Rr,{className:"w-4 h-4"})})]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(le,{htmlFor:"confirmPassword",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(be,{id:"confirmPassword",type:s?"text":"password",value:l.confirmPassword,onChange:g=>c({...l,confirmPassword:g.target.value}),placeholder:"Confirm new password","data-testid":"input-confirm-password"}),n.jsx(Y,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>o(!s),"data-testid":"button-toggle-confirm-password",children:s?n.jsx(Is,{className:"w-4 h-4"}):n.jsx(Rr,{className:"w-4 h-4"})})]})]}),n.jsxs(Y,{onClick:h,disabled:f.isPending||!l.newPassword||!l.confirmPassword,"data-testid":"button-set-password",children:[f.isPending&&n.jsx(ze,{className:"w-4 h-4 mr-2 animate-spin"}),b?"Update Password":"Set Password"]})]})]}),n.jsxs(q,{className:"mt-6",children:[n.jsxs(X,{children:[n.jsxs(J,{className:"flex items-center gap-2",children:[n.jsx(_a,{className:"w-5 h-5"}),"Login Methods"]}),n.jsx(Fe,{children:"Ways you can sign in to your account"})]}),n.jsxs(H,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Email Verification"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Sign in with a code sent to ",(p==null?void 0:p.email)||"your email"]})]}),n.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:"Always Available"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"Password"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:b?"Sign in with your password for faster access":"Set a password for faster login (optional)"})]}),n.jsx("span",{className:`text-sm font-medium ${b?"text-green-600 dark:text-green-400":"text-muted-foreground"}`,children:b?"Enabled":"Not Set"})]})]})]})]})})}function Xwe(){var u,f,h;const{toast:e}=tt(),{data:t,isLoading:r}=ue({queryKey:["/api/auth/me"]});if(r)return n.jsx(Ks,{children:n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(ze,{className:"w-8 h-8 animate-spin text-primary"})})});const a=(t==null?void 0:t.subscriptionType)||"free";t!=null&&t.subscriptionStatus;const i=t==null?void 0:t.trialEndDate,s=a==="lifetime",o=!s&&i&&new Date(i)>new Date,l=i?Math.ceil((new Date(i).getTime()-new Date().getTime())/(1e3*60*60*24)):0,c=[{id:"free",name:"Free",price:"$0",period:"forever",features:["Basic chat with Prof. OS","5 video recommendations per day","Community support"],isCurrent:a==="free"},{id:"monthly",name:o?`Monthly (Trial - ${l} days left)`:"Monthly",price:"$30",period:"per month",features:["Unlimited AI coaching","Unlimited video recommendations","Full video library access","Save favorite videos","Priority support"],isCurrent:a==="monthly"},{id:"founding",name:"Founding Member",price:"$89",period:"per year",badge:"Best Value",features:["Unlimited AI coaching","Unlimited video recommendations","Voice input & output","Priority support","Early access to new features","Lifetime discount locked in"],isCurrent:a==="founding"},{id:"pro",name:"Pro",price:"$179",period:"per year",features:["Everything in Founding","Advanced technique analysis","Competition prep plans","Personal training schedules","1-on-1 strategy sessions (quarterly)"],isCurrent:a==="pro"}],d=()=>{e({title:"Coming Soon",description:"Subscription management will be available soon"})};return n.jsx(Ks,{children:n.jsxs("div",{className:"max-w-4xl",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Subscription"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Manage your subscription plan and billing"}),n.jsxs(q,{className:"mb-6",children:[n.jsxs(X,{children:[n.jsx(J,{children:"Current Plan"}),n.jsx(Fe,{children:s?n.jsx("span",{className:"font-semibold text-primary flex items-center gap-2",children:"Lifetime Access "}):n.jsxs(n.Fragment,{children:["You're currently on the ",n.jsx("span",{className:"font-semibold text-foreground",children:(u=c.find(p=>p.isCurrent))==null?void 0:u.name})," plan"]})})]}),n.jsx(H,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"space-y-1",children:s?n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-2xl font-bold text-primary",children:"Lifetime Access"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Status: ",n.jsx("span",{className:"text-green-600 font-medium",children:"Active"})]}),n.jsx("p",{className:"text-sm text-muted-foreground italic mt-2",children:"No subscription to manage - you own this forever!"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("p",{className:"text-2xl font-bold",children:[(f=c.find(p=>p.isCurrent))==null?void 0:f.price,n.jsx("span",{className:"text-sm font-normal text-muted-foreground ml-2",children:(h=c.find(p=>p.isCurrent))==null?void 0:h.period})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:a==="free"||a==="free_trial"?"Upgrade anytime to unlock premium features":"Thank you for your support!"})]})}),!s&&a!=="free"&&a!=="free_trial"&&n.jsxs(Y,{variant:"outline",onClick:d,"data-testid":"button-manage",children:[n.jsx(ph,{className:"w-4 h-4 mr-2"}),"Manage Billing"]})]})})]}),ir()?n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Manage Subscription"}),n.jsx(Fe,{children:"Subscription management is available on the web"})]}),n.jsxs(H,{children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:"To upgrade, change, or manage your subscription, please visit bjjos.app in your browser."}),n.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium",children:[n.jsx(xi,{className:"w-4 h-4"}),n.jsx("span",{children:"bjjos.app"})]})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Available Plans"}),n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:c.map(p=>n.jsxs(q,{className:p.isCurrent?"border-primary":"","data-testid":`card-plan-${p.id}`,children:[n.jsxs(X,{children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx(J,{className:"text-lg",children:p.name}),p.badge&&n.jsx(ae,{variant:"default",className:"text-xs",children:p.badge}),p.isCurrent&&n.jsx(ae,{variant:"secondary",className:"text-xs",children:"Current"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-3xl font-bold",children:p.price}),n.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:p.period})]})]}),n.jsxs(H,{children:[n.jsx("ul",{className:"space-y-2 mb-4",children:p.features.map((b,g)=>n.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[n.jsx(zr,{className:"w-4 h-4 text-primary shrink-0 mt-0.5"}),n.jsx("span",{children:b})]},g))}),p.isCurrent?n.jsx(Y,{className:"w-full",disabled:!0,"data-testid":`button-current-${p.id}`,children:"Current Plan"}):p.id==="free"?n.jsx(Y,{variant:"outline",className:"w-full",disabled:!0,"data-testid":`button-downgrade-${p.id}`,children:"Downgrade"}):n.jsx(dr,{href:"/pricing",children:n.jsx(Y,{className:"w-full","data-testid":`button-upgrade-${p.id}`,children:a==="free"?"Upgrade":"Switch Plan"})})]})]},p.id))})]})]})})}function Jwe(){var y;const{toast:e}=tt(),[t,r]=x.useState(!1),{data:a,isLoading:i}=ue({queryKey:["/api/auth/me"]}),{data:s,isLoading:o,error:l}=ue({queryKey:["/api/referrals/my-code"],enabled:!!(a!=null&&a.user.id),retry:!1}),c=i||o,d=()=>{h&&h!=="N/A"&&(navigator.clipboard.writeText(h),r(!0),e({title:"Copied!",description:"Referral code copied to clipboard"}),setTimeout(()=>r(!1),2e3))},u=()=>{if(h&&h!=="N/A"){const v=`${window.location.origin}/signup?ref=${h}`;navigator.clipboard.writeText(v),e({title:"Copied!",description:"Referral link copied to clipboard"})}};if(c)return n.jsx(Ks,{children:n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(ze,{className:"w-8 h-8 animate-spin text-primary"})})});const f=a==null?void 0:a.user,h=(s==null?void 0:s.referralCode)||((y=f==null?void 0:f.phoneNumber)==null?void 0:y.slice(-6))||"N/A",p=(s==null?void 0:s.totalReferrals)||0,b=(s==null?void 0:s.activeReferrals)||0,g=l&&!s;return n.jsx(Ks,{children:n.jsxs("div",{className:"max-w-3xl",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Referrals"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Share BJJ OS with your training partners and earn rewards"}),n.jsxs(q,{className:"mb-6",children:[n.jsxs(X,{children:[n.jsx(J,{children:"Your Referral Code"}),n.jsx(Fe,{children:g?"Referral program coming soon. Your temporary code is shown below.":"Share this code with friends to give them a discount and earn rewards"})]}),n.jsxs(H,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx(be,{value:h,readOnly:!0,className:"font-mono text-lg","data-testid":"input-referral-code"}),n.jsx(Y,{onClick:d,variant:"outline","data-testid":"button-copy-code",children:t?n.jsx(zr,{className:"w-4 h-4"}):n.jsx(Tp,{className:"w-4 h-4"})})]}),n.jsxs(Y,{onClick:u,variant:"secondary",className:"w-full","data-testid":"button-copy-link",children:[n.jsx(Tp,{className:"w-4 h-4 mr-2"}),"Copy Referral Link"]}),g&&n.jsx("p",{className:"text-xs text-muted-foreground",children:"Referral tracking is being set up. Your code will work once the program launches."})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2 mb-6",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Referrals"}),n.jsx(ur,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-referrals",children:p}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"All-time sign-ups"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Active Referrals"}),n.jsx(sf,{className:"w-4 h-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold","data-testid":"text-active-referrals",children:b}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently subscribed"})]})]})]}),n.jsxs(q,{children:[n.jsxs(X,{children:[n.jsx(J,{children:"Referral Rewards"}),n.jsx(Fe,{children:"Earn rewards when your friends join BJJ OS"})]}),n.jsxs(H,{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ae,{variant:"secondary",className:"mt-1",children:"Friend"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"10% off first year"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Your friend gets a discount on their subscription"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ae,{variant:"secondary",className:"mt-1",children:"You"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:"1 month free per referral"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn free months when friends subscribe"})]})]})]}),n.jsx("div",{className:"pt-4 border-t",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:"Rewards are automatically applied to your account. Questions? Contact support."})})]})]})]})})}const CT=[{id:"chat",label:"Chat",icon:Dl,path:"/chat"},{id:"library",label:"Videos",icon:Ni,path:"/library"},{id:"saved",label:"Saved",icon:Ea,path:"/saved-videos"},{id:"settings",label:"Settings",icon:vd,path:"/settings"}],Zwe={white:"#FFFFFF",blue:"#2563EB",purple:"#7C3AED",brown:"#92400E",black:"#000000"};function e1e({children:e}){const[t,r]=at(),{toast:a}=tt(),{data:i}=ue({queryKey:["/api/auth/me"]}),s=async()=>{try{await ut("POST","/api/auth/logout");const{clearAuth:u}=await xh(async()=>{const{clearAuth:f}=await Promise.resolve().then(()=>rR);return{clearAuth:f}},void 0);await u(),r("/email-login"),a({title:"Logged out",description:"See you on the mat!"})}catch(u){console.error("Logout error:",u)}},o=u=>t===u,l=(i==null?void 0:i.name)||(i==null?void 0:i.username)||"User",c=(i==null?void 0:i.beltLevel)||"white",d=Zwe[c];return n.jsxs("div",{className:"adaptive-layout",children:[n.jsx("aside",{className:"desktop-sidebar",children:n.jsxs("div",{className:"sidebar-content",children:[n.jsx("div",{className:"sidebar-header",children:n.jsxs("div",{className:"logo",children:[n.jsx(Dl,{className:"logo-icon"}),n.jsx("span",{className:"logo-text",children:"BJJ OS"})]})}),n.jsx("nav",{className:"sidebar-nav",children:CT.map(u=>{const f=u.icon,h=o(u.path);return n.jsxs("button",{onClick:()=>r(u.path),className:`nav-item ${h?"active":""}`,"data-testid":`nav-${u.id}`,children:[n.jsx(f,{className:"nav-icon"}),n.jsx("span",{className:"nav-label",children:u.label}),h&&n.jsx("div",{className:"active-indicator"})]},u.id)})}),n.jsx("div",{className:"sidebar-footer",children:n.jsxs("div",{className:"user-profile",children:[n.jsxs("div",{className:"user-info",children:[n.jsx("span",{className:"user-name",children:l}),n.jsx(ae,{style:{backgroundColor:d,color:c==="white"?"#000":"#fff"},className:"belt-badge",children:c.toUpperCase()})]}),n.jsx(Y,{variant:"ghost",size:"sm",onClick:s,className:"logout-btn","data-testid":"button-logout",children:n.jsx(xd,{className:"w-4 h-4"})})]})})]})}),n.jsx("main",{className:"main-content",children:e}),n.jsx("nav",{className:"mobile-bottom-nav",children:CT.map(u=>{const f=u.icon,h=o(u.path);return n.jsxs("button",{onClick:()=>r(u.path),className:`bottom-nav-item ${h?"active":""}`,"data-testid":`mobile-nav-${u.id}`,children:[n.jsx(f,{className:"bottom-nav-icon"}),n.jsx("span",{className:"bottom-nav-label",children:u.label})]},u.id)})}),n.jsx("style",{children:`
        /* ==================== LAYOUT STRUCTURE ==================== */
        .adaptive-layout {
          display: flex;
          height: 100vh;
          width: 100%;
          background: #000;
          color: #fff;
          overflow: hidden;
        }

        .main-content {
          flex: 1;
          overflow-y: auto;
          overflow-x: hidden;
          padding-bottom: 80px; /* Space for mobile bottom nav */
        }

        /* ==================== DESKTOP SIDEBAR ==================== */
        .desktop-sidebar {
          display: none;
        }

        @media (min-width: 768px) {
          .desktop-sidebar {
            display: flex;
            flex-direction: column;
            width: 240px;
            background: #0F0F0F;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
          }

          .main-content {
            padding-bottom: 0;
          }
        }

        .sidebar-content {
          display: flex;
          flex-direction: column;
          height: 100%;
          padding: 16px;
        }

        .sidebar-header {
          margin-bottom: 32px;
        }

        .logo {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 8px;
        }

        .logo-icon {
          width: 32px;
          height: 32px;
          background: linear-gradient(135deg, #2563EB 0%, #7C3AED 100%);
          border-radius: 8px;
          padding: 6px;
        }

        .logo-text {
          font-size: 20px;
          font-weight: 700;
          background: linear-gradient(135deg, #2563EB 0%, #7C3AED 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .sidebar-nav {
          flex: 1;
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .nav-item {
          position: relative;
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px 16px;
          background: transparent;
          border: none;
          border-radius: 8px;
          color: #A0A0A0;
          cursor: pointer;
          transition: all 150ms ease;
          font-size: 15px;
          font-weight: 500;
        }

        .nav-item:hover {
          background: rgba(255, 255, 255, 0.05);
          color: #fff;
        }

        .nav-item.active {
          background: rgba(37, 99, 235, 0.1);
          color: #fff;
        }

        .nav-item.active .nav-icon {
          background: linear-gradient(135deg, #2563EB 0%, #7C3AED 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .nav-icon {
          width: 20px;
          height: 20px;
        }

        .nav-label {
          flex: 1;
          text-align: left;
        }

        .active-indicator {
          position: absolute;
          left: 0;
          top: 50%;
          transform: translateY(-50%);
          width: 3px;
          height: 24px;
          background: linear-gradient(135deg, #2563EB 0%, #7C3AED 100%);
          border-radius: 0 2px 2px 0;
        }

        .sidebar-footer {
          border-top: 1px solid rgba(255, 255, 255, 0.1);
          padding-top: 16px;
        }

        .user-profile {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 8px;
        }

        .user-info {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .user-name {
          font-size: 14px;
          font-weight: 600;
          color: #fff;
        }

        .belt-badge {
          font-size: 10px;
          font-weight: 700;
          padding: 2px 8px;
          border-radius: 4px;
        }

        .logout-btn {
          opacity: 0.6;
        }

        .logout-btn:hover {
          opacity: 1;
        }

        /* ==================== MOBILE BOTTOM NAV ==================== */
        .mobile-bottom-nav {
          display: flex;
          position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
          height: 64px;
          background: rgba(0, 0, 0, 0.95);
          backdrop-filter: blur(20px);
          border-top: 1px solid rgba(255, 255, 255, 0.1);
          z-index: 1000;
          padding-bottom: env(safe-area-inset-bottom);
        }

        @media (min-width: 768px) {
          .mobile-bottom-nav {
            display: none;
          }
        }

        .bottom-nav-item {
          flex: 1;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          gap: 4px;
          background: transparent;
          border: none;
          color: #71717A;
          cursor: pointer;
          transition: all 150ms ease;
          padding: 8px;
        }

        .bottom-nav-item.active {
          color: #fff;
        }

        .bottom-nav-item.active .bottom-nav-icon {
          color: #7C3AED;
        }

        .bottom-nav-icon {
          width: 24px;
          height: 24px;
          stroke: currentColor;
        }

        .bottom-nav-label {
          font-size: 11px;
          font-weight: 600;
        }

        /* ==================== MOBILE OPTIMIZATIONS ==================== */
        @media (max-width: 767px) {
          .main-content {
            padding-bottom: calc(64px + env(safe-area-inset-bottom));
          }
        }
      `})]})}const t1e={white:"#FFFFFF",blue:"#2563EB",purple:"#7C3AED",brown:"#92400E",black:"#000000"};function r1e(){const{toast:e}=tt(),[,t]=at(),[r,a]=x.useState(!1),[i,s]=x.useState(!1),[o,l]=x.useState(!1),{data:c}=ue({queryKey:["/api/auth/me"]}),[d,u]=x.useState({name:"",email:"",beltLevel:"white",style:"both",struggleTechnique:"",heightFeet:"",heightInches:"",weight:"",trainingFrequency:"",age:"",injuries:""}),f=j=>{if(!j)return{feet:"",inches:""};const N=typeof j=="string"?parseInt(j):j;return isNaN(N)?{feet:"",inches:""}:{feet:String(Math.floor(N/12)),inches:String(N%12)}},h=()=>{const j=parseInt(d.heightFeet)||0,N=parseInt(d.heightInches)||0;return j===0&&N===0?null:j*12+N};x.useEffect(()=>{var j,N,w;if(c){const S=f(c.height);u({name:c.name||"",email:c.email||"",beltLevel:c.beltLevel||"white",style:c.style||"both",struggleTechnique:c.struggleTechnique||"",heightFeet:S.feet,heightInches:S.inches,weight:((j=c.weight)==null?void 0:j.toString())||"",trainingFrequency:((N=c.trainingFrequency)==null?void 0:N.toString())||"",age:((w=c.age)==null?void 0:w.toString())||"",injuries:Array.isArray(c.injuries)?c.injuries.join(", "):""})}},[c]);const p=qe({mutationFn:async j=>(await ut("PATCH","/api/auth/profile",j)).json(),onSuccess:()=>{e({title:"Profile updated",description:"Your changes have been saved"}),Pe.invalidateQueries({queryKey:["/api/auth/me"]}),a(!1)},onError:j=>{e({title:"Error",description:j.message||"Failed to update profile",variant:"destructive"}),a(!1)}}),b=()=>{a(!0);const j={name:d.name,beltLevel:d.beltLevel,style:d.style,struggleTechnique:d.struggleTechnique,height:h(),weight:d.weight?parseInt(d.weight):null,trainingFrequency:d.trainingFrequency?parseInt(d.trainingFrequency):null,age:d.age,injuries:d.injuries?d.injuries.split(",").map(N=>N.trim()).filter(Boolean):[]};p.mutate(j)},g=async()=>{try{await ut("POST","/api/auth/logout"),await Lx(),t("/email-login"),e({title:"Logged out",description:"See you on the mat!"})}catch(j){console.error("Logout error:",j)}},y=async()=>{s(!0);try{await ut("/api/user/chat-history","DELETE"),Pe.invalidateQueries({queryKey:["/api/ai/chat/history"]}),e({title:"Chat History Deleted",description:"All your conversations have been removed."})}catch(j){e({title:"Error",description:j.message||"Failed to delete chat history",variant:"destructive"})}finally{s(!1)}},v=async()=>{l(!0);try{await ut("/api/user/reset-profile","DELETE"),Pe.invalidateQueries({queryKey:["/api/auth/me"]}),Pe.invalidateQueries({queryKey:["/api/auth/profile"]}),Pe.invalidateQueries({queryKey:["/api/ai/chat/history"]}),e({title:"Profile Reset Complete",description:"Redirecting to onboarding..."}),setTimeout(()=>{t("/onboarding")},1e3)}catch(j){e({title:"Error",description:j.message||"Failed to reset profile",variant:"destructive"}),l(!1)}},m=t1e[d.beltLevel];return n.jsx(e1e,{children:n.jsxs("div",{className:"settings-page",children:[n.jsx("header",{className:"page-header",children:n.jsx("h1",{className:"page-title",children:"Settings"})}),n.jsxs("div",{className:"settings-content",children:[n.jsxs(q,{className:"settings-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx(il,{className:"section-icon"}),n.jsx("h2",{className:"section-title",children:"Profile"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx(le,{htmlFor:"name",children:"Name"}),n.jsx(be,{id:"name",value:d.name,onChange:j=>u({...d,name:j.target.value}),placeholder:"Your name","data-testid":"input-name"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx(le,{htmlFor:"email",children:"Email"}),n.jsx(be,{id:"email",type:"email",value:d.email,disabled:!0,className:"disabled-input","data-testid":"input-email"}),n.jsx("p",{className:"field-hint",children:"Email cannot be changed"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx(le,{htmlFor:"belt",children:"Belt Level"}),n.jsxs(Xe,{value:d.beltLevel,onValueChange:j=>u({...d,beltLevel:j}),children:[n.jsx(Ye,{id:"belt","data-testid":"select-belt",children:n.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:n.jsx(ae,{style:{backgroundColor:m,color:d.beltLevel==="white"?"#000":"#fff"},children:d.beltLevel.toUpperCase()})})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"white",children:"White Belt"}),n.jsx(K,{value:"blue",children:"Blue Belt"}),n.jsx(K,{value:"purple",children:"Purple Belt"}),n.jsx(K,{value:"brown",children:"Brown Belt"}),n.jsx(K,{value:"black",children:"Black Belt"})]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx(le,{htmlFor:"style",children:"Training Style"}),n.jsxs(Xe,{value:d.style,onValueChange:j=>u({...d,style:j}),children:[n.jsx(Ye,{id:"style","data-testid":"select-style",children:n.jsx(Je,{})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"gi",children:"Gi Only"}),n.jsx(K,{value:"nogi",children:"No-Gi Only"}),n.jsx(K,{value:"both",children:"Both Gi & No-Gi"})]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx(le,{htmlFor:"struggle",children:"Biggest Struggle"}),n.jsx("textarea",{id:"struggle",value:d.struggleTechnique,onChange:j=>u({...d,struggleTechnique:j.target.value}),placeholder:"What technique do you struggle with most?",rows:3,className:"struggle-textarea","data-testid":"input-struggle"}),n.jsx("p",{className:"field-hint",children:"This helps Professor OS personalize recommendations"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx(le,{children:"Height"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx(be,{id:"height-feet",type:"number",min:"0",max:"8",placeholder:"5",value:d.heightFeet,onChange:j=>u({...d,heightFeet:j.target.value}),"data-testid":"input-height-feet"})}),n.jsx("span",{className:"text-muted-foreground font-medium",children:"ft"}),n.jsx("div",{className:"flex-1",children:n.jsx(be,{id:"height-inches",type:"number",min:"0",max:"11",placeholder:"10",value:d.heightInches,onChange:j=>u({...d,heightInches:j.target.value}),"data-testid":"input-height-inches"})}),n.jsx("span",{className:"text-muted-foreground font-medium",children:"in"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx(le,{htmlFor:"weight",children:"Weight (pounds)"}),n.jsx(be,{id:"weight",type:"number",value:d.weight,onChange:j=>u({...d,weight:j.target.value}),placeholder:"e.g. 180","data-testid":"input-weight"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx(le,{htmlFor:"frequency",children:"Training Frequency"}),n.jsxs(Xe,{value:d.trainingFrequency,onValueChange:j=>u({...d,trainingFrequency:j}),children:[n.jsx(Ye,{id:"frequency","data-testid":"select-frequency",children:n.jsx(Je,{placeholder:"How many days per week?"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"1",children:"1x per week"}),n.jsx(K,{value:"2",children:"2x per week"}),n.jsx(K,{value:"3",children:"3x per week"}),n.jsx(K,{value:"4",children:"4x per week"}),n.jsx(K,{value:"5",children:"5x per week"}),n.jsx(K,{value:"6",children:"6x per week"}),n.jsx(K,{value:"7",children:"7x per week"})]})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx(le,{htmlFor:"age",children:"Age"}),n.jsx(be,{id:"age",type:"text",value:d.age,onChange:j=>u({...d,age:j.target.value}),placeholder:"e.g. 35","data-testid":"input-age"}),n.jsx("p",{className:"field-hint",children:"Used for personalized training advice"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx(le,{htmlFor:"injuries",children:"Injuries (comma-separated)"}),n.jsx(be,{id:"injuries",value:d.injuries,onChange:j=>u({...d,injuries:j.target.value}),placeholder:"e.g. knee, shoulder, lower back","data-testid":"input-injuries"}),n.jsx("p",{className:"field-hint",children:"Helps avoid problematic techniques"})]}),n.jsx(Y,{onClick:b,disabled:r,className:"save-button","data-testid":"button-save",children:r?"Saving...":"Save Changes"})]}),n.jsxs(q,{className:"settings-card",children:[n.jsx("div",{className:"card-header",children:n.jsx("h2",{className:"section-title",children:"Subscription"})}),n.jsxs("div",{className:"subscription-info",children:[n.jsxs("p",{className:"subscription-type",children:["Plan: ",n.jsx("strong",{children:(c==null?void 0:c.subscriptionType)||"Free"})]}),n.jsxs("p",{className:"subscription-status",children:["Status: ",n.jsx("strong",{children:(c==null?void 0:c.subscriptionStatus)||"Inactive"})]}),n.jsxs(Y,{variant:"outline",onClick:async()=>{ir()?await Dh.open({url:"https://bjjos.app/settings/subscription"}):t("/settings/subscription")},className:"manage-button",children:[n.jsx(xi,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})]})]}),n.jsxs(q,{className:"settings-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx(_a,{className:"section-icon"}),n.jsx("h2",{className:"section-title",children:"Data & Privacy"})]}),n.jsxs("div",{className:"data-action-row",children:[n.jsxs("div",{className:"data-action-info",children:[n.jsxs("div",{className:"data-action-label",children:[n.jsx(al,{className:"w-4 h-4"}),n.jsx("span",{children:"Delete Chat History"})]}),n.jsx("p",{className:"field-hint",children:"Removes all messages. Your profile stays intact."})]}),n.jsxs(Yg,{children:[n.jsx(hT,{asChild:!0,children:n.jsx(Y,{variant:"outline",size:"sm",disabled:i,"data-testid":"button-delete-chat",children:i?n.jsx(ze,{className:"w-4 h-4 animate-spin"}):"Delete"})}),n.jsxs(Qf,{className:"bg-[#1A1A1A] border-white/10",children:[n.jsxs(Xf,{children:[n.jsx(Zf,{className:"text-white",children:"Delete Chat History?"}),n.jsx(eh,{className:"text-white/70",children:"This will permanently delete all your conversations with Professor OS. Your profile (belt rank, goals, preferences) will not be affected. This cannot be undone."})]}),n.jsxs(Jf,{children:[n.jsx(rh,{className:"bg-white/10 text-white border-white/10",children:"Cancel"}),n.jsx(th,{onClick:y,className:"bg-red-500 text-white hover:bg-red-600","data-testid":"button-confirm-delete-chat",children:"Delete"})]})]})]})]}),n.jsx("div",{className:"data-action-divider"}),n.jsxs("div",{className:"data-action-row",children:[n.jsxs("div",{className:"data-action-info",children:[n.jsxs("div",{className:"data-action-label",children:[n.jsx(Oa,{className:"w-4 h-4"}),n.jsx("span",{children:"Reset Professor OS Memory"})]}),n.jsx("p",{className:"field-hint",children:"Start fresh. Removes all conversations AND your profile."})]}),n.jsxs(Yg,{children:[n.jsx(hT,{asChild:!0,children:n.jsx(Y,{variant:"destructive",size:"sm",disabled:o,"data-testid":"button-reset-profile",children:o?n.jsx(ze,{className:"w-4 h-4 animate-spin"}):"Reset"})}),n.jsxs(Qf,{className:"bg-[#1A1A1A] border-white/10",children:[n.jsxs(Xf,{children:[n.jsx(Zf,{className:"text-white",children:"Reset Everything?"}),n.jsx(eh,{className:"text-white/70",children:"This will delete ALL your data including conversations, your belt rank, goals, training preferences, and everything Professor OS has learned about you. You will need to set up your profile again. This cannot be undone."})]}),n.jsxs(Jf,{children:[n.jsx(rh,{className:"bg-white/10 text-white border-white/10",children:"Cancel"}),n.jsx(th,{onClick:v,className:"bg-red-500 text-white hover:bg-red-600","data-testid":"button-confirm-reset-profile",children:"Reset Everything"})]})]})]})]})]}),n.jsxs(Y,{variant:"destructive",onClick:g,className:"logout-button","data-testid":"button-logout",children:[n.jsx(xd,{className:"w-4 h-4 mr-2"}),"Log Out"]})]}),n.jsx("style",{children:`
          /* ==================== PAGE LAYOUT ==================== */
          .settings-page {
            min-height: 100vh;
            background: #000;
            color: #fff;
          }

          .page-header {
            padding: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
          }

          .page-title {
            font-size: 24px;
            font-weight: 700;
            margin: 0;
          }

          /* ==================== CONTENT ==================== */
          .settings-content {
            padding: 16px;
            max-width: 600px;
            margin: 0 auto;
          }

          @media (min-width: 768px) {
            .settings-content {
              padding: 24px;
            }
          }

          .settings-card {
            background: #0F0F0F;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
          }

          .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
          }

          .section-icon {
            width: 24px;
            height: 24px;
            color: #7C3AED;
          }

          .section-title {
            font-size: 20px;
            font-weight: 700;
            margin: 0;
          }

          /* ==================== FORM ==================== */
          .form-group {
            margin-bottom: 20px;
          }

          .form-group label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #A0A0A0;
          }

          .form-group input,
          .form-group select {
            background: #000;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #fff;
            width: 100%;
          }

          .disabled-input {
            opacity: 0.5;
            cursor: not-allowed;
          }

          .struggle-textarea {
            width: 100%;
            background: #000;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 12px;
            color: #fff;
            font-size: 15px;
            font-family: inherit;
            resize: vertical;
            outline: none;
          }

          .struggle-textarea:focus {
            border-color: #7C3AED;
          }

          .struggle-textarea::placeholder {
            color: #71717A;
          }

          .field-hint {
            font-size: 12px;
            color: #71717A;
            margin-top: 4px;
          }

          .save-button {
            width: 100%;
            background: linear-gradient(135deg, #2563EB 0%, #7C3AED 100%);
            color: #fff;
            font-weight: 600;
            margin-top: 8px;
          }

          .save-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
          }

          /* ==================== SUBSCRIPTION ==================== */
          .subscription-info {
            display: flex;
            flex-direction: column;
            gap: 12px;
          }

          .subscription-type,
          .subscription-status {
            font-size: 15px;
            color: #A0A0A0;
            margin: 0;
          }

          .subscription-type strong,
          .subscription-status strong {
            color: #fff;
          }

          .manage-button {
            margin-top: 8px;
          }

          /* ==================== DATA & PRIVACY ==================== */
          .data-action-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
            padding: 8px 0;
          }

          .data-action-info {
            flex: 1;
          }

          .data-action-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: #fff;
            margin-bottom: 4px;
          }

          .data-action-divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 12px 0;
          }

          /* ==================== LOGOUT ==================== */
          .logout-button {
            width: 100%;
            margin-top: 8px;
          }
        `})]})})}function n1e(){var o;const{data:e,isLoading:t}=ue({queryKey:["/api/auth/me"]});if(t)return n.jsx(Ei,{children:n.jsx("div",{className:"flex items-center justify-center w-full h-full",children:n.jsx("div",{className:"text-2xl",children:"Loading..."})})});if(!e)return n.jsx(Ei,{children:n.jsx("div",{className:"flex items-center justify-center w-full h-full",children:n.jsx("div",{className:"text-xl text-muted-foreground",children:"Please log in to view your progress"})})});const r=e.createdAt?gn(new Date(e.createdAt),"MMMM d, yyyy"):"Unknown",a=e.totalLogins||0,i=e.currentStreak||0,s=e.beltLevel||"blue";return n.jsx(Ei,{children:n.jsx("div",{className:"w-full h-full p-6 overflow-auto",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("h1",{className:"text-4xl font-bold",children:"Your Progress"}),n.jsx("div",{className:"flex justify-center",children:n.jsx(Nd,{rank:s,size:"large"})}),n.jsxs("p",{className:"text-muted-foreground text-lg",children:[s.charAt(0).toUpperCase()+s.slice(1)," Belt"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Member Since"}),n.jsx(Cx,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold",children:r}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Your journey began"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Total Logins"}),n.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold",children:a}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Training sessions"})]})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Current Streak"}),n.jsx(A1,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(H,{children:[n.jsx("div",{className:"text-2xl font-bold",children:i}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i===1?"day":"days"," in a row"]})]})]})]}),n.jsxs(q,{children:[n.jsx(X,{children:n.jsx(J,{children:"Training Profile"})}),n.jsxs(H,{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Training Style:"}),n.jsx("span",{className:"font-medium capitalize",children:e.style||"Not set"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Training Frequency:"}),n.jsxs("span",{className:"font-medium",children:[e.trainingFrequency||0," days/week"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Subscription:"}),n.jsx("span",{className:"font-medium capitalize",children:((o=e.subscriptionType)==null?void 0:o.replace("_"," "))||"Free Trial"})]})]})]})]})})})}function AT(){const[e,t]=x.useState(""),[r,a]=x.useState(""),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,d]=x.useState(null);x.useEffect(()=>{const P=setTimeout(()=>a(e),300);return()=>clearTimeout(P)},[e]);const{data:u}=ue({queryKey:["/api/auth/me"]}),{data:f,isLoading:h}=ue({queryKey:["/api/ai/saved-videos",u==null?void 0:u.id],enabled:!!(u!=null&&u.id)}),p=(f==null?void 0:f.videos)||[],{instructorToTechniques:b,techniqueToInstructors:g,allInstructors:y,allTechniques:v}=x.useMemo(()=>{const P=new Map,R=new Map,$=new Set,E=new Set;for(const _ of p){const M=_.instructor,T=_.category;M&&($.add(M),P.has(M)||P.set(M,new Set),T&&P.get(M).add(T)),T&&(E.add(T),R.has(T)||R.set(T,new Set),M&&R.get(T).add(M))}return{instructorToTechniques:P,techniqueToInstructors:R,allInstructors:Array.from($).sort((_,M)=>_.localeCompare(M)),allTechniques:Array.from(E).sort((_,M)=>_.localeCompare(M))}},[p]),m=x.useMemo(()=>{if(o==="all")return y;const P=g.get(o);return P?y.filter(R=>P.has(R)):y},[o,y,g]),j=x.useMemo(()=>{if(i==="all")return v;const P=b.get(i);return P?v.filter(R=>P.has(R)):v},[i,v,b]),N=P=>{if(s(P),P!=="all"&&o!=="all"){const R=b.get(P);(!R||!R.has(o))&&l("all")}},w=P=>{if(l(P),P!=="all"&&i!=="all"){const R=g.get(P);(!R||!R.has(i))&&s("all")}},S=P=>o==="all"?p.filter(R=>R.instructor===P).length:p.filter(R=>R.instructor===P&&R.category===o).length,k=P=>i==="all"?p.filter(R=>R.category===P).length:p.filter(R=>R.category===P&&R.instructor===i).length,C=x.useMemo(()=>p.filter(P=>{var M,T;const R=r.toLowerCase(),$=!r||((M=P.title)==null?void 0:M.toLowerCase().includes(R))||((T=P.instructor)==null?void 0:T.toLowerCase().includes(R)),E=i==="all"||P.instructor===i,_=o==="all"||P.category===o;return $&&E&&_}),[p,r,i,o]),A=P=>{var R;return P.videoUrl?P.videoUrl.includes("v=")?((R=P.videoUrl.split("v=")[1])==null?void 0:R.split("&")[0])||"":P.videoUrl.split("/").pop()||"":""},O=P=>{if(P.thumbnailUrl)return P.thumbnailUrl;const R=A(P);return R?`https://img.youtube.com/vi/${R}/mqdefault.jpg`:""},I=x.useMemo(()=>({total_videos:p.length,unique_instructors:y.length,unique_techniques:v.length}),[p,y,v]);return h?n.jsx(Ei,{children:n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx(TS,{size:"lg",className:"text-purple-400 mb-4"}),n.jsx("p",{className:"text-muted-foreground",children:"Loading saved videos..."})]})}):n.jsxs(Ei,{children:[n.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[n.jsx(Ea,{className:"h-8 w-8 text-primary"}),n.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Saved Videos"})]}),n.jsx("p",{className:"text-muted-foreground",children:"Your personal collection of BJJ technique videos"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Saved Videos"}),n.jsx(nf,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-total-videos",children:I.total_videos})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Instructors"}),n.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-instructors",children:I.unique_instructors})})]}),n.jsxs(q,{children:[n.jsxs(X,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[n.jsx(J,{className:"text-sm font-medium",children:"Techniques"}),n.jsx(Px,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsx(H,{children:n.jsx("div",{className:"text-2xl font-bold","data-testid":"stat-techniques",children:I.unique_techniques})})]})]}),n.jsx(q,{children:n.jsx(H,{className:"pt-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(be,{placeholder:"Search by title or instructor...",value:e,onChange:P=>t(P.target.value),className:"pl-10","data-testid":"input-search"})]}),n.jsxs(Xe,{value:i,onValueChange:N,children:[n.jsx(Ye,{className:"w-full md:w-[250px]","data-testid":"select-instructor",children:n.jsx(Je,{placeholder:"All Instructors"})}),n.jsxs(Qe,{children:[n.jsxs(K,{value:"all",children:["All Instructors (",m.length,")"]}),m.map(P=>n.jsxs(K,{value:P,children:[P," (",S(P),")"]},P))]})]}),n.jsxs(Xe,{value:o,onValueChange:w,children:[n.jsx(Ye,{className:"w-full md:w-[250px]","data-testid":"select-technique",children:n.jsx(Je,{placeholder:"All Techniques"})}),n.jsxs(Qe,{children:[n.jsxs(K,{value:"all",children:["All Techniques (",j.length,")"]}),j.map(P=>n.jsxs(K,{value:P,children:[P," (",k(P),")"]},P))]})]})]})})}),n.jsx("div",{children:C.length===0?n.jsx(q,{children:n.jsxs(H,{className:"py-12 text-center",children:[n.jsx(Ea,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("p",{className:"text-xl text-muted-foreground",children:p.length===0?"No saved videos yet. Start saving videos from chat!":"No videos match your filters"})]})}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:C.map((P,R)=>{const $=A(P);return n.jsxs(q,{className:"overflow-hidden cursor-pointer hover-elevate transition-all","data-testid":`card-video-${P.id||R}`,onClick:()=>d(P),children:[n.jsxs("div",{className:"relative aspect-video bg-muted",children:[n.jsx("img",{src:O(P),alt:P.title,className:"w-full h-full object-cover",onError:E=>{E.target.src=`https://img.youtube.com/vi/${$}/mqdefault.jpg`}}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/0 hover:bg-black/30 transition-colors",children:n.jsx(nf,{className:"h-12 w-12 text-white opacity-0 hover:opacity-100 transition-opacity"})}),P.duration&&n.jsx("span",{className:"absolute bottom-2 right-2 bg-black/80 text-white text-xs px-1.5 py-0.5 rounded",children:P.duration})]}),n.jsxs(H,{className:"p-3 space-y-2",children:[n.jsx("h3",{className:"font-medium text-sm line-clamp-2",title:P.title,children:P.title}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[n.jsx("span",{className:"truncate max-w-[120px]",title:P.instructor,children:P.instructor||"Unknown"}),P.qualityScore&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Hr,{className:"h-3 w-3 text-yellow-500"}),n.jsx("span",{children:Number(P.qualityScore).toFixed(1)})]})]}),P.category&&n.jsx(ae,{variant:"secondary",className:"text-xs truncate max-w-full",children:P.category})]})]},P.id||R)})})})]}),n.jsx(Ar,{open:!!c,onOpenChange:P=>!P&&d(null),children:n.jsxs(yr,{className:"max-w-4xl p-0 overflow-hidden",children:[n.jsxs(br,{className:"p-4 pb-2",children:[n.jsx(jr,{className:"pr-8 line-clamp-2",children:c==null?void 0:c.title}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[n.jsx("span",{children:c==null?void 0:c.instructor}),(c==null?void 0:c.category)&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"-"}),n.jsx(ae,{variant:"secondary",className:"text-xs",children:c==null?void 0:c.category})]}),(c==null?void 0:c.qualityScore)&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"-"}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Hr,{className:"h-3 w-3 text-yellow-500"}),n.jsx("span",{children:Number(c.qualityScore).toFixed(1)})]})]})]})]}),n.jsx("div",{className:"aspect-video w-full",children:c&&n.jsx("iframe",{src:`https://www.youtube.com/embed/${A(c)}?autoplay=1&rel=0`,title:c.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})})]})}function a1e(){const[,e]=at(),{toast:t}=tt(),[r,a]=x.useState(!1),[i,s]=x.useState("monthly"),[o,l]=x.useState(""),[c,d]=x.useState(!1),[u,f]=x.useState(null),[h,p]=x.useState(""),{data:b,isLoading:g}=ue({queryKey:["/api/auth/me"]});x.useEffect(()=>{window.scrollTo(0,0)},[]),x.useEffect(()=>{b&&((b.subscriptionType==="lifetime"||b.subscriptionType==="free_admin_grant")&&(console.log("[PAYMENT] User has lifetime/admin access, redirecting to /chat"),e("/chat")),(b.subscriptionStatus==="trialing"||b.subscriptionStatus==="active")&&(console.log("[PAYMENT] User already has active subscription, redirecting to /chat"),e("/chat")))},[b,e]);const y=async()=>{if(o.trim()){d(!0),p("");try{const C=await(await ut("POST","/api/validate-referral",{code:o.trim()})).json();C.valid?(f({code:C.code,discountDescription:C.discountDescription||"Valid referral code"}),t({title:"Referral code applied!",description:C.discountDescription||"Your discount will be applied at checkout."})):p(C.error||"Invalid referral code")}catch{p("Failed to validate referral code")}finally{d(!1)}}},v=()=>{f(null),l(""),p("")},m=async()=>{a(!0);try{console.log(`[PAYMENT] Creating checkout session for ${i} plan`);const k=await ut("POST","/api/create-checkout-session",{priceId:i,referralCode:(u==null?void 0:u.code)||null}),C=await k.json();if(!k.ok)throw new Error(C.error||"Failed to create checkout session");console.log("[PAYMENT] Checkout session created:",C),C.devBypass?(t({title:"Trial Started!",description:"Your 7-day trial is now active (dev mode)"}),e(C.url)):window.location.href=C.url}catch(k){t({title:"Error",description:k.message||"Failed to start trial",variant:"destructive"}),a(!1)}};if(g)return n.jsx("div",{className:"payment-page page-container",children:n.jsxs("div",{className:"payment-loading",children:[n.jsx(ze,{className:"w-8 h-8 animate-spin text-white/60"}),n.jsx("p",{className:"text-white/60 mt-4",children:"Loading..."})]})});const j="$14.99",N="$179.88",S=new Date(Date.now()+7*24*60*60*1e3).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return n.jsxs("div",{className:"payment-page page-container",children:[n.jsxs("div",{className:"payment-container",children:[n.jsxs("div",{className:"payment-header",children:[n.jsx("h1",{className:"payment-headline",children:"Complete Your Setup"}),n.jsx("p",{className:"payment-subheadline",children:"Choose your plan and start your 7-day free trial"})]}),n.jsxs("div",{className:"plan-selector",children:[n.jsxs("button",{onClick:()=>s("monthly"),className:`plan-card ${i==="monthly"?"plan-card-selected":""}`,"data-testid":"button-plan-monthly",children:[n.jsxs("div",{className:"plan-card-header",children:[n.jsx("div",{className:"plan-card-title",children:"Monthly"}),i==="monthly"&&n.jsx("div",{className:"plan-card-badge",children:n.jsx(zr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"plan-card-price",children:[j,n.jsx("span",{className:"plan-card-period",children:"/month"})]}),n.jsx("div",{className:"plan-card-description",children:"Billed monthly, cancel anytime"})]}),n.jsxs("button",{onClick:()=>s("annual"),className:`plan-card ${i==="annual"?"plan-card-selected":""}`,"data-testid":"button-plan-annual",children:[n.jsxs("div",{className:"plan-card-header",children:[n.jsx("div",{className:"plan-card-title",children:"Annual"}),i==="annual"&&n.jsx("div",{className:"plan-card-badge",children:n.jsx(zr,{className:"w-4 h-4"})})]}),n.jsxs("div",{className:"plan-card-price",children:[N,n.jsx("span",{className:"plan-card-period",children:"/year"})]}),n.jsx("div",{className:"plan-card-description",children:"Save 17% with annual billing"})]})]}),n.jsxs("div",{className:"trial-info",children:[n.jsx("div",{className:"trial-info-badge",children:"7-Day Free Trial"}),n.jsxs("p",{className:"trial-info-text",children:["You won't be charged until ",n.jsx("strong",{children:S})]}),n.jsxs("p",{className:"trial-info-subtext",children:["Cancel anytime before ",S," - no charge"]})]}),n.jsxs("div",{className:"referral-section",children:[n.jsxs("div",{className:"referral-header",children:[n.jsx(o7,{className:"w-4 h-4"}),n.jsx("span",{children:"Have a referral code?"})]}),u?n.jsxs("div",{className:"referral-applied","data-testid":"referral-applied",children:[n.jsxs("div",{className:"referral-applied-content",children:[n.jsx(In,{className:"w-5 h-5 text-green-500"}),n.jsxs("div",{className:"referral-applied-text",children:[n.jsx("span",{className:"referral-code-display",children:u.code}),n.jsx("span",{className:"referral-discount",children:u.discountDescription})]})]}),n.jsx("button",{onClick:v,className:"referral-remove","data-testid":"button-remove-referral",children:n.jsx(ni,{className:"w-4 h-4"})})]}):n.jsxs("div",{className:"referral-input-container",children:[n.jsx(be,{type:"text",placeholder:"Enter referral code",value:o,onChange:k=>{l(k.target.value.toUpperCase()),p("")},onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),y())},className:"referral-input","data-testid":"input-referral-code"}),n.jsx(Y,{onClick:y,disabled:!o.trim()||c,variant:"outline",className:"referral-apply-btn","data-testid":"button-apply-referral",children:c?n.jsx(ze,{className:"w-4 h-4 animate-spin"}):"Apply"})]}),h&&n.jsx("p",{className:"referral-error","data-testid":"referral-error",children:h})]}),n.jsxs("div",{className:"features-list",children:[n.jsx("h3",{className:"features-title",children:"What's Included"}),n.jsxs("div",{className:"features-grid",children:[n.jsxs("div",{className:"feature-item",children:[n.jsx(zr,{className:"feature-icon"}),n.jsx("span",{children:"AI-powered BJJ coaching with Professor OS"})]}),n.jsxs("div",{className:"feature-item",children:[n.jsx(zr,{className:"feature-icon"}),n.jsx("span",{children:"Personalized video recommendations"})]}),n.jsxs("div",{className:"feature-item",children:[n.jsx(zr,{className:"feature-icon"}),n.jsx("span",{children:"3-brain memory system that remembers you"})]}),n.jsxs("div",{className:"feature-item",children:[n.jsx(zr,{className:"feature-icon"}),n.jsx("span",{children:"Daily technique drills tailored to your level"})]}),n.jsxs("div",{className:"feature-item",children:[n.jsx(zr,{className:"feature-icon"}),n.jsx("span",{children:"Progress tracking and performance analytics"})]}),n.jsxs("div",{className:"feature-item",children:[n.jsx(zr,{className:"feature-icon"}),n.jsx("span",{children:"Access to 300+ curated BJJ technique videos"})]})]})]}),n.jsx(Y,{onClick:m,disabled:r,className:"payment-cta","data-testid":"button-start-trial",children:r?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-5 h-5 mr-2 animate-spin"}),"Starting Trial..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ph,{className:"w-5 h-5 mr-2"}),"Start 7-Day Free Trial"]})}),n.jsxs("div",{className:"trust-signals",children:[n.jsx("p",{className:"trust-text",children:" Secure payment powered by Stripe"}),n.jsx("p",{className:"trust-text",children:" Cancel anytime, no questions asked"})]})]}),n.jsx("style",{children:`
        /* ==================== VARIABLES ==================== */
        :root {
          --black: #000000;
          --black-elevated: #0F0F0F;
          --white: #FFFFFF;
          --gray-light: #A0A0A0;
          --gray-medium: #71717A;
          --gray-dark: #1A1A1A;
          --blue: #2563EB;
          --purple: #7C3AED;
        }

        /* ==================== BASE STYLES ==================== */
        .payment-page {
          background: radial-gradient(circle at 50% 0%, #0A0812 0%, #15111F 50%, #0A0812 100%);
          color: var(--white);
          min-height: 100vh;
          padding: 80px 20px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .payment-container {
          width: 100%;
          max-width: 700px;
        }

        .payment-loading {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          min-height: 400px;
        }

        /* ==================== HEADER ==================== */
        .payment-header {
          text-align: center;
          margin-bottom: 48px;
        }

        .payment-headline {
          font-size: 48px;
          font-weight: 700;
          color: var(--white);
          line-height: 1.1;
          letter-spacing: -0.01em;
          margin-bottom: 16px;
        }

        .payment-subheadline {
          font-size: 18px;
          font-weight: 400;
          color: var(--gray-light);
          line-height: 1.6;
        }

        /* ==================== PLAN SELECTOR ==================== */
        .plan-selector {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          margin-bottom: 32px;
        }

        .plan-card {
          background: var(--black-elevated);
          border: 2px solid rgba(255, 255, 255, 0.1);
          padding: 24px;
          cursor: pointer;
          transition: all 150ms ease;
          text-align: left;
        }

        .plan-card:hover {
          border-color: rgba(255, 255, 255, 0.2);
        }

        .plan-card-selected {
          border-color: var(--purple);
          background: rgba(124, 58, 237, 0.1);
        }

        .plan-card-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 12px;
        }

        .plan-card-title {
          font-size: 20px;
          font-weight: 700;
          color: var(--white);
        }

        .plan-card-badge {
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background: var(--purple);
          color: var(--white);
          display: flex;
          align-items: center;
          justify-center;
        }

        .plan-card-price {
          font-size: 32px;
          font-weight: 700;
          color: var(--white);
          margin-bottom: 8px;
        }

        .plan-card-period {
          font-size: 16px;
          font-weight: 400;
          color: var(--gray-light);
        }

        .plan-card-description {
          font-size: 14px;
          color: var(--gray-light);
        }

        /* ==================== TRIAL INFO ==================== */
        .trial-info {
          background: rgba(124, 58, 237, 0.1);
          border: 1px solid rgba(124, 58, 237, 0.3);
          padding: 24px;
          text-align: center;
          margin-bottom: 32px;
        }

        .trial-info-badge {
          font-size: 18px;
          font-weight: 700;
          color: var(--white);
          margin-bottom: 12px;
        }

        .trial-info-text {
          font-size: 16px;
          color: var(--white);
          margin-bottom: 8px;
        }

        .trial-info-subtext {
          font-size: 14px;
          color: var(--gray-light);
        }

        /* ==================== REFERRAL CODE ==================== */
        .referral-section {
          background: var(--black-elevated);
          border: 1px solid rgba(255, 255, 255, 0.1);
          padding: 20px;
          margin-bottom: 32px;
        }

        .referral-header {
          display: flex;
          align-items: center;
          gap: 8px;
          color: var(--gray-light);
          font-size: 14px;
          margin-bottom: 12px;
        }

        .referral-input-container {
          display: flex;
          gap: 8px;
        }

        .referral-input {
          flex: 1;
          background: rgba(255, 255, 255, 0.05);
          border: 1px solid rgba(255, 255, 255, 0.15);
          color: var(--white);
          text-transform: uppercase;
        }

        .referral-input::placeholder {
          color: var(--gray-medium);
          text-transform: none;
        }

        .referral-apply-btn {
          min-width: 80px;
          border-color: rgba(255, 255, 255, 0.2);
          color: var(--white);
        }

        .referral-applied {
          display: flex;
          align-items: center;
          justify-content: space-between;
          background: rgba(34, 197, 94, 0.1);
          border: 1px solid rgba(34, 197, 94, 0.3);
          padding: 12px 16px;
        }

        .referral-applied-content {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .referral-applied-text {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }

        .referral-code-display {
          font-weight: 700;
          color: var(--white);
          font-size: 14px;
        }

        .referral-discount {
          font-size: 13px;
          color: rgb(34, 197, 94);
        }

        .referral-remove {
          background: transparent;
          border: none;
          color: var(--gray-light);
          cursor: pointer;
          padding: 4px;
          transition: color 150ms ease;
        }

        .referral-remove:hover {
          color: var(--white);
        }

        .referral-error {
          color: rgb(239, 68, 68);
          font-size: 13px;
          margin-top: 8px;
        }

        /* ==================== FEATURES ==================== */
        .features-list {
          margin-bottom: 32px;
        }

        .features-title {
          font-size: 20px;
          font-weight: 700;
          color: var(--white);
          margin-bottom: 16px;
        }

        .features-grid {
          display: grid;
          grid-template-columns: 1fr;
          gap: 12px;
        }

        .feature-item {
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 16px;
          color: var(--white);
        }

        .feature-icon {
          width: 20px;
          height: 20px;
          color: var(--purple);
          flex-shrink: 0;
        }

        /* ==================== CTA BUTTON ==================== */
        .payment-cta {
          width: 100%;
          background: linear-gradient(135deg, var(--blue) 0%, var(--purple) 100%);
          border: none;
          font-weight: 700;
          font-size: 18px;
          color: var(--white);
          padding: 20px 48px;
          cursor: pointer;
          transition: all 150ms ease;
          display: flex;
          align-items: center;
          justify-content: center;
          margin-bottom: 24px;
          min-height: 60px;
        }

        .payment-cta:hover:not(:disabled) {
          background: linear-gradient(135deg, #1D4ED8 0%, #6D28D9 100%);
        }

        .payment-cta:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        /* ==================== TRUST SIGNALS ==================== */
        .trust-signals {
          text-align: center;
        }

        .trust-text {
          font-size: 14px;
          color: var(--gray-light);
          margin-bottom: 8px;
        }

        /* ==================== MOBILE RESPONSIVE ==================== */
        @media (max-width: 768px) {
          .payment-page {
            padding: 60px 20px;
          }

          .payment-headline {
            font-size: 36px;
          }

          .plan-selector {
            grid-template-columns: 1fr;
          }
        }
      `})]})}function i1e(){const[e,t]=x.useState(""),[r,a]=x.useState("all"),[i,s]=x.useState("newest"),[o,l]=x.useState("all"),[c,d]=x.useState("all"),[u,f]=x.useState(null),[h,p]=x.useState(new Set),{toast:b}=tt(),[,g]=at(),{data:y,isLoading:v,error:m}=ue({queryKey:["/api/auth/me"]});x.useEffect(()=>{m&&!v&&(b({title:"Authentication Required",description:"Please log in to continue",variant:"destructive"}),g("/login"))},[m,v,g,b]);const{data:j}=ue({queryKey:["/api/ai/saved-videos",y==null?void 0:y.id],enabled:!!(y!=null&&y.id)});x.useEffect(()=>{j!=null&&j.videos&&p(new Set(j.videos.map(T=>parseInt(T.id))))},[j]);const N=qe({mutationFn:async T=>(Be("light"),await ut("POST","/api/ai/saved-videos",{userId:y==null?void 0:y.id,videoId:T})),onSuccess:(T,D)=>{Be("success"),p(B=>new Set([...Array.from(B),D])),b({title:"Saved",description:"Video saved to your library"}),Pe.invalidateQueries({queryKey:["/api/ai/saved-videos",y==null?void 0:y.id]})}}),w=qe({mutationFn:async T=>await ut("DELETE",`/api/ai/saved-videos/${T}`,{userId:y==null?void 0:y.id}),onSuccess:(T,D)=>{p(B=>{const ee=new Set(Array.from(B));return ee.delete(D),ee}),b({title:"Removed",description:"Video removed from your library"}),Pe.invalidateQueries({queryKey:["/api/ai/saved-videos",y==null?void 0:y.id]})}}),S=(T,D)=>{D.stopPropagation(),h.has(T)?w.mutate(T):N.mutate(T)},k=(T,D,B)=>{f({videoId:T,title:D,instructor:B})},{data:C,isLoading:A,error:O,isFetching:I}=ue({queryKey:["/api/ai/videos"]});x.useEffect(()=>{var T;console.log("[LIBRARY DEBUG] Query state:",{isLoading:A,isFetching:I,hasData:!!C,videosCount:((T=C==null?void 0:C.videos)==null?void 0:T.length)||0,error:(O==null?void 0:O.message)||null})},[A,I,C,O]);const P=(C==null?void 0:C.videos)||[],{data:R}=ue({queryKey:["/api/ai/techniques"]}),$=(R==null?void 0:R.techniques)||[],{data:E}=ue({queryKey:["/api/ai/instructors"]}),_=(E==null?void 0:E.instructors)||[],M=x.useMemo(()=>{console.log("[LIBRARY FILTER] Running filter with:",{searchQuery:e,giFilter:r,sortBy:i,instructorFilter:o,techniqueFilter:c,totalVideos:P.length});let T=P.filter(D=>{var ve,ce,Oe,me,Ce,te;const B=!e||((ve=D.title)==null?void 0:ve.toLowerCase().includes(e.toLowerCase()))||((ce=D.techniqueName)==null?void 0:ce.toLowerCase().includes(e.toLowerCase()))||((Oe=D.instructorName)==null?void 0:Oe.toLowerCase().includes(e.toLowerCase())),ee=r==="all"||((me=D.giOrNogi)==null?void 0:me.toLowerCase())===r.toLowerCase(),re=o==="all"||((Ce=D.instructorName)==null?void 0:Ce.toLowerCase())===o.toLowerCase(),oe=c==="all"||((te=D.techniqueName)==null?void 0:te.toLowerCase())===c.toLowerCase();return B&&ee&&re&&oe});return console.log("[LIBRARY FILTER] Filtered to",T.length,"videos"),i==="newest"?T.sort((D,B)=>{const ee=new Date(D.createdAt??0).getTime();return new Date(B.createdAt??0).getTime()-ee}):i==="popular"?T.sort((D,B)=>{const ee=D.viewCount??0;return(B.viewCount??0)-ee}):i==="instructor"?T.sort((D,B)=>{const ee=(D.instructorName||"").localeCompare(B.instructorName||"");if(ee!==0)return ee;const re=new Date(D.createdAt??0).getTime();return new Date(B.createdAt??0).getTime()-re}):T.sort((D,B)=>{const ee=new Date(D.createdAt??0).getTime();return new Date(B.createdAt??0).getTime()-ee})},[P,e,r,i,o,c]);return v?n.jsx(Ei,{children:n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(TS,{size:"lg",className:"text-purple-400"})})}):m||!y?n.jsx(Ei,{children:n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx("div",{className:"text-muted-foreground",children:"Redirecting to login..."})})}):n.jsxs(Ei,{children:[n.jsxs("div",{className:"library-page w-full h-full overflow-auto",children:[n.jsx("header",{className:"page-header",children:n.jsxs("div",{className:"header-content",children:[n.jsx("h1",{className:"page-title",children:"Video Library"}),n.jsx(xn,{className:"search-icon-header"})]})}),n.jsxs("div",{className:"filters-section",children:[n.jsxs("div",{className:"search-bar",children:[n.jsx(xn,{className:"search-icon"}),n.jsx(be,{type:"text",placeholder:"Search techniques...",value:e,onChange:T=>t(T.target.value),className:"search-input","data-testid":"input-search"})]}),n.jsxs("div",{className:"filter-row",children:[n.jsxs(Xe,{value:i,onValueChange:T=>s(T),children:[n.jsx(Ye,{className:"filter-select","data-testid":"select-sort",children:n.jsx(Je,{placeholder:"Sort"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"newest",children:"Newest First"}),n.jsx(K,{value:"popular",children:"Most Watched"}),n.jsx(K,{value:"instructor",children:"By Instructor"})]})]}),n.jsxs(Xe,{value:r,onValueChange:a,children:[n.jsx(Ye,{className:"filter-select","data-testid":"select-gi",children:n.jsx(Je,{placeholder:"Gi/No-Gi"})}),n.jsxs(Qe,{children:[n.jsx(K,{value:"all",children:"All"}),n.jsx(K,{value:"gi",children:"Gi"}),n.jsx(K,{value:"nogi",children:"No-Gi"}),n.jsx(K,{value:"both",children:"Both"})]})]}),n.jsxs(Xe,{value:c,onValueChange:d,children:[n.jsx(Ye,{className:"filter-select","data-testid":"select-technique",children:n.jsx(Je,{placeholder:"All Techniques"})}),n.jsxs(Qe,{children:[n.jsxs(K,{value:"all",children:["All Techniques (",(R==null?void 0:R.totalCount)||0,")"]}),$.map(T=>n.jsxs(K,{value:T.name.toLowerCase(),children:[T.name," (",T.count,")"]},T.name))]})]}),n.jsxs(Xe,{value:o,onValueChange:l,children:[n.jsx(Ye,{className:"filter-select","data-testid":"select-instructor",children:n.jsx(Je,{placeholder:"All Instructors"})}),n.jsxs(Qe,{children:[n.jsxs(K,{value:"all",children:["All Instructors (",(E==null?void 0:E.totalCount)||0,")"]}),_.map(T=>n.jsxs(K,{value:T.name.toLowerCase(),children:[T.name," (",T.count,")"]},T.name))]})]})]}),n.jsx("div",{className:"result-count","data-testid":"video-count",children:A?"Loading...":`${M.length} videos`})]}),n.jsx("div",{className:"video-grid",children:A?n.jsx("div",{className:"loading-state",children:"Loading videos..."}):M.length===0?n.jsxs("div",{className:"empty-state",children:[n.jsx("p",{children:"No videos found"}),n.jsx("p",{className:"empty-hint",children:i==="instructor"&&o?`No videos found for instructor "${o}"`:"Try adjusting your filters"})]}):M.map(T=>n.jsxs("div",{className:"video-card","data-testid":`video-card-${T.id}`,onClick:()=>T.videoId&&k(T.videoId,T.techniqueName||T.title,T.instructorName),children:[n.jsxs("div",{className:"video-thumbnail",children:[n.jsx(ES,{thumbnailUrl:T.thumbnailUrl,videoId:T.videoId,title:T.techniqueName||T.title}),n.jsx("div",{className:"play-overlay",children:n.jsx("div",{className:"play-button-circle",children:""})}),n.jsx("button",{className:"save-button","data-testid":`button-save-${T.id}`,onClick:D=>S(T.id,D),children:n.jsx(aI,{className:"heart-icon",fill:h.has(T.id)?"#ff4444":"none",stroke:h.has(T.id)?"#ff4444":"#fff"})}),T.qualityScore&&n.jsxs("div",{className:"quality-badge",children:[" ",T.qualityScore.toFixed(1)]})]}),n.jsxs("div",{className:"video-info",children:[n.jsx("h3",{className:"video-title",children:T.techniqueName||T.title}),n.jsx("p",{className:"video-instructor",children:T.instructorName}),n.jsx("div",{className:"video-metadata",children:T.giOrNogi&&n.jsx("span",{className:"metadata-badge gi-badge","data-testid":`badge-gi-${T.id}`,children:T.giOrNogi==="gi"?"Gi":T.giOrNogi==="nogi"?"No-Gi":"Both"})})]})]},T.id))}),n.jsx("style",{children:`
          /* ==================== PAGE LAYOUT ==================== */
          .library-page {
            min-height: 100vh;
            background: #000;
            color: #fff;
          }

          .page-header {
            padding: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
          }

          .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
          }

          .page-title {
            font-size: 24px;
            font-weight: 700;
            margin: 0;
          }

          .search-icon-header {
            width: 24px;
            height: 24px;
            color: #71717A;
          }

          /* ==================== FILTERS ==================== */
          .filters-section {
            padding: 16px;
            background: #000;
          }

          .search-bar {
            position: relative;
            margin-bottom: 12px;
          }

          .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 18px;
            height: 18px;
            color: #71717A;
            pointer-events: none;
          }

          .search-input {
            padding-left: 40px;
            background: #0F0F0F;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #fff;
            width: 100%;
          }

          .search-input::placeholder {
            color: #71717A;
          }

          .filter-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-bottom: 12px;
          }
          
          .instructor-search-bar {
            margin-bottom: 12px;
          }
          
          .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
          }

          .filter-select {
            background: #0F0F0F;
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #fff;
          }

          .result-count {
            font-size: 14px;
            color: #71717A;
            text-align: center;
          }

          /* ==================== VIDEO GRID ==================== */
          .video-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding: 16px;
          }

          @media (min-width: 768px) {
            .video-grid {
              grid-template-columns: repeat(4, 1fr);
              gap: 16px;
            }
          }

          .video-card {
            background: #0F0F0F;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 150ms ease;
          }

          .video-card:hover {
            transform: scale(1.02);
          }

          .video-thumbnail {
            position: relative;
            width: 100%;
            aspect-ratio: 16/9;
            background: #1A1A1A;
          }

          .video-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
          }

          .save-button {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(10px);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 150ms ease;
          }

          .save-button:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: scale(1.1);
          }

          .heart-icon {
            width: 18px;
            height: 18px;
            color: #fff;
          }

          .quality-badge {
            position: absolute;
            bottom: 8px;
            right: 8px;
            padding: 4px 8px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
            color: #FFD700;
          }

          .video-info {
            padding: 12px;
          }

          .video-title {
            font-size: 14px;
            font-weight: 600;
            color: #fff;
            margin: 0 0 4px 0;
            line-height: 1.3;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
          }

          .video-instructor {
            font-size: 12px;
            color: #71717A;
            margin: 0 0 8px 0;
          }

          /* ==================== VIDEO METADATA BADGES ==================== */
          .video-metadata {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 8px;
          }

          .metadata-badge {
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            text-transform: capitalize;
            white-space: nowrap;
          }

          /* Belt level badges with authentic BJJ colors */
          .belt-white {
            background: rgba(255, 255, 255, 0.15);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.3);
          }

          .belt-blue {
            background: rgba(59, 130, 246, 0.2);
            color: #60A5FA;
            border: 1px solid rgba(59, 130, 246, 0.4);
          }

          .belt-purple {
            background: rgba(168, 85, 247, 0.2);
            color: #C084FC;
            border: 1px solid rgba(168, 85, 247, 0.4);
          }

          .belt-brown {
            background: rgba(180, 83, 9, 0.2);
            color: #FDBA74;
            border: 1px solid rgba(180, 83, 9, 0.4);
          }

          .belt-black {
            background: rgba(255, 255, 255, 0.1);
            color: #FFD700;
            border: 1px solid rgba(255, 215, 0, 0.4);
          }

          /* Gi/No-Gi badge */
          .gi-badge {
            background: rgba(139, 92, 246, 0.15);
            color: #A78BFA;
            border: 1px solid rgba(139, 92, 246, 0.3);
          }

          /* Technique type badge */
          .type-badge {
            background: rgba(34, 197, 94, 0.15);
            color: #4ADE80;
            border: 1px solid rgba(34, 197, 94, 0.3);
          }

          /* Duration badge */
          .duration-badge {
            background: rgba(251, 146, 60, 0.15);
            color: #FB923C;
            border: 1px solid rgba(251, 146, 60, 0.3);
          }

          /* ==================== STATES ==================== */
          .loading-state,
          .empty-state {
            grid-column: 1 / -1;
            text-align: center;
            padding: 48px 16px;
            color: #71717A;
          }

          .empty-hint {
            margin-top: 8px;
            font-size: 14px;
          }

          /* ==================== PLAY OVERLAY ==================== */
          .play-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.3);
            opacity: 0;
            transition: opacity 150ms ease;
          }

          .video-card:hover .play-overlay {
            opacity: 1;
          }

          .play-button-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: #fff;
            padding-left: 4px;
          }
        `})]}),u&&n.jsx(Lh,{videoId:u.videoId,title:u.title,instructor:u.instructor,onClose:()=>f(null)})]})}function rx(e){if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())&&S3(t)}function s1e(e){if(!rx(e))return"Just now";const t=new Date(e),a=jS(new Date,t);return a===0?gn(t,"h:mm a"):a<7?gn(t,"EEE, h:mm a"):gn(t,"MMM d, h:mm a")}function o1e(e){if(!rx(e))return"Recent";const t=new Date(e);return yje(t)?"Today":jje(t)?"Yesterday":gn(t,"MMMM d, yyyy")}function l1e(e,t){if(!t)return!0;if(!rx(e)||!rx(t))return!1;const r=new Date(e),a=new Date(t);return jS(r,a)!==0}function c1e(e){try{const t=[],r=/\[VIDEO:\s*([^\]]+)\]/g;let a=0,i;for(;(i=r.exec(e))!==null;)try{i.index>a&&t.push({text:e.slice(a,i.index)});const s=i[1].split("|").map(o=>o.trim());if(s.length>=5){const o={title:s[0],instructor:s[1],duration:s[2],videoId:s[3],id:parseInt(s[4],10),startTime:s[5]||void 0};o.title&&o.instructor&&o.videoId&&!isNaN(o.id)?t.push({text:"",video:o}):(console.warn(" Video token data incomplete, skipping"),t.push({text:i[0]}))}else console.warn(` Video token has insufficient data parts: ${s.length}, expected >= 5`),t.push({text:i[0]});a=i.index+i[0].length}catch(s){console.error(" Error parsing individual video token:",s),t.push({text:i[0]}),a=i.index+i[0].length}return a<e.length&&t.push({text:e.slice(a)}),t.length>0?t:[{text:e}]}catch(t){return console.error(" CRITICAL: Video parsing failed completely, returning plain text:",t),[{text:e}]}}function d1e({message:e,sender:t,timestamp:r}){const[a,i]=x.useState(new Set),[s,o]=x.useState(null),{toast:l}=tt(),c=localStorage.getItem("mobileUserId")||"1",d=async f=>{const h=a.has(f);try{h?(await ut("DELETE",`/api/ai/saved-videos/${f}`,{userId:parseInt(c)}),i(p=>{const b=new Set(p);return b.delete(f),b}),l({title:"Video removed",description:"Video removed from saved videos"})):(await ut("POST","/api/ai/saved-videos",{userId:parseInt(c),videoId:String(f)}),i(p=>new Set(p).add(f)),l({title:"Video saved",description:"Video added to your saved videos"}))}catch(p){console.error("Save video error:",p),l({variant:"destructive",title:"Error",description:"Failed to save video. Please try again."})}},u=c1e(e||"");return n.jsxs("div",{className:`mobile-message-bubble ${t}`,"data-testid":`message-${t}`,children:[u.map((f,h)=>n.jsxs("div",{children:[f.text&&n.jsx("p",{style:{marginBottom:"0.5rem",whiteSpace:"pre-line"},children:f.text}),f.video&&n.jsx("div",{style:{marginTop:"0.75rem",marginBottom:"0.75rem"},children:n.jsxs("div",{style:{backgroundColor:"var(--mobile-surface)",borderRadius:"0.75rem",overflow:"hidden",border:"1px solid var(--mobile-border)"},children:[n.jsx("div",{style:{position:"relative"},children:n.jsxs("button",{onClick:()=>o({videoId:f.video.videoId,title:f.video.title,instructor:f.video.instructor,startTime:f.video.startTime}),style:{width:"100%",border:"none",cursor:"pointer",padding:0,background:"#000",overflow:"hidden",position:"relative"},"data-testid":`button-play-video-${f.video.id}`,title:"Play video",children:[n.jsx(ES,{videoId:f.video.videoId,title:f.video.title}),n.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"3.5rem",height:"3.5rem",background:"rgba(102, 126, 234, 0.95)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.4)",zIndex:10},children:n.jsx("svg",{width:"24",height:"24",viewBox:"0 0 16 16",fill:"white",children:n.jsx("path",{d:"M6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"})})})]})}),n.jsxs("div",{style:{padding:"0.75rem",display:"flex",gap:"0.75rem",alignItems:"center"},children:[n.jsxs("div",{onClick:()=>o({videoId:f.video.videoId,title:f.video.title,instructor:f.video.instructor,startTime:f.video.startTime}),style:{flex:1,minWidth:0,cursor:"pointer"},children:[n.jsx("p",{style:{fontWeight:"600",fontSize:"0.875rem",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:f.video.title}),n.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--mobile-text-secondary)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[f.video.instructor,"  ",f.video.duration,f.video.startTime&&n.jsxs("span",{style:{marginLeft:"0.5rem",color:"#667eea",fontWeight:"600"},children:[" ",f.video.startTime]})]})]}),n.jsx("button",{onClick:()=>d(f.video.id),style:{background:"transparent",border:"none",padding:"0.5rem",cursor:"pointer",color:a.has(f.video.id)?"#667eea":"var(--mobile-text-secondary)",display:"flex",alignItems:"center",justifyContent:"center"},"data-testid":`button-save-video-${f.video.id}`,title:a.has(f.video.id)?"Remove from saved":"Save video",children:a.has(f.video.id)?n.jsx(C1,{size:20}):n.jsx(Ea,{size:20})})]})]})})]},h)),n.jsx("span",{style:{fontSize:"0.75rem",opacity:.85,display:"block",marginTop:"0.5rem"},children:s1e(r)}),s&&n.jsx(Lh,{videoId:s.videoId,title:s.title,instructor:s.instructor,startTime:s.startTime,onClose:()=>o(null)})]})}function u1e(){return n.jsxs("div",{className:"mobile-typing-indicator","data-testid":"typing-indicator",children:[n.jsx("div",{className:"mobile-typing-dot"}),n.jsx("div",{className:"mobile-typing-dot"}),n.jsx("div",{className:"mobile-typing-dot"})]})}function f1e({onRecordingComplete:e}){const[t,r]=x.useState(!1),[a,i]=x.useState(""),[s,o]=x.useState([0,0,0,0,0,0,0,0]),l=x.useRef(null),c=x.useRef("");x.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const f=window.webkitSpeechRecognition||window.SpeechRecognition;l.current=new f,l.current.continuous=!1,l.current.interimResults=!0,l.current.lang="en-US",l.current.onresult=h=>{const b=h.results[h.results.length-1][0].transcript;c.current=b,i(b)},l.current.onend=()=>{r(!1);const h=c.current;h.trim()&&(e==null||e(h)),c.current="",i("")},l.current.onerror=h=>{console.error("Speech recognition error:",h.error),r(!1),c.current="",i("")}}return()=>{l.current&&l.current.abort()}},[]),x.useEffect(()=>{if(t){const f=setInterval(()=>{o(h=>h.map(()=>Math.random()*100))},100);return()=>{clearInterval(f)}}else o([0,0,0,0,0,0,0,0])},[t]);const d=async()=>{if(l.current)try{i(""),l.current.start(),r(!0)}catch(f){console.error("Error starting speech recognition:",f)}else console.error("Speech recognition not supported"),alert("Speech recognition is not supported in this browser. Please use Chrome or Safari.")},u=()=>{l.current&&t&&l.current.stop()};return t?n.jsxs("div",{className:"mobile-voice-recorder","data-testid":"voice-recorder",children:[n.jsx("button",{onClick:u,className:"mobile-btn-icon","data-testid":"button-stop-recording",children:n.jsx(Yz,{color:"var(--mobile-error-red)"})}),n.jsx("div",{className:"mobile-voice-wave",children:s.map((f,h)=>n.jsx("div",{className:"mobile-voice-bar",style:{height:`${Math.max(20,f)}%`}},h))}),n.jsx("span",{style:{fontSize:"0.875rem",color:"var(--mobile-text-secondary)",flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:a||"Listening..."}),n.jsx("button",{onClick:u,className:"mobile-btn-primary",style:{padding:"0.5rem 1rem",fontSize:"0.875rem"},"data-testid":"button-send-recording",children:n.jsx(Tc,{size:16})})]}):n.jsx("button",{onClick:d,className:"mobile-btn-icon","data-testid":"button-start-recording",children:n.jsx(sI,{})})}const OS="/api";async function h1e(e,t=50){try{const r=await fetch(`${OS}/ai/chat/history/${e}?limit=${t}`);if(!r.ok)throw new Error("Failed to get history");return await r.json()}catch(r){return console.error("History API error:",r),{messages:[]}}}async function m1e(e){try{const t=await fetch(`${OS}/ai/saved-videos/${e}`);if(!t.ok)throw new Error("Failed to get saved videos");return await t.json()}catch(t){return console.error("Saved videos API error:",t),{videos:[]}}}async function p1e(e,t){try{const r=await fetch(`${OS}/ai/saved-videos/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e})});if(!r.ok)throw new Error("Failed to unsave video");return await r.json()}catch(r){throw console.error("Unsave video API error:",r),r}}function fF(){var N;const[e,t]=x.useState([]),[r,a]=x.useState(""),[i,s]=x.useState(!1),[o,l]=x.useState(!0),[c,d]=x.useState(null),u=x.useRef(null),f=x.useRef(null),{data:h,isLoading:p}=ue({queryKey:["/api/auth/me"]}),b=((N=h==null?void 0:h.id)==null?void 0:N.toString())||localStorage.getItem("mobileUserId")||"1",g=()=>{var w;(w=u.current)==null||w.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{g()},[e,i]),x.useEffect(()=>{var k;const w=(k=h==null?void 0:h.id)==null?void 0:k.toString(),S=localStorage.getItem("mobileUserId");if(console.log("[CHAT-HISTORY] Effect triggered:",{targetUserId:w,fallbackId:S,isLoadingUser:p,loadedUserId:c,hasCurrentUser:!!h}),w&&w!==c){console.log("[CHAT-HISTORY] Loading history for authenticated user:",w),y(w),d(w);return}if(!p&&!h&&c===null){S&&S!=="1"?(console.log("[CHAT-HISTORY] Loading history for localStorage user:",S),y(S),d(S)):(console.log("[CHAT-HISTORY] No user found, showing welcome message"),t([{id:"0",sender:"assistant",message:`Welcome to Professor OS!

I'm your personal BJJ coach, available 24/7 to help you level up your game.

What would you like to work on today?`,timestamp:new Date,videos:[]}]),l(!1),d("none"));return}p&&c===null&&S&&S!=="1"&&(console.log("[CHAT-HISTORY] Auth still loading, using localStorage fallback:",S),y(S),d(S))},[h,p,c]);const y=async w=>{var S;console.log("[HISTORY] Starting load for user:",w);try{const k=await h1e(w);console.log("[HISTORY] API response:",JSON.stringify(k).substring(0,200)),console.log("[HISTORY] Messages count:",((S=k.messages)==null?void 0:S.length)||0),k.messages&&k.messages.length>0?(console.log("[HISTORY] Loading",k.messages.length,"messages into state"),t(k.messages.map((C,A)=>({id:String(A),sender:C.sender==="user"?"user":"assistant",message:C.message,timestamp:new Date(C.timestamp),videos:C.videos||[]})))):(console.log("[HISTORY] No messages found, showing welcome"),t([{id:"0",sender:"assistant",message:`Welcome to Professor OS!

I'm your personal BJJ coach, available 24/7 to help you level up your game.

I can help with:
- Technique breakdowns and analysis
- Position-specific coaching
- Training plan recommendations
- Video suggestions from elite instructors
- Game strategy and problem-solving

Just trained? Tell me what you worked on and I'll give you feedback.

Struggling with something? Describe the position and I'll guide you through it.

Want to improve? Ask me anything about BJJ - from fundamentals to advanced concepts.

What would you like to work on today?`,timestamp:new Date,videos:[]}]))}catch(k){console.error("Failed to load history:",k),t([{id:"0",sender:"assistant",message:`Welcome to Professor OS!

I'm your personal BJJ coach, available 24/7 to help you level up your game.

I can help with:
- Technique breakdowns and analysis
- Position-specific coaching
- Training plan recommendations
- Video suggestions from elite instructors
- Game strategy and problem-solving

Just trained? Tell me what you worked on and I'll give you feedback.

Struggling with something? Describe the position and I'll guide you through it.

Want to improve? Ask me anything about BJJ - from fundamentals to advanced concepts.

What would you like to work on today?`,timestamp:new Date,videos:[]}])}finally{l(!1)}},v=async(w=r)=>{var O,I,P,R,$,E;const S=String(w||"").trim();if(!S||i)return;Be("light");const k={id:Date.now().toString(),sender:"user",message:S,timestamp:new Date,videos:[]};t(_=>[..._,k]),a(""),s(!0);const C=(Date.now()+1).toString(),A={id:C,sender:"assistant",message:"",timestamp:new Date,videos:[]};t(_=>[..._,A]);try{console.log("[MOBILE-CHAT] Sending message to server...",{userId:b,messageLength:S.length}),console.log("[MOBILE-CHAT] Request URL: /api/ai/chat/message/stream");const _=await fetch("/api/ai/chat/message/stream",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:S,userId:b})});if(console.log("[MOBILE-CHAT] Response status:",_.status,_.statusText),!_.ok)throw console.error("[MOBILE-CHAT] Response not OK:",_.status,_.statusText),new Error(`Failed to send message: ${_.status} ${_.statusText}`);const M=(O=_.body)==null?void 0:O.getReader(),T=new TextDecoder;let D="",B="",ee=!1;if(M)for(;;){const{done:re,value:oe}=await M.read();if(re)break;B+=T.decode(oe,{stream:!0});const ve=B.split(`
`);B=ve.pop()||"";for(const ce of ve)if(ce.startsWith("data: ")){const Oe=ce.slice(6);if(Oe==="[DONE]"){ee=!0,s(!1),Be("light");break}try{const me=JSON.parse(Oe);if(me.error){console.error("[SSE] Server error:",me.error),D="I had trouble with that message. This can happen when certain words trigger safety filters, even in normal BJJ context. Could you try rephrasing? For example, instead of 'I got destroyed,' you could say 'I struggled against mount.'",t(Ce=>Ce.map(te=>te.id===C?{...te,message:D}:te)),s(!1),ee=!0;break}if(me.chunk||me.content){const Ce=me.chunk||me.content;D+=Ce,t(te=>te.map(W=>W.id===C?{...W,message:D}:W))}}catch{}}if(ee)break}s(!1)}catch(_){console.error("[MOBILE-CHAT] Failed to send message:",_),console.error("[MOBILE-CHAT] Error details:",{message:_==null?void 0:_.message,name:_==null?void 0:_.name,stack:(I=_==null?void 0:_.stack)==null?void 0:I.substring(0,500)}),s(!1),t(D=>D.filter(B=>B.id!==C));let M="Sorry, I'm having trouble right now. Please try again!";(P=_==null?void 0:_.message)!=null&&P.includes("Failed to fetch")||(R=_==null?void 0:_.message)!=null&&R.includes("NetworkError")?M="Network error - please check your internet connection and try again.":(($=_==null?void 0:_.message)!=null&&$.includes("401")||(E=_==null?void 0:_.message)!=null&&E.includes("403"))&&(M="Session expired - please log in again.");const T={id:(Date.now()+2).toString(),sender:"assistant",message:M,timestamp:new Date,videos:[]};t(D=>[...D,T])}},m=w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),v())},j=w=>{w&&v(w)};return o?n.jsx("div",{className:"mobile-chat-container",children:n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:n.jsx("div",{style:{fontSize:"2rem",animation:"spin 1s linear infinite"},children:""})})}):n.jsxs("div",{className:"mobile-chat-container",children:[n.jsx("div",{className:"mobile-chat-header mobile-safe-area-top",children:n.jsxs("div",{children:[n.jsx("h2",{style:{fontSize:"1.25rem",marginBottom:"0.25rem"},children:"Prof. OS"}),n.jsx("p",{style:{fontSize:"0.875rem",color:"var(--mobile-text-secondary)"},children:"Your Training Partner"})]})}),n.jsxs("div",{className:"mobile-chat-messages",children:[e.map((w,S)=>{const k=S>0?e[S-1]:void 0,C=l1e(w.timestamp,k==null?void 0:k.timestamp);return n.jsxs("div",{children:[C&&n.jsx("div",{style:{textAlign:"center",margin:"1.5rem 0 1rem 0",fontSize:"0.75rem",color:"var(--mobile-text-secondary)",fontWeight:"600"},children:o1e(w.timestamp)}),n.jsx(d1e,{message:w.message,sender:w.sender,timestamp:w.timestamp,videos:w.videos})]},w.id)}),i&&n.jsx(u1e,{}),n.jsx("div",{ref:u})]}),n.jsxs("div",{className:"mobile-chat-input-container mobile-safe-area-bottom",children:[n.jsx(f1e,{onRecordingComplete:j}),n.jsx("textarea",{ref:f,value:r,onChange:w=>a(w.target.value),onKeyPress:m,placeholder:"Ask about techniques...",className:"mobile-chat-input",rows:1,"data-testid":"input-chat-message"}),n.jsx("button",{onClick:()=>v(),className:"mobile-btn-icon",disabled:!r.trim(),"data-testid":"button-send-message",children:n.jsx(Tc,{})})]})]})}function el(){const[e]=at(),t=[{path:"/chat",icon:Op,label:"Chat"},{path:"/library",icon:Vo,label:"Videos"},{path:"/saved-videos",icon:Ea,label:"Saved"},{path:"/settings",icon:il,label:"Settings"}],r=()=>{Be("light")};return n.jsx("nav",{className:"mobile-bottom-nav mobile-safe-area-bottom",children:t.map(a=>{const i=a.icon,s=e===a.path;return n.jsxs(dr,{href:a.path,className:`mobile-bottom-nav-item ${s?"active":""}`,"data-testid":`nav-${a.label.toLowerCase()}`,onClick:r,children:[n.jsx(i,{className:"w-6 h-6"}),n.jsx("span",{children:a.label})]},a.path)})})}function PT(){return n.jsx("div",{className:"mobile-app",children:n.jsxs("div",{className:"mobile-container",children:[n.jsx(fF,{}),n.jsx(el,{})]})})}function g1e({videoId:e,title:t,thumbnail:r,instructor:a,duration:i,onSave:s,onPlay:o}){const[l,c]=x.useState(!1),d=u=>{u.stopPropagation(),c(!l),s==null||s()};return n.jsxs("div",{className:"mobile-video-card",onClick:o,"data-testid":`video-card-${e}`,children:[n.jsxs("div",{style:{position:"relative"},children:[n.jsx("img",{src:r,alt:t,className:"mobile-video-thumbnail"}),n.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.6)",borderRadius:"50%",padding:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Qn,{fill:"white",color:"white",size:24})}),i&&n.jsx("div",{style:{position:"absolute",bottom:"0.5rem",right:"0.5rem",background:"rgba(0, 0, 0, 0.8)",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem"},children:i})]}),n.jsxs("div",{className:"mobile-video-info",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[n.jsx("h3",{className:"mobile-video-title",children:t}),n.jsx("button",{onClick:d,className:"mobile-btn-icon",style:{flexShrink:0},"data-testid":`save-video-${e}`,children:n.jsx(Ea,{fill:l?"var(--mobile-primary-purple)":"none"})})]}),n.jsx("p",{className:"mobile-video-meta",children:a})]})]})}const x1e=["All","Submissions","Passes","Sweeps","Escapes","Takedowns","Guard Retention","Position Control","Other"];function v1e(){const[e,t]=x.useState(""),[r,a]=x.useState("All"),[i,s]=x.useState("All"),[o,l]=x.useState([]),[c,d]=x.useState(!0),[u,f]=x.useState(null),h=localStorage.getItem("mobileUserId")||"1";x.useEffect(()=>{p()},[]);const p=async()=>{try{const j=(await m1e(h)).videos.map(N=>({id:N.id,title:N.title,thumbnail:N.thumbnailUrl||(N.videoUrl?`https://img.youtube.com/vi/${b(N.videoUrl)}/mqdefault.jpg`:""),instructor:N.instructor||N.instructorName||"Unknown",duration:N.duration||"",category:N.category||"other",savedDate:N.savedDate,note:N.note,videoUrl:N.videoUrl}));l(j)}catch(m){console.error("Failed to load saved videos:",m),l([])}finally{d(!1)}},b=m=>{if(!m)return"";const j=m.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&]+)/);return j?j[1]:""},g=async m=>{try{await p1e(h,m),l(j=>j.filter(N=>N.id!==m))}catch(j){console.error("Failed to unsave video:",j),alert("Failed to remove video")}},y=["All",...new Set(o.map(m=>m.instructor).filter(Boolean))],v=o.filter(m=>{var S,k,C;const j=m.title.toLowerCase().includes(e.toLowerCase())||((S=m.instructor)==null?void 0:S.toLowerCase().includes(e.toLowerCase())),N=r==="All"||((k=m.category)==null?void 0:k.toLowerCase())===r.toLowerCase(),w=i==="All"||((C=m.instructor)==null?void 0:C.toLowerCase())===i.toLowerCase();return j&&N&&w});return c?n.jsxs("div",{className:"mobile-app",children:[n.jsx("div",{className:"mobile-container",children:n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh"},children:n.jsx("div",{style:{fontSize:"2rem",animation:"spin 1s linear infinite"},children:""})})}),n.jsx(el,{})]}):n.jsx("div",{className:"mobile-app",children:n.jsxs("div",{className:"mobile-container",children:[n.jsxs("div",{style:{flex:1,overflowY:"auto",paddingBottom:"80px"},children:[n.jsx("div",{className:"mobile-chat-header mobile-safe-area-top",style:{position:"sticky",top:0,zIndex:10},children:n.jsxs("div",{children:[n.jsx("h2",{style:{fontSize:"1.25rem",marginBottom:"0.25rem"},children:"Saved Videos"}),n.jsxs("p",{style:{fontSize:"0.875rem",color:"var(--mobile-text-secondary)"},children:[o.length," videos saved"]})]})}),n.jsx("div",{style:{padding:"1rem"},children:n.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",background:"var(--mobile-medium-gray)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",padding:"0.75rem 1rem",gap:"0.75rem"},children:[n.jsx(xn,{size:18,color:"var(--mobile-text-secondary)"}),n.jsx("input",{type:"text",placeholder:"Search saved videos...",value:e,onChange:m=>t(m.target.value),"data-testid":"input-search-videos",style:{flex:1,background:"transparent",border:"none",color:"var(--mobile-text-primary)",fontSize:"1rem",outline:"none"}}),e&&n.jsx("button",{onClick:()=>t(""),"data-testid":"button-clear-search",style:{background:"transparent",border:"none",color:"var(--mobile-text-secondary)",padding:"0.25rem",cursor:"pointer"},children:n.jsx(ni,{size:18})})]})}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem",padding:"0 1rem 1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"var(--mobile-text-secondary)",marginBottom:"0.5rem",fontWeight:"600"},children:"Category"}),n.jsx("select",{value:r,onChange:m=>a(m.target.value),"data-testid":"select-category-filter",style:{width:"100%",padding:"0.75rem",background:"var(--mobile-medium-gray)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",color:"var(--mobile-text-primary)",fontSize:"0.875rem",outline:"none"},children:x1e.map(m=>n.jsx("option",{value:m,children:m},m))})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",color:"var(--mobile-text-secondary)",marginBottom:"0.5rem",fontWeight:"600"},children:"Instructor"}),n.jsx("select",{value:i,onChange:m=>s(m.target.value),"data-testid":"select-instructor-filter",style:{width:"100%",padding:"0.75rem",background:"var(--mobile-medium-gray)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",color:"var(--mobile-text-primary)",fontSize:"0.875rem",outline:"none"},children:y.map(m=>n.jsx("option",{value:m,children:m},m))})]})]}),n.jsxs("div",{style:{padding:"0 1rem 0.75rem",fontSize:"0.75rem",color:"var(--mobile-text-secondary)"},children:["Showing ",v.length," of ",o.length," videos"]}),v.length===0?n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"4rem 2rem",textAlign:"center",gap:"1rem"},children:[n.jsx(Ea,{size:48,color:"var(--mobile-text-tertiary)"}),n.jsx("h3",{style:{color:"var(--mobile-text-secondary)"},children:e||r!=="All"||i!=="All"?"No videos found":"No saved videos yet"}),n.jsx("p",{style:{color:"var(--mobile-text-tertiary)",fontSize:"0.875rem"},children:e||r!=="All"||i!=="All"?"Try adjusting your search or filters":"Save videos from Prof. OS to watch later"})]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",padding:"0 1rem 1rem"},children:v.map(m=>n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[n.jsx(g1e,{videoId:m.id,title:m.title,thumbnail:m.thumbnail,instructor:m.instructor,duration:m.duration,onPlay:()=>{const j=b(m.videoUrl);j?f({videoId:j,title:m.title,instructor:m.instructor}):console.error("No valid YouTube URL for video:",m.id)},onSave:()=>g(m.id)}),m.note&&n.jsxs("div",{style:{fontSize:"0.875rem",color:"var(--mobile-text-secondary)",fontStyle:"italic",padding:"0.5rem 0.75rem",background:"var(--mobile-dark-gray)",borderLeft:"3px solid var(--mobile-primary-purple)",borderRadius:"var(--mobile-radius-sm)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx(Ec,{size:14,color:"var(--mobile-primary-purple)"}),n.jsxs("span",{children:['"',m.note,'"']})]}),n.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--mobile-text-tertiary)",paddingLeft:"0.75rem"},children:["Saved ",m.savedDate]})]},m.id))})]}),n.jsx(el,{}),u&&n.jsx(Lh,{videoId:u.videoId,title:u.title,instructor:u.instructor,onClose:()=>f(null)})]})})}function ET(){at();const[e,t]=x.useState(""),{data:r}=ue({queryKey:["/api/auth/me"]}),{data:a,isLoading:i}=ue({queryKey:["/api/auth/profile"],enabled:!!r}),[s,o]=x.useState({username:"",displayName:"",name:"",beltLevel:"white",style:"both",age:"",weight:"",gym:"",timezone:"America/New_York",weeklyRecapEnabled:!0});x.useEffect(()=>{a&&o({username:a.username||"",displayName:a.displayName||"",name:a.name||"",beltLevel:a.beltLevel||"white",style:a.style||"both",age:a.age||"",weight:a.weight||"",gym:a.gym||"",timezone:a.timezone||"America/New_York",weeklyRecapEnabled:a.weeklyRecapEnabled??!0})},[a]);const l=qe({mutationFn:async d=>await ut("PATCH","/api/auth/profile",d),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/auth/profile"]}),Pe.invalidateQueries({queryKey:["/api/auth/me"]}),t("saved"),setTimeout(()=>t(""),2e3)},onError:d=>{t("error"),console.error("Update error:",d),setTimeout(()=>t(""),3e3)}}),c=()=>{l.mutate(s)};return i?n.jsx("div",{className:"mobile-app",children:n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"var(--mobile-dark-bg)"},children:n.jsx(ze,{className:"w-8 h-8 animate-spin",color:"var(--mobile-text-primary)"})})}):n.jsx("div",{className:"mobile-app",children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",background:"var(--mobile-dark-bg)",color:"var(--mobile-text-primary)",paddingBottom:"var(--mobile-bottom-nav-height)",overflow:"hidden"},children:[n.jsx("div",{style:{position:"sticky",top:0,zIndex:10,background:"var(--mobile-dark-bg)",borderBottom:"1px solid var(--mobile-border-gray)",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--mobile-text-primary)"},children:"Settings"}),n.jsx("button",{onClick:c,disabled:l.isPending,"data-testid":"button-save",style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:e==="saved"?"var(--mobile-success)":"var(--mobile-primary)",color:"white",border:"none",borderRadius:"var(--mobile-radius-md)",fontSize:"0.875rem",fontWeight:"var(--mobile-font-medium)",cursor:l.isPending?"not-allowed":"pointer",opacity:l.isPending?.6:1},children:l.isPending?n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):e==="saved"?" Saved":n.jsxs(n.Fragment,{children:[n.jsx(cI,{className:"w-4 h-4"}),"Save"]})})]})}),n.jsx("div",{style:{flex:1,overflowY:"auto",padding:"1rem"},children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[n.jsxs("div",{style:{background:"var(--mobile-medium-gray)",borderRadius:"var(--mobile-radius-lg)",padding:"1rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[n.jsx(il,{size:20,color:"var(--mobile-primary)"}),n.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:"var(--mobile-font-semibold)",color:"var(--mobile-text-primary)"},children:"Profile"})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"var(--mobile-font-medium)",color:"var(--mobile-text-secondary)",marginBottom:"0.5rem"},children:"Username *"}),n.jsx("input",{type:"text",value:s.username,onChange:d=>o({...s,username:d.target.value}),"data-testid":"input-username",style:{width:"100%",padding:"0.75rem",background:"var(--mobile-dark-bg)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",color:"var(--mobile-text-primary)",fontSize:"0.875rem",outline:"none"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"var(--mobile-font-medium)",color:"var(--mobile-text-secondary)",marginBottom:"0.5rem"},children:"Display Name"}),n.jsx("input",{type:"text",value:s.displayName,onChange:d=>o({...s,displayName:d.target.value}),"data-testid":"input-display-name",placeholder:"John Smith",style:{width:"100%",padding:"0.75rem",background:"var(--mobile-dark-bg)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",color:"var(--mobile-text-primary)",fontSize:"0.875rem",outline:"none"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"var(--mobile-font-medium)",color:"var(--mobile-text-secondary)",marginBottom:"0.5rem"},children:"Full Name"}),n.jsx("input",{type:"text",value:s.name,onChange:d=>o({...s,name:d.target.value}),"data-testid":"input-name",style:{width:"100%",padding:"0.75rem",background:"var(--mobile-dark-bg)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",color:"var(--mobile-text-primary)",fontSize:"0.875rem",outline:"none"}})]})]})]}),n.jsxs("div",{style:{background:"var(--mobile-medium-gray)",borderRadius:"var(--mobile-radius-lg)",padding:"1rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[n.jsx(Px,{size:20,color:"var(--mobile-primary)"}),n.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:"var(--mobile-font-semibold)",color:"var(--mobile-text-primary)"},children:"Training"})]}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"var(--mobile-font-medium)",color:"var(--mobile-text-secondary)",marginBottom:"0.5rem"},children:"Belt Level *"}),n.jsx("select",{value:s.beltLevel,onChange:d=>o({...s,beltLevel:d.target.value}),"data-testid":"select-belt-level",style:{width:"100%",padding:"0.75rem",background:"var(--mobile-dark-bg)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",color:"var(--mobile-text-primary)",fontSize:"0.875rem",outline:"none"},children:["white","blue","purple","brown","black"].map(d=>n.jsxs("option",{value:d,children:[d.charAt(0).toUpperCase()+d.slice(1)," Belt"]},d))})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"var(--mobile-font-medium)",color:"var(--mobile-text-secondary)",marginBottom:"0.5rem"},children:"Training Style *"}),n.jsxs("select",{value:s.style,onChange:d=>o({...s,style:d.target.value}),"data-testid":"select-style",style:{width:"100%",padding:"0.75rem",background:"var(--mobile-dark-bg)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",color:"var(--mobile-text-primary)",fontSize:"0.875rem",outline:"none"},children:[n.jsx("option",{value:"gi",children:"Gi Only"}),n.jsx("option",{value:"nogi",children:"No-Gi Only"}),n.jsx("option",{value:"both",children:"Both Gi & No-Gi"})]})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"var(--mobile-font-medium)",color:"var(--mobile-text-secondary)",marginBottom:"0.5rem"},children:"Age"}),n.jsx("input",{type:"text",value:s.age,onChange:d=>o({...s,age:d.target.value}),"data-testid":"input-age",placeholder:"25",style:{width:"100%",padding:"0.75rem",background:"var(--mobile-dark-bg)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",color:"var(--mobile-text-primary)",fontSize:"0.875rem",outline:"none"}})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"var(--mobile-font-medium)",color:"var(--mobile-text-secondary)",marginBottom:"0.5rem"},children:"Weight (lbs)"}),n.jsx("input",{type:"text",value:s.weight,onChange:d=>o({...s,weight:d.target.value}),"data-testid":"input-weight",placeholder:"170",style:{width:"100%",padding:"0.75rem",background:"var(--mobile-dark-bg)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",color:"var(--mobile-text-primary)",fontSize:"0.875rem",outline:"none"}})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"var(--mobile-font-medium)",color:"var(--mobile-text-secondary)",marginBottom:"0.5rem"},children:"Gym/Academy"}),n.jsx("input",{type:"text",value:s.gym,onChange:d=>o({...s,gym:d.target.value}),"data-testid":"input-gym",placeholder:"Gracie Barra",style:{width:"100%",padding:"0.75rem",background:"var(--mobile-dark-bg)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",color:"var(--mobile-text-primary)",fontSize:"0.875rem",outline:"none"}})]})]})]}),n.jsxs("div",{style:{background:"var(--mobile-medium-gray)",borderRadius:"var(--mobile-radius-lg)",padding:"1rem"},children:[n.jsx("h2",{style:{fontSize:"1.125rem",fontWeight:"var(--mobile-font-semibold)",color:"var(--mobile-text-primary)",marginBottom:"1rem"},children:"Preferences"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",fontSize:"0.75rem",fontWeight:"var(--mobile-font-medium)",color:"var(--mobile-text-secondary)",marginBottom:"0.5rem"},children:"Timezone"}),n.jsxs("select",{value:s.timezone,onChange:d=>o({...s,timezone:d.target.value}),"data-testid":"select-timezone",style:{width:"100%",padding:"0.75rem",background:"var(--mobile-dark-bg)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",color:"var(--mobile-text-primary)",fontSize:"0.875rem",outline:"none"},children:[n.jsx("option",{value:"America/New_York",children:"Eastern (ET)"}),n.jsx("option",{value:"America/Chicago",children:"Central (CT)"}),n.jsx("option",{value:"America/Denver",children:"Mountain (MT)"}),n.jsx("option",{value:"America/Los_Angeles",children:"Pacific (PT)"})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"var(--mobile-font-medium)",color:"var(--mobile-text-primary)"},children:"Weekly Recap Emails"}),n.jsx("div",{style:{fontSize:"0.75rem",color:"var(--mobile-text-tertiary)",marginTop:"0.25rem"},children:"Receive weekly progress summaries"})]}),n.jsx("input",{type:"checkbox",checked:s.weeklyRecapEnabled,onChange:d=>o({...s,weeklyRecapEnabled:d.target.checked}),"data-testid":"toggle-weekly-recap",style:{width:"3rem",height:"1.5rem",cursor:"pointer"}})]})]})]})]})}),n.jsx(el,{})]})})}function y1e(){var l;const e=localStorage.getItem("mobileUserId")||"1",{data:t,isLoading:r}=ue({queryKey:["/api/users",e]});if(r)return n.jsx("div",{className:"mobile-app",children:n.jsxs("div",{className:"mobile-container",children:[n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"calc(100vh - 60px)",background:"var(--mobile-bg-primary)"},children:n.jsx("div",{style:{fontSize:"1.5rem",color:"var(--mobile-text-primary)"},children:"Loading..."})}),n.jsx(el,{})]})});const a=t!=null&&t.createdAt?gn(new Date(t.createdAt),"MMMM d, yyyy"):"Unknown",i=(t==null?void 0:t.totalLogins)||0,s=(t==null?void 0:t.currentStreak)||0,o=(t==null?void 0:t.beltLevel)||"blue";return n.jsx("div",{className:"mobile-app",children:n.jsxs("div",{className:"mobile-container",children:[n.jsx("div",{style:{minHeight:"calc(100vh - 60px)",background:"var(--mobile-bg-primary)",overflowY:"auto"},children:n.jsxs("div",{className:"mobile-safe-area-top",style:{padding:"1.5rem"},children:[n.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[n.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"1.5rem",color:"var(--mobile-text-primary)"},children:"Your Progress"}),n.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"1rem"},children:n.jsx(Nd,{rank:o,size:"large"})}),n.jsxs("p",{style:{color:"var(--mobile-text-secondary)",fontSize:"1.125rem"},children:[o.charAt(0).toUpperCase()+o.slice(1)," Belt"]})]}),n.jsxs("div",{style:{display:"grid",gap:"1rem",marginBottom:"1.5rem"},children:[n.jsxs("div",{style:{background:"var(--mobile-surface)",border:"1px solid var(--mobile-border)",borderRadius:"0.75rem",padding:"1rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[n.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--mobile-text-secondary)"},children:"Member Since"}),n.jsx(Cx,{size:16,style:{color:"var(--mobile-text-secondary)"}})]}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--mobile-text-primary)"},children:a}),n.jsx("p",{style:{fontSize:"0.75rem",color:"var(--mobile-text-secondary)",marginTop:"0.25rem"},children:"Your journey began"})]}),n.jsxs("div",{style:{background:"var(--mobile-surface)",border:"1px solid var(--mobile-border)",borderRadius:"0.75rem",padding:"1rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[n.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--mobile-text-secondary)"},children:"Total Logins"}),n.jsx(sr,{size:16,style:{color:"var(--mobile-text-secondary)"}})]}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--mobile-text-primary)"},children:i}),n.jsx("p",{style:{fontSize:"0.75rem",color:"var(--mobile-text-secondary)",marginTop:"0.25rem"},children:"Training sessions"})]}),n.jsxs("div",{style:{background:"var(--mobile-surface)",border:"1px solid var(--mobile-border)",borderRadius:"0.75rem",padding:"1rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.5rem"},children:[n.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--mobile-text-secondary)"},children:"Current Streak"}),n.jsx(A1,{size:16,style:{color:"#f59e0b"}})]}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--mobile-text-primary)"},children:s}),n.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--mobile-text-secondary)",marginTop:"0.25rem"},children:[s===1?"day":"days"," in a row"]})]})]}),n.jsxs("div",{style:{background:"var(--mobile-surface)",border:"1px solid var(--mobile-border)",borderRadius:"0.75rem",padding:"1rem"},children:[n.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"bold",marginBottom:"1rem",color:"var(--mobile-text-primary)"},children:"Training Profile"}),n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{style:{color:"var(--mobile-text-secondary)"},children:"Training Style:"}),n.jsx("span",{style:{fontWeight:"500",textTransform:"capitalize",color:"var(--mobile-text-primary)"},children:(t==null?void 0:t.style)||"Not set"})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{style:{color:"var(--mobile-text-secondary)"},children:"Training Frequency:"}),n.jsxs("span",{style:{fontWeight:"500",color:"var(--mobile-text-primary)"},children:[(t==null?void 0:t.trainingFrequency)||0," days/week"]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{style:{color:"var(--mobile-text-secondary)"},children:"Subscription:"}),n.jsx("span",{style:{fontWeight:"500",textTransform:"capitalize",color:"var(--mobile-text-primary)"},children:((l=t==null?void 0:t.subscriptionType)==null?void 0:l.replace("_"," "))||"Free Trial"})]})]})]})]})}),n.jsx(el,{})]})})}function oo(){const[,e]=at(),[t,r]=x.useState(1),[a,i]=x.useState({beltLevel:"",goals:[],experience:""}),s=[{value:"white",label:"White Belt",color:"#ffffff"},{value:"blue",label:"Blue Belt",color:"#3b82f6"},{value:"purple",label:"Purple Belt",color:"#a855f7"},{value:"brown",label:"Brown Belt",color:"#92400e"},{value:"black",label:"Black Belt",color:"#000000"}],o=[{value:"competition",label:"Competition",icon:"Trophy"},{value:"fitness",label:"Fitness",icon:"Dumbbell"},{value:"self-defense",label:"Self Defense",icon:"Shield"},{value:"fun",label:"Fun & Social",icon:"Users"}],l=async()=>{const d=localStorage.getItem("mobileUserId")||"1";localStorage.setItem("mobileUserId",d),localStorage.setItem("mobileUserData",JSON.stringify(a)),ir()?(await Kn.set({key:"mobileUserId",value:d}),e("/chat")):window.location.href="/app/chat"},c=d=>{i(u=>({...u,goals:u.goals.includes(d)?u.goals.filter(f=>f!==d):[...u.goals,d]}))};return n.jsx("div",{className:"mobile-app",children:n.jsxs("div",{className:"mobile-container",style:{padding:"2rem",display:"flex",flexDirection:"column",justifyContent:"center"},children:[n.jsxs("div",{style:{marginBottom:"2rem"},children:[n.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[1,2,3].map(d=>n.jsx("div",{style:{flex:1,height:"4px",borderRadius:"2px",background:d<=t?"var(--mobile-primary-purple)":"var(--mobile-border-gray)"}},d))}),n.jsxs("p",{style:{fontSize:"0.875rem",color:"var(--mobile-text-secondary)"},children:["Step ",t," of 3"]})]}),t===1&&n.jsxs("div",{className:"mobile-animate-slide-in",children:[n.jsx("h1",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"Welcome to BJJ OS"}),n.jsx("p",{style:{fontSize:"1rem",color:"var(--mobile-text-secondary)",marginBottom:"2rem"},children:"What's your current belt level?"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:s.map(d=>n.jsxs("button",{onClick:()=>{i({...a,beltLevel:d.value}),r(2)},style:{padding:"1.25rem",background:a.beltLevel===d.value?"var(--mobile-primary-gradient)":"var(--mobile-dark-gray)",borderRadius:"var(--mobile-radius-lg)",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"1rem"},"data-testid":`belt-${d.value}`,children:[n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx(k0,{size:24,fill:d.color,color:d.color,style:{flexShrink:0}}),n.jsx("span",{children:d.label})]}),n.jsx(js,{})]},d.value))})]}),t===2&&n.jsxs("div",{className:"mobile-animate-slide-in",children:[n.jsx("h1",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"What are your goals?"}),n.jsx("p",{style:{fontSize:"1rem",color:"var(--mobile-text-secondary)",marginBottom:"2rem"},children:"Select all that apply"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.75rem",marginBottom:"2rem"},children:o.map(d=>{const f={Trophy:Ll,Dumbbell:Px,Shield:_a,Users:ur}[d.icon];return n.jsxs("button",{onClick:()=>c(d.value),style:{padding:"1.25rem",background:a.goals.includes(d.value)?"var(--mobile-primary-gradient)":"var(--mobile-dark-gray)",borderRadius:"var(--mobile-radius-lg)",display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},"data-testid":`goal-${d.value}`,children:[n.jsx(f,{size:32}),n.jsx("span",{children:d.label})]},d.value)})}),n.jsx("button",{onClick:()=>r(3),className:"mobile-btn-primary",disabled:a.goals.length===0,style:{width:"100%"},"data-testid":"button-next-step",children:"Continue"})]}),t===3&&n.jsxs("div",{className:"mobile-animate-slide-in",children:[n.jsx("h1",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"How long have you been training?"}),n.jsx("p",{style:{fontSize:"1rem",color:"var(--mobile-text-secondary)",marginBottom:"2rem"},children:"This helps us personalize your experience"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"2rem"},children:[{value:"beginner",label:"Less than 6 months"},{value:"intermediate",label:"6 months - 2 years"},{value:"advanced",label:"2-5 years"},{value:"expert",label:"5+ years"}].map(d=>n.jsx("button",{onClick:()=>i({...a,experience:d.value}),style:{padding:"1.25rem",background:a.experience===d.value?"var(--mobile-primary-gradient)":"var(--mobile-dark-gray)",borderRadius:"var(--mobile-radius-lg)",textAlign:"left",fontSize:"1rem"},"data-testid":`experience-${d.value}`,children:d.label},d.value))}),n.jsx("button",{onClick:l,className:"mobile-btn-primary",disabled:!a.experience,style:{width:"100%"},"data-testid":"button-complete-onboarding",children:"Get Started"})]})]})})}const b1e="1.0.0";function j1e(e){if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"N/A"}}function w1e(){var v;const[,e]=at(),[t,r]=x.useState(!1),[a,i]=x.useState(!1),{data:s,isLoading:o}=ue({queryKey:["/api/auth/me"]}),{data:l}=ue({queryKey:["/api/auth/profile"],enabled:!!s}),c=async()=>{Be("medium"),i(!0);try{await Lx(),ir()?e("/ios-login"):e("/")}catch(m){console.error("Logout error:",m),i(!1)}},d=m=>{Be("light"),e(m)},u=async m=>{Be("light"),ir()?await Dh.open({url:m}):window.open(m,"_blank")},f=async()=>{Be("light"),window.location.href="mailto:support@bjjos.app?subject=BJJ OS Support Request"},h=()=>{Be("light"),r(!0)},p=m=>({white:"#FFFFFF",blue:"#3B82F6",purple:"#8B5CF6",brown:"#92400E",black:"#1F2937"})[m]||"#FFFFFF",b=m=>m!=null&&m.isLifetime?"Lifetime":m!=null&&m.isPro?"Pro":"Free";if(o)return n.jsx("div",{className:"mobile-app",children:n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:"var(--mobile-dark-bg)"},children:n.jsx(ze,{className:"w-8 h-8 animate-spin",color:"var(--mobile-text-primary)"})})});const g={display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",background:"transparent",border:"none",width:"100%",cursor:"pointer",borderBottom:"1px solid var(--mobile-border-gray)"},y={display:"flex",alignItems:"center",gap:"0.75rem"};return n.jsxs("div",{className:"mobile-app",children:[n.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100vh",background:"var(--mobile-dark-bg)",color:"var(--mobile-text-primary)",paddingBottom:"var(--mobile-bottom-nav-height)",overflow:"hidden"},children:[n.jsx("div",{style:{position:"sticky",top:0,zIndex:10,background:"var(--mobile-dark-bg)",borderBottom:"1px solid var(--mobile-border-gray)",padding:"1rem"},children:n.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--mobile-text-primary)"},children:"Profile"})}),n.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"1rem"},children:[n.jsx("div",{style:{background:"var(--mobile-medium-gray)",borderRadius:"var(--mobile-radius-lg)",padding:"1.25rem",marginBottom:"1.5rem"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[n.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"var(--mobile-primary)",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(il,{size:28,color:"white"})}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontSize:"1.125rem",fontWeight:"600",color:"var(--mobile-text-primary)",marginBottom:"0.25rem"},children:(l==null?void 0:l.displayName)||(l==null?void 0:l.username)||((v=s==null?void 0:s.email)==null?void 0:v.split("@")[0])||"User"}),n.jsx("div",{style:{fontSize:"0.875rem",color:"var(--mobile-text-secondary)",marginBottom:"0.5rem"},children:(s==null?void 0:s.email)||"No email set"}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[n.jsx("span",{style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",background:"var(--mobile-primary)",color:"white",borderRadius:"var(--mobile-radius-sm)"},children:b(s)}),(l==null?void 0:l.beltLevel)&&n.jsxs("span",{style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",background:p(l.beltLevel),color:l.beltLevel==="white"?"#000":"#FFF",borderRadius:"var(--mobile-radius-sm)",border:l.beltLevel==="white"?"1px solid #666":"none"},children:[l.beltLevel.charAt(0).toUpperCase()+l.beltLevel.slice(1)," Belt"]})]})]})]})}),n.jsxs("div",{style:{background:"var(--mobile-medium-gray)",borderRadius:"var(--mobile-radius-lg)",padding:"1.25rem",marginBottom:"1.5rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[n.jsx(a7,{size:20,color:"var(--mobile-primary)"}),n.jsx("span",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--mobile-text-primary)"},children:"Subscription"})]}),n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[n.jsx("span",{style:{color:"var(--mobile-text-secondary)",fontSize:"0.875rem"},children:"Plan"}),n.jsx("span",{style:{color:"var(--mobile-text-primary)",fontSize:"0.875rem",fontWeight:"500"},children:s!=null&&s.isLifetime?"BJJ OS Lifetime":s!=null&&s.isPro?"BJJ OS Pro":"Free"})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[n.jsx("span",{style:{color:"var(--mobile-text-secondary)",fontSize:"0.875rem"},children:"Status"}),n.jsx("span",{style:{color:s!=null&&s.isPro||s!=null&&s.isLifetime?"#22C55E":"var(--mobile-text-tertiary)",fontSize:"0.875rem",fontWeight:"500"},children:s!=null&&s.isLifetime?"Lifetime Access":s!=null&&s.isPro?"Active":"Inactive"})]}),(s==null?void 0:s.isPro)&&!(s!=null&&s.isLifetime)&&(s==null?void 0:s.subscriptionEndDate)&&n.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{style:{color:"var(--mobile-text-secondary)",fontSize:"0.875rem"},children:"Renews"}),n.jsx("span",{style:{color:"var(--mobile-text-primary)",fontSize:"0.875rem"},children:j1e(s==null?void 0:s.subscriptionEndDate)})]})]}),((s==null?void 0:s.isPro)||(s==null?void 0:s.isLifetime))&&n.jsxs("button",{onClick:()=>u("https://bjjos.app/settings/subscription"),style:{width:"100%",padding:"0.75rem",background:"var(--mobile-dark-bg)",border:"1px solid var(--mobile-border-gray)",borderRadius:"var(--mobile-radius-md)",color:"var(--mobile-text-primary)",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},"data-testid":"button-manage-subscription",children:[n.jsx(ph,{size:16}),"Manage Subscription"]}),!(s!=null&&s.isPro)&&!(s!=null&&s.isLifetime)&&n.jsx("div",{style:{textAlign:"center",color:"var(--mobile-text-tertiary)",fontSize:"0.8125rem",lineHeight:"1.5"},children:"Visit bjjos.app to subscribe"})]}),n.jsxs("div",{style:{background:"var(--mobile-medium-gray)",borderRadius:"var(--mobile-radius-lg)",overflow:"hidden",marginBottom:"1.5rem"},children:[n.jsxs("button",{onClick:()=>d("/app/settings"),style:g,"data-testid":"button-settings",children:[n.jsxs("div",{style:y,children:[n.jsx(vd,{size:20,color:"var(--mobile-text-secondary)"}),n.jsx("span",{style:{color:"var(--mobile-text-primary)",fontSize:"0.9375rem"},children:"Settings"})]}),n.jsx(js,{size:20,color:"var(--mobile-text-tertiary)"})]}),n.jsxs("button",{onClick:h,style:g,"data-testid":"button-security",children:[n.jsxs("div",{style:y,children:[n.jsx(_a,{size:20,color:"var(--mobile-text-secondary)"}),n.jsxs("div",{children:[n.jsx("span",{style:{color:"var(--mobile-text-primary)",fontSize:"0.9375rem",display:"block"},children:"Security"}),n.jsx("span",{style:{color:"var(--mobile-text-tertiary)",fontSize:"0.75rem"},children:"Change password on web"})]})]}),n.jsx(js,{size:20,color:"var(--mobile-text-tertiary)"})]}),n.jsxs("button",{onClick:f,style:{...g,borderBottom:"none"},"data-testid":"button-support",children:[n.jsxs("div",{style:y,children:[n.jsx(nI,{size:20,color:"var(--mobile-text-secondary)"}),n.jsxs("div",{children:[n.jsx("span",{style:{color:"var(--mobile-text-primary)",fontSize:"0.9375rem",display:"block"},children:"Help & Support"}),n.jsx("span",{style:{color:"var(--mobile-text-tertiary)",fontSize:"0.75rem"},children:"support@bjjos.app"})]})]}),n.jsx($i,{size:20,color:"var(--mobile-text-tertiary)"})]})]}),n.jsxs("div",{style:{background:"var(--mobile-medium-gray)",borderRadius:"var(--mobile-radius-lg)",overflow:"hidden",marginBottom:"1.5rem"},children:[n.jsxs("button",{onClick:()=>u("https://bjjos.app/terms"),style:g,"data-testid":"button-terms",children:[n.jsxs("div",{style:y,children:[n.jsx(af,{size:20,color:"var(--mobile-text-secondary)"}),n.jsx("span",{style:{color:"var(--mobile-text-primary)",fontSize:"0.9375rem"},children:"Terms of Service"})]}),n.jsx(js,{size:20,color:"var(--mobile-text-tertiary)"})]}),n.jsxs("button",{onClick:()=>u("https://bjjos.app/privacy"),style:{...g,borderBottom:"none"},"data-testid":"button-privacy",children:[n.jsxs("div",{style:y,children:[n.jsx(Wo,{size:20,color:"var(--mobile-text-secondary)"}),n.jsx("span",{style:{color:"var(--mobile-text-primary)",fontSize:"0.9375rem"},children:"Privacy Policy"})]}),n.jsx(js,{size:20,color:"var(--mobile-text-tertiary)"})]})]}),n.jsxs("button",{onClick:c,disabled:a,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",width:"100%",padding:"1rem",background:"transparent",border:"1px solid #EF4444",borderRadius:"var(--mobile-radius-lg)",color:"#EF4444",fontSize:"1rem",fontWeight:"600",cursor:a?"not-allowed":"pointer",opacity:a?.6:1,marginBottom:"1.5rem"},"data-testid":"button-logout",children:[a?n.jsx(ze,{size:20,className:"animate-spin"}):n.jsx(xd,{size:20}),a?"Logging out...":"Log Out"]}),n.jsxs("div",{style:{textAlign:"center",color:"var(--mobile-text-tertiary)",fontSize:"0.75rem",paddingBottom:"2rem"},children:["BJJ OS v",b1e]})]}),n.jsx(el,{})]}),t&&n.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:100,padding:"1rem"},onClick:()=>{Be("light"),r(!1)},children:n.jsxs("div",{style:{background:"var(--mobile-medium-gray)",borderRadius:"var(--mobile-radius-lg)",padding:"1.5rem",maxWidth:"320px",width:"100%"},onClick:m=>m.stopPropagation(),children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[n.jsx(_a,{size:24,color:"var(--mobile-primary)"}),n.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"var(--mobile-text-primary)"},children:"Security Settings"})]}),n.jsx("p",{style:{color:"var(--mobile-text-secondary)",fontSize:"0.9375rem",lineHeight:"1.5",marginBottom:"1.5rem"},children:"To change your password or manage security settings, please visit:"}),n.jsx("div",{style:{background:"var(--mobile-dark-bg)",padding:"0.75rem",borderRadius:"var(--mobile-radius-md)",textAlign:"center",marginBottom:"1.5rem"},children:n.jsx("span",{style:{color:"var(--mobile-primary)",fontSize:"0.9375rem",fontWeight:"500"},children:"bjjos.app/settings"})}),n.jsx("button",{onClick:()=>{Be("light"),r(!1)},style:{width:"100%",padding:"0.75rem",background:"var(--mobile-primary)",border:"none",borderRadius:"var(--mobile-radius-md)",color:"white",fontSize:"0.9375rem",fontWeight:"600",cursor:"pointer"},"data-testid":"button-close-security",children:"Got it"})]})})]})}const N1e={white:"#FFFFFF",blue:"#1E3A8A",purple:"#7C3AED",brown:"#78350F",black:"#000000"};function S1e({color:e,stripes:t=0,selected:r=!1,onClick:a}){const i=N1e[e],s=e==="black"?"#DC2626":"#000000",o=e==="white";return n.jsx("div",{onClick:a,className:"relative w-full h-12 cursor-pointer transition-none",style:{backgroundColor:i,border:r?"2px solid white":o?"1px solid #333":"none"},"data-testid":`belt-${e}`,children:t>0&&n.jsx("div",{className:"absolute flex flex-col justify-center h-full",style:{right:"16px",gap:"8px"},children:[...Array(t)].map((l,c)=>n.jsx("div",{className:"stripe",style:{width:"4px",height:"32px",backgroundColor:s},"data-testid":`stripe-${c}`},c))})})}const k1e=[{color:"white",label:"White Belt"},{color:"blue",label:"Blue Belt"},{color:"purple",label:"Purple Belt"},{color:"brown",label:"Brown Belt"},{color:"black",label:"Black Belt"}];function C1e(){const{toast:e}=tt(),[t,r]=x.useState("blue"),[a,i]=x.useState(0),{data:s}=ue({queryKey:["/api/auth/me"]});x.useEffect(()=>{s!=null&&s.themeBelt&&t!==s.themeBelt&&r(s.themeBelt),(s==null?void 0:s.themeStripes)!==void 0&&a!==s.themeStripes&&i(s.themeStripes)},[s==null?void 0:s.themeBelt,s==null?void 0:s.themeStripes,t,a]);const o=qe({mutationFn:async({belt:d,stripes:u})=>(await ut("PATCH","/api/user/theme",{themeBelt:d,themeStripes:u})).json(),onSuccess:()=>{Pe.invalidateQueries({queryKey:["/api/auth/me"]}),e({title:"Theme updated",description:"Your belt theme has been saved"})},onError:d=>{e({title:"Error",description:d.message||"Failed to update theme",variant:"destructive"})}}),l=d=>{r(d),o.mutate({belt:d,stripes:a})},c=d=>{i(d),o.mutate({belt:t,stripes:d})};return n.jsx("div",{className:"min-h-screen bg-background p-6",children:n.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold mb-2","data-testid":"text-page-title",children:"Theme Settings"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose your current belt and stripe count"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-medium",children:"Select Your Belt"}),k1e.map(d=>n.jsxs("div",{onClick:()=>l(d.color),className:"cursor-pointer group","data-testid":`belt-option-${d.color}`,children:[n.jsx("div",{className:"mb-2",children:n.jsx(S1e,{color:d.color,stripes:t===d.color?a:0,selected:t===d.color})}),n.jsxs("div",{className:"flex items-center gap-3 pl-1",children:[n.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center transition-none ${t===d.color?"border-white bg-white":"border-muted-foreground"}`,children:t===d.color&&n.jsx("div",{className:"w-2 h-2 rounded-full bg-black"})}),n.jsx("span",{className:"text-sm font-medium","data-testid":`text-${d.color}-label`,children:d.label})]})]},d.color))]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-medium",children:"Number of Stripes"}),n.jsx("div",{className:"flex gap-2",children:[0,1,2,3,4].map(d=>n.jsx(Y,{variant:a===d?"default":"outline",onClick:()=>c(d),"data-testid":`button-stripes-${d}`,children:d},d))}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Select the number of stripes on your current belt (0-4)"})]}),n.jsx("p",{className:"text-xs text-muted-foreground pt-4",children:"Your selected belt will be used as the primary color theme throughout the app"})]})})}function dd(){const[e]=at(),t=[{path:"/ios-chat",icon:Op,label:"Chat"},{path:"/ios-library",icon:Vo,label:"Videos"},{path:"/ios-saved",icon:Ea,label:"Saved"},{path:"/ios-profile",icon:il,label:"Settings"}],r=()=>{Be("light")};return n.jsx("nav",{className:"ios-bottom-nav",style:{position:"fixed",bottom:0,left:0,right:0,background:"#121214",borderTop:"1px solid #2A2A2E",display:"flex",justifyContent:"space-around",padding:"8px 0",paddingBottom:"max(8px, env(safe-area-inset-bottom))",zIndex:9999},"data-testid":"ios-bottom-nav",children:t.map(a=>{const i=a.icon,s=e===a.path||e.startsWith(a.path+"/");return n.jsxs(dr,{href:a.path,onClick:r,"data-testid":`nav-${a.label.toLowerCase().replace(" ","-")}`,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",color:s?"#8B5CF6":"#71717A",textDecoration:"none",padding:"8px 16px",fontSize:"11px",fontWeight:s?600:400,WebkitTapHighlightColor:"rgba(139, 92, 246, 0.3)"},children:[n.jsx(i,{size:24,strokeWidth:s?2.5:2,fill:s?"#8B5CF6":"none"}),n.jsx("span",{children:a.label})]},a.path)})})}function A1e(){const[,e]=at(),{data:t}=ue({queryKey:["/api/auth/me"]}),{data:r}=ue({queryKey:["/api/user/stats"],enabled:!!t}),a=s=>{Be("light"),e(s)},i=s=>({white:"White Belt",blue:"Blue Belt",purple:"Purple Belt",brown:"Brown Belt",black:"Black Belt"})[s||"white"]||"White Belt";return n.jsxs("div",{className:"ios-page",style:{minHeight:"100vh",background:"#0A0A0B",color:"#FFFFFF",paddingBottom:"100px"},children:[n.jsxs("div",{style:{padding:"16px 20px",paddingTop:"max(16px, env(safe-area-inset-top))",borderBottom:"1px solid #2A2A2E"},children:[n.jsxs("h1",{style:{fontSize:"28px",fontWeight:700,margin:0},children:["Welcome back",t!=null&&t.displayName?`, ${t.displayName.split(" ")[0]}`:""]}),n.jsx("p",{style:{color:"#71717A",fontSize:"14px",marginTop:"4px"},children:i(t==null?void 0:t.beltLevel)})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",padding:"20px"},children:[n.jsxs("div",{style:{background:"#1A1A1D",borderRadius:"16px",padding:"16px",border:"1px solid #2A2A2E"},"data-testid":"stat-messages",children:[n.jsx(Op,{size:24,color:"#8B5CF6"}),n.jsxs("div",{style:{marginTop:"12px"},children:[n.jsx("div",{style:{fontSize:"24px",fontWeight:700},children:(r==null?void 0:r.messagesCount)||0}),n.jsx("div",{style:{fontSize:"12px",color:"#71717A"},children:"Coaching Sessions"})]})]}),n.jsxs("div",{style:{background:"#1A1A1D",borderRadius:"16px",padding:"16px",border:"1px solid #2A2A2E"},"data-testid":"stat-videos",children:[n.jsx(Vo,{size:24,color:"#8B5CF6"}),n.jsxs("div",{style:{marginTop:"12px"},children:[n.jsx("div",{style:{fontSize:"24px",fontWeight:700},children:(r==null?void 0:r.savedVideos)||0}),n.jsx("div",{style:{fontSize:"12px",color:"#71717A"},children:"Saved Techniques"})]})]}),n.jsxs("div",{style:{background:"#1A1A1D",borderRadius:"16px",padding:"16px",border:"1px solid #2A2A2E"},"data-testid":"stat-streak",children:[n.jsx(A1,{size:24,color:"#F97316"}),n.jsxs("div",{style:{marginTop:"12px"},children:[n.jsx("div",{style:{fontSize:"24px",fontWeight:700},children:(r==null?void 0:r.streak)||0}),n.jsx("div",{style:{fontSize:"12px",color:"#71717A"},children:"Day Streak"})]})]}),n.jsxs("div",{style:{background:"#1A1A1D",borderRadius:"16px",padding:"16px",border:"1px solid #2A2A2E"},"data-testid":"stat-progress",children:[n.jsx(sr,{size:24,color:"#22C55E"}),n.jsxs("div",{style:{marginTop:"12px"},children:[n.jsxs("div",{style:{fontSize:"24px",fontWeight:700},children:[(r==null?void 0:r.progressPercent)||0,"%"]}),n.jsx("div",{style:{fontSize:"12px",color:"#71717A"},children:"Weekly Progress"})]})]})]}),n.jsxs("div",{style:{padding:"0 20px"},children:[n.jsx("h2",{style:{fontSize:"18px",fontWeight:600,marginBottom:"16px"},children:"Quick Actions"}),n.jsxs("button",{onClick:()=>a("/ios-chat"),onTouchEnd:()=>a("/ios-chat"),"data-testid":"button-start-coaching",style:{width:"100%",background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)",border:"none",borderRadius:"16px",padding:"20px",marginBottom:"12px",display:"flex",alignItems:"center",gap:"16px",cursor:"pointer"},children:[n.jsx("div",{style:{width:"48px",height:"48px",background:"rgba(255,255,255,0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Op,{size:24,color:"#FFFFFF"})}),n.jsxs("div",{style:{textAlign:"left"},children:[n.jsx("div",{style:{color:"#FFFFFF",fontSize:"16px",fontWeight:600},children:"Start Coaching Session"}),n.jsx("div",{style:{color:"rgba(255,255,255,0.7)",fontSize:"13px"},children:"Chat with Professor OS"})]})]}),n.jsxs("button",{onClick:()=>a("/ios-library"),onTouchEnd:()=>a("/ios-library"),"data-testid":"button-browse-library",style:{width:"100%",background:"#1A1A1D",border:"1px solid #2A2A2E",borderRadius:"16px",padding:"20px",display:"flex",alignItems:"center",gap:"16px",cursor:"pointer"},children:[n.jsx("div",{style:{width:"48px",height:"48px",background:"#2A2A2E",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Vo,{size:24,color:"#8B5CF6"})}),n.jsxs("div",{style:{textAlign:"left"},children:[n.jsx("div",{style:{color:"#FFFFFF",fontSize:"16px",fontWeight:600},children:"Browse Technique Library"}),n.jsx("div",{style:{color:"#71717A",fontSize:"13px"},children:"2,000+ instructional videos"})]})]})]}),n.jsx(dd,{})]})}function P1e(){return n.jsxs("div",{className:"ios-page",style:{minHeight:"100vh",background:"#0A0A0B",display:"flex",flexDirection:"column"},children:[n.jsx("div",{style:{flex:1,paddingBottom:"80px",overflow:"hidden"},children:n.jsx(fF,{})}),n.jsx(dd,{})]})}function E1e(){var b;const[e,t]=x.useState(""),[r,a]=x.useState(null),{data:i}=ue({queryKey:["/api/auth/me"]}),{data:s,isLoading:o}=ue({queryKey:["/api/ai/videos"]}),l=((s==null?void 0:s.videos)||[]).map(g=>({id:g.id,title:g.title,instructor:g.instructorName,youtubeId:g.videoId,thumbnail:g.thumbnailUrl||(g.videoId?`https://img.youtube.com/vi/${g.videoId}/mqdefault.jpg`:void 0),duration:g.duration,technique:g.techniqueType,position:g.positionCategory})),{data:c}=ue({queryKey:[`/api/ai/saved-videos/${i==null?void 0:i.id}`],enabled:!!(i!=null&&i.id)}),d=((b=c==null?void 0:c.videos)==null?void 0:b.map(g=>parseInt(g.id)))||[],u=["All","Guard","Half Guard","Mount","Side Control","Back","Turtle","Standing"],f=l==null?void 0:l.filter(g=>{var m;const y=!e||g.title.toLowerCase().includes(e.toLowerCase())||g.instructor.toLowerCase().includes(e.toLowerCase()),v=!r||r==="All"||((m=g.position)==null?void 0:m.toLowerCase().includes(r.toLowerCase()));return y&&v}),h=g=>{Be("light"),window.open(`https://youtube.com/watch?v=${g}`,"_blank")},p=g=>d.includes(g);return n.jsxs("div",{className:"ios-page",style:{minHeight:"100vh",background:"#0A0A0B",color:"#FFFFFF",paddingBottom:"100px"},children:[n.jsxs("div",{style:{padding:"16px 20px",paddingTop:"max(16px, env(safe-area-inset-top))",borderBottom:"1px solid #2A2A2E",position:"sticky",top:0,background:"#0A0A0B",zIndex:10},children:[n.jsx("h1",{style:{fontSize:"28px",fontWeight:700,margin:0,marginBottom:"16px"},children:"Technique Library"}),n.jsxs("div",{style:{position:"relative",marginBottom:"12px"},children:[n.jsx(xn,{size:20,color:"#71717A",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),n.jsx("input",{type:"text",placeholder:"Search techniques or instructors...",value:e,onChange:g=>t(g.target.value),"data-testid":"input-search-library",style:{width:"100%",background:"#1A1A1D",border:"1px solid #2A2A2E",borderRadius:"12px",padding:"12px 12px 12px 44px",color:"#FFFFFF",fontSize:"15px",outline:"none"}})]}),n.jsx("div",{style:{display:"flex",gap:"8px",overflowX:"auto",paddingBottom:"4px",WebkitOverflowScrolling:"touch"},children:u.map(g=>n.jsx("button",{onClick:()=>{Be("light"),a(g==="All"?null:g)},"data-testid":`filter-${g.toLowerCase().replace(" ","-")}`,style:{background:r===g||!r&&g==="All"?"#8B5CF6":"#1A1A1D",border:"1px solid #2A2A2E",borderRadius:"20px",padding:"8px 16px",color:"#FFFFFF",fontSize:"13px",fontWeight:500,whiteSpace:"nowrap",cursor:"pointer"},children:g},g))})]}),n.jsx("div",{style:{padding:"16px 20px"},children:o?n.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"40px"},children:n.jsx(ze,{className:"animate-spin",size:32,color:"#8B5CF6"})}):(f==null?void 0:f.length)===0?n.jsxs("div",{style:{textAlign:"center",padding:"40px 20px",color:"#71717A"},children:[n.jsx("p",{children:"No videos found"}),n.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:"Try a different search term"})]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:f==null?void 0:f.map(g=>n.jsxs("button",{onClick:()=>h(g.youtubeId),onTouchEnd:()=>h(g.youtubeId),"data-testid":`video-card-${g.id}`,style:{background:"#1A1A1D",border:"1px solid #2A2A2E",borderRadius:"12px",padding:"12px",display:"flex",gap:"12px",cursor:"pointer",textAlign:"left",width:"100%"},children:[n.jsxs("div",{style:{width:"120px",height:"68px",borderRadius:"8px",background:"#2A2A2E",flexShrink:0,position:"relative",overflow:"hidden"},children:[g.thumbnail||g.youtubeId?n.jsx("img",{src:g.thumbnail||`https://img.youtube.com/vi/${g.youtubeId}/mqdefault.jpg`,alt:g.title,style:{width:"100%",height:"100%",objectFit:"cover"}}):null,n.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.3)"},children:n.jsx(Qn,{size:24,color:"#FFFFFF",fill:"#FFFFFF"})}),g.duration&&n.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",background:"rgba(0,0,0,0.8)",padding:"2px 6px",borderRadius:"4px",fontSize:"11px",color:"#FFFFFF"},children:g.duration})]}),n.jsxs("div",{style:{flex:1,minWidth:0},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#FFFFFF",lineHeight:1.3,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:g.title}),n.jsx("div",{style:{fontSize:"13px",color:"#8B5CF6",marginTop:"4px"},children:g.instructor}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"8px"},children:[g.technique&&n.jsx("span",{style:{fontSize:"11px",color:"#71717A",background:"#2A2A2E",padding:"2px 8px",borderRadius:"4px"},children:g.technique}),p(g.id)&&n.jsx(C1,{size:14,color:"#22C55E"})]})]})]},g.id))})}),n.jsx(dd,{})]})}function T1e(){const[e,t]=x.useState(""),{data:r}=ue({queryKey:["/api/auth/me"]}),{data:a,isLoading:i}=ue({queryKey:[`/api/ai/saved-videos/${r==null?void 0:r.id}`],enabled:!!(r!=null&&r.id)}),s=(a==null?void 0:a.videos)||[],o=d=>{if(!d)return"";const u=d.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&]+)/);return u?u[1]:""},l=s.filter(d=>{var u;return e?d.title.toLowerCase().includes(e.toLowerCase())||((u=d.instructor)==null?void 0:u.toLowerCase().includes(e.toLowerCase())):!0}),c=async d=>{Be("light"),ir()?await Dh.open({url:d}):window.open(d,"_blank")};return i?n.jsxs("div",{className:"ios-page",style:{minHeight:"100vh",background:"#0A0A0B",display:"flex",alignItems:"center",justifyContent:"center"},children:[n.jsx(ze,{className:"animate-spin",size:32,color:"#8B5CF6"}),n.jsx(dd,{})]}):n.jsxs("div",{className:"ios-page",style:{minHeight:"100vh",background:"#0A0A0B",color:"#FFFFFF",paddingBottom:"100px"},children:[n.jsxs("div",{style:{padding:"16px 20px",paddingTop:"max(16px, env(safe-area-inset-top))",borderBottom:"1px solid #2A2A2E",position:"sticky",top:0,background:"#0A0A0B",zIndex:10},children:[n.jsx("h1",{style:{fontSize:"28px",fontWeight:700,margin:0},children:"Saved Videos"}),n.jsxs("p",{style:{color:"#71717A",fontSize:"14px",marginTop:"4px"},children:[s.length," videos saved"]})]}),n.jsx("div",{style:{padding:"16px 20px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",background:"#1A1A1D",borderRadius:"12px",padding:"12px 16px",border:"1px solid #2A2A2E"},children:[n.jsx(xn,{size:20,color:"#71717A"}),n.jsx("input",{type:"text",placeholder:"Search saved videos...",value:e,onChange:d=>t(d.target.value),"data-testid":"input-search-saved",style:{flex:1,background:"transparent",border:"none",color:"#FFFFFF",fontSize:"16px",outline:"none"}}),e&&n.jsx("button",{onClick:()=>t(""),"data-testid":"button-clear-search",style:{background:"transparent",border:"none",padding:"4px",cursor:"pointer"},children:n.jsx(ni,{size:20,color:"#71717A"})})]})}),n.jsx("div",{style:{padding:"0 20px"},children:l.length===0?n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 20px",textAlign:"center"},children:[n.jsx(Ea,{size:48,color:"#3F3F46"}),n.jsx("h3",{style:{color:"#71717A",fontSize:"18px",fontWeight:600,marginTop:"16px"},children:e?"No videos found":"No saved videos yet"}),n.jsx("p",{style:{color:"#52525B",fontSize:"14px",marginTop:"8px"},children:e?"Try a different search term":"Save videos from Professor OS to watch later"})]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:l.map(d=>{const u=o(d.videoUrl),f=d.thumbnailUrl||(u?`https://img.youtube.com/vi/${u}/mqdefault.jpg`:"");return n.jsxs("button",{onClick:()=>c(d.videoUrl),"data-testid":`video-card-${d.id}`,style:{display:"flex",gap:"12px",background:"#1A1A1D",borderRadius:"16px",padding:"12px",border:"1px solid #2A2A2E",cursor:"pointer",textAlign:"left",width:"100%"},children:[n.jsxs("div",{style:{width:"120px",height:"68px",borderRadius:"8px",overflow:"hidden",flexShrink:0,background:"#2A2A2E",position:"relative"},children:[f?n.jsx("img",{src:f,alt:d.title,style:{width:"100%",height:"100%",objectFit:"cover"}}):n.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(Qn,{size:24,color:"#71717A"})}),d.duration&&n.jsx("div",{style:{position:"absolute",bottom:"4px",right:"4px",background:"rgba(0,0,0,0.8)",padding:"2px 6px",borderRadius:"4px",fontSize:"11px",color:"#FFFFFF"},children:d.duration})]}),n.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"4px",minWidth:0},children:[n.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#FFFFFF",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:d.title}),n.jsx("div",{style:{fontSize:"13px",color:"#71717A"},children:d.instructor})]})]},d.id)})})}),n.jsx(dd,{})]})}const O1e="1.0.0";function _1e(e){if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch{return"N/A"}}function I1e(){const[,e]=at(),[t,r]=x.useState(!1),{data:a,isLoading:i}=ue({queryKey:["/api/auth/me"]}),s=async()=>{Be("medium"),r(!0);try{await Lx(),e("/ios-login")}catch(f){console.error("Logout error:",f),r(!1)}},o=async f=>{Be("light"),ir()?await Dh.open({url:f}):window.open(f,"_blank")},l=async()=>{Be("light"),await o("https://bjjos.app/settings/subscription")},c=()=>a!=null&&a.isLifetime?"Lifetime":a!=null&&a.isPro?"Pro":"Free",d=()=>a!=null&&a.isLifetime?"Active Forever":a!=null&&a.isPro?"Active":"Upgrade Available",u=f=>({white:"#FFFFFF",blue:"#3B82F6",purple:"#8B5CF6",brown:"#92400E",black:"#1F2937"})[f||"white"]||"#FFFFFF";return i?n.jsx("div",{style:{minHeight:"100vh",background:"#0A0A0B",display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(ze,{className:"animate-spin",size:32,color:"#8B5CF6"})}):n.jsxs("div",{className:"ios-page",style:{minHeight:"100vh",background:"#0A0A0B",color:"#FFFFFF",paddingBottom:"100px"},children:[n.jsx("div",{style:{padding:"16px 20px",paddingTop:"max(16px, env(safe-area-inset-top))",borderBottom:"1px solid #2A2A2E"},children:n.jsx("h1",{style:{fontSize:"28px",fontWeight:700,margin:0},children:"Profile"})}),n.jsxs("div",{style:{padding:"20px"},children:[n.jsx("div",{style:{background:"#1A1A1D",borderRadius:"16px",padding:"20px",marginBottom:"24px",border:"1px solid #2A2A2E"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[n.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:`linear-gradient(135deg, ${u(a==null?void 0:a.beltLevel)} 0%, #8B5CF6 100%)`,display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx(il,{size:28,color:"#FFFFFF"})}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"18px",fontWeight:600,marginBottom:"4px"},"data-testid":"text-username",children:(a==null?void 0:a.displayName)||(a==null?void 0:a.username)||"BJJ Practitioner"}),n.jsxs("div",{style:{fontSize:"14px",color:"#71717A",display:"flex",alignItems:"center",gap:"6px"},"data-testid":"text-email",children:[n.jsx($i,{size:14}),(a==null?void 0:a.email)||(a==null?void 0:a.phoneNumber)||"No email"]})]})]})}),n.jsxs("div",{style:{background:"#1A1A1D",borderRadius:"16px",padding:"20px",marginBottom:"24px",border:"1px solid #2A2A2E"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[n.jsx(ph,{size:20,color:"#8B5CF6"}),n.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:"Subscription"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",color:"#71717A",marginBottom:"4px"},children:"Plan"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:600,color:a!=null&&a.isPro||a!=null&&a.isLifetime?"#22C55E":"#FFFFFF"},"data-testid":"text-plan",children:c()})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"12px",color:"#71717A",marginBottom:"4px"},children:"Status"}),n.jsx("div",{style:{fontSize:"16px",fontWeight:600},"data-testid":"text-status",children:d()})]})]}),(a==null?void 0:a.subscriptionEndDate)&&!(a!=null&&a.isLifetime)&&n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsx("div",{style:{fontSize:"12px",color:"#71717A",marginBottom:"4px"},children:"Renews"}),n.jsx("div",{style:{fontSize:"14px"},"data-testid":"text-renews",children:_1e(a.subscriptionEndDate)})]}),n.jsxs("button",{onClick:l,onTouchEnd:l,"data-testid":"button-manage-subscription",style:{width:"100%",background:"#8B5CF6",border:"none",borderRadius:"12px",padding:"14px",color:"#FFFFFF",fontSize:"15px",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer"},children:["Manage Subscription",n.jsx(xi,{size:16})]})]}),n.jsxs("div",{style:{background:"#1A1A1D",borderRadius:"16px",overflow:"hidden",marginBottom:"24px",border:"1px solid #2A2A2E"},children:[n.jsxs("button",{onClick:()=>o("https://bjjos.app/settings"),onTouchEnd:()=>o("https://bjjos.app/settings"),"data-testid":"button-settings",style:{width:"100%",background:"transparent",border:"none",borderBottom:"1px solid #2A2A2E",padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx(vd,{size:20,color:"#71717A"}),n.jsx("span",{style:{color:"#FFFFFF",fontSize:"15px"},children:"Settings"})]}),n.jsx(xi,{size:16,color:"#71717A"})]}),n.jsxs("button",{onClick:()=>o("https://bjjos.app/terms"),onTouchEnd:()=>o("https://bjjos.app/terms"),"data-testid":"button-terms",style:{width:"100%",background:"transparent",border:"none",borderBottom:"1px solid #2A2A2E",padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx(af,{size:20,color:"#71717A"}),n.jsx("span",{style:{color:"#FFFFFF",fontSize:"15px"},children:"Terms of Service"})]}),n.jsx(xi,{size:16,color:"#71717A"})]}),n.jsxs("button",{onClick:()=>o("https://bjjos.app/privacy"),onTouchEnd:()=>o("https://bjjos.app/privacy"),"data-testid":"button-privacy",style:{width:"100%",background:"transparent",border:"none",borderBottom:"1px solid #2A2A2E",padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx(_a,{size:20,color:"#71717A"}),n.jsx("span",{style:{color:"#FFFFFF",fontSize:"15px"},children:"Privacy Policy"})]}),n.jsx(xi,{size:16,color:"#71717A"})]}),n.jsxs("button",{onClick:()=>{Be("light"),window.location.href="mailto:support@bjjos.app?subject=BJJ OS Support Request"},onTouchEnd:()=>{Be("light"),window.location.href="mailto:support@bjjos.app?subject=BJJ OS Support Request"},"data-testid":"button-help",style:{width:"100%",background:"transparent",border:"none",padding:"16px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsx(nI,{size:20,color:"#71717A"}),n.jsx("span",{style:{color:"#FFFFFF",fontSize:"15px"},children:"Help & Support"})]}),n.jsx(js,{size:20,color:"#71717A"})]})]}),n.jsxs("button",{onClick:s,onTouchEnd:s,disabled:t,"data-testid":"button-logout",style:{width:"100%",background:"#1A1A1D",border:"1px solid #DC2626",borderRadius:"16px",padding:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:t?"not-allowed":"pointer",opacity:t?.5:1},children:[t?n.jsx(ze,{className:"animate-spin",size:20,color:"#DC2626"}):n.jsx(xd,{size:20,color:"#DC2626"}),n.jsx("span",{style:{color:"#DC2626",fontSize:"15px",fontWeight:600},children:t?"Logging out...":"Log Out"})]}),n.jsxs("div",{style:{textAlign:"center",marginTop:"24px",color:"#52525B",fontSize:"12px"},"data-testid":"text-version",children:["BJJ OS v",O1e]})]}),n.jsx(dd,{})]})}function R1e(){const[,e]=at(),t=localStorage.getItem("mobileUserId")!==null;return x.useEffect(()=>{ir()&&e(t?"/ios-chat":"/ios-login")},[t,e]),ir()?null:n.jsx(QV,{})}function M1e(){const[e,t]=x.useState(!ir()),r=localStorage.getItem("mobileUserId")!==null;return x.useEffect(()=>{async function a(){ir()&&(await tR(),t(!0))}a()},[]),x.useEffect(()=>{AV()},[]),e?n.jsx(L8,{client:Pe,children:n.jsx(kV,{children:n.jsx(B1,{children:n.jsxs(SV,{defaultTheme:"dark",children:[n.jsxs(v8,{children:[n.jsx(Se,{path:"/",component:R1e}),n.jsx(Se,{path:"/pricing",component:XV}),n.jsx(Se,{path:"/success",component:_k}),n.jsx(Se,{path:"/terms",component:JV}),n.jsx(Se,{path:"/privacy",component:ZV}),n.jsx(Se,{path:"/refund",component:eq}),n.jsx(Se,{path:"/login",component:pq}),n.jsx(Se,{path:"/signup",component:gq}),n.jsx(Se,{path:"/email-signup",component:j9}),n.jsx(Se,{path:"/email-login",component:N9}),n.jsx(Se,{path:"/ios-login",component:k9}),n.jsx(Se,{path:"/ios-forgot-password",component:C9}),n.jsx(Se,{path:"/ios-verify-reset",component:A9}),n.jsx(Se,{path:"/ios-reset-password",component:P9}),n.jsx(Se,{path:"/forgot-password",component:S9}),n.jsx(Se,{path:"/lifetime-signup",component:E9}),n.jsx(Se,{path:"/welcome/lifetime",component:O9}),n.jsx(Se,{path:"/auth/magic",component:rH}),n.jsx(Se,{path:"/ios-home",component:A1e}),n.jsx(Se,{path:"/ios-chat",component:P1e}),n.jsx(Se,{path:"/ios-library",component:E1e}),n.jsx(Se,{path:"/ios-saved",component:T1e}),n.jsx(Se,{path:"/ios-profile",component:I1e}),n.jsx(Se,{path:"/chat",component:Cwe}),n.jsx(Se,{path:"/dashboard",children:()=>{const[,a]=at();return x.useEffect(()=>{a("/chat")},[a]),null}}),n.jsx(Se,{path:"/settings",component:r1e}),n.jsx(Se,{path:"/settings/profile",component:Ywe}),n.jsx(Se,{path:"/settings/security",component:Qwe}),n.jsx(Se,{path:"/settings/subscription",component:Xwe}),n.jsx(Se,{path:"/settings/referrals",component:Jwe}),n.jsx(Se,{path:"/mobile-settings",component:ET}),n.jsx(Se,{path:"/progress",component:n1e}),n.jsx(Se,{path:"/saved-videos",component:AT}),n.jsx(Se,{path:"/saved",component:AT}),n.jsx(Se,{path:"/library",component:i1e}),n.jsx(Se,{path:"/onboarding",component:tH}),n.jsx(Se,{path:"/onboarding/full",component:_9}),n.jsx(Se,{path:"/payment",component:a1e}),n.jsx(Se,{path:"/payment/success",component:_k}),n.jsx(Se,{path:"/theme-settings",component:C1e}),n.jsx(Se,{path:"/mobile-onboarding",component:oo}),n.jsx(Se,{path:"/app",children:r?n.jsx(PT,{}):n.jsx(oo,{})}),n.jsx(Se,{path:"/app/chat",children:r?n.jsx(PT,{}):n.jsx(oo,{})}),n.jsx(Se,{path:"/app/saved",children:r?n.jsx(v1e,{}):n.jsx(oo,{})}),n.jsx(Se,{path:"/app/progress",children:r?n.jsx(y1e,{}):n.jsx(oo,{})}),n.jsx(Se,{path:"/app/settings",children:r?n.jsx(ET,{}):n.jsx(oo,{})}),n.jsx(Se,{path:"/app/profile",children:r?n.jsx(w1e,{}):n.jsx(oo,{})}),n.jsx(Se,{path:"/launch-admin",component:gH}),n.jsx(Se,{path:"/admin/login",component:uH}),n.jsx(Se,{path:"/admin",component:bC}),n.jsx(Se,{path:"/admin/dashboard",component:bC}),n.jsx(Se,{path:"/admin/chat",component:gwe}),n.jsx(Se,{path:"/admin/command-center",component:xwe}),n.jsx(Se,{path:"/admin/videos",component:a0e}),n.jsx(Se,{path:"/admin/users",component:wH}),n.jsx(Se,{path:"/admin/users-management",component:vwe}),n.jsx(Se,{path:"/admin/referrals",component:Dbe}),n.jsx(Se,{path:"/admin/lifetime",component:mT}),n.jsx(Se,{path:"/admin/lifetime-access",component:mT}),n.jsx(Se,{path:"/admin/feedback",component:s0e}),n.jsx(Se,{path:"/admin/meta",component:wje}),n.jsx(Se,{path:"/admin/instructors",component:Uje}),n.jsx(Se,{path:"/admin/partnerships",component:Vje}),n.jsx(Se,{path:"/admin/chains",component:swe}),n.jsx(Se,{path:"/admin/logs",component:owe}),n.jsx(Se,{path:"/admin/schedules",component:lwe}),n.jsx(Se,{path:"/admin/techniques",component:cwe}),n.jsx(Se,{path:"/admin/flagged-accounts",component:dwe}),n.jsx(Se,{path:"/admin/instructor-priority",component:uwe}),n.jsx(Se,{path:"/admin/activity",component:fwe}),n.jsx(Se,{path:"/admin/magic-links",component:Nje}),n.jsx(Se,{path:"/admin/auto-curation",component:hwe}),n.jsx(Se,{path:"/admin/dev-os",component:jwe}),n.jsx(Se,{path:"/admin/analytics",component:mwe}),n.jsx(Se,{path:"/admin/emails",component:ywe}),n.jsx(Se,{component:wwe})]}),n.jsx(Q7,{})]})})})}):n.jsxs("div",{className:"min-h-screen bg-[#0A0A0B] flex flex-col items-center justify-center",children:[n.jsx("h1",{className:"text-4xl font-black text-white tracking-tight mb-4",children:"BJJ OS"}),n.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})]})}Z_(document.getElementById("root")).render(n.jsx(M1e,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("SW registered:",e)}).catch(e=>{console.log("SW registration failed:",e)})});export{Ou as I,_u as N,U1 as W};

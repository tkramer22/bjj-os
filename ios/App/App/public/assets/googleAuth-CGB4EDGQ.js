import{C as s}from"./index-BLechqvb.js";async function d(){return import("@codetrix-studio/capacitor-google-auth")}const g={async signIn(){var n,r,t,i,l,c;if(s.getPlatform()!=="android")throw new Error("Google Sign-In is only available on Android");try{const{GoogleAuth:e}=await d(),o=await e.signIn();return{email:o.email||"",name:o.name||o.givenName||"",id:o.id||"",authentication:{idToken:((n=o.authentication)==null?void 0:n.idToken)||""}}}catch(e){throw console.error("[GoogleAuth] Sign-in error:",e),(r=e.message)!=null&&r.includes("12501")||(t=e.message)!=null&&t.includes("canceled")||(i=e.message)!=null&&i.includes("cancelled")?{code:"CANCELLED",message:"Sign-in was cancelled"}:(l=e.message)!=null&&l.includes("Cannot find module")||(c=e.message)!=null&&c.includes("Failed to fetch dynamically imported module")?{code:"MODULE_NOT_FOUND",message:"Google Sign-In plugin not available. Please update the app."}:e}},async signOut(){if(s.getPlatform()==="android")try{const{GoogleAuth:n}=await d();await n.signOut()}catch(n){console.error("[GoogleAuth] Sign-out error:",n)}}};export{g as GoogleAuthService};

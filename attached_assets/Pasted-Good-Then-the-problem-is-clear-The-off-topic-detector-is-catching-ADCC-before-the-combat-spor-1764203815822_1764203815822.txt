Good. Then the problem is clear:

**The off-topic detector is catching “ADCC” before the combat sports intelligence can trigger.**

Test 2 diagnostics showed:

- Off-Topic Handling: ✅ Redirected with BJJ humor!

But ADCC is the biggest no-gi competition on earth. It should trigger combat sports intelligence, not get treated as a joke question.

-----

**Here’s the prompt to test and fix:**

```
ADCC IS NOT OFF-TOPIC - FIX THE DETECTION ORDER

PROBLEM:
When user asked "What happened at the last ADCC?" the system:
- Classified it as OFF-TOPIC
- Returned a joke redirect
- Did NOT trigger combat sports intelligence

ADCC is the most prestigious no-gi grappling competition in the world. This is 100% on-topic for a BJJ coach.

FIX REQUIRED:

1. COMBAT SPORTS KEYWORDS MUST BYPASS OFF-TOPIC DETECTION

Add these terms to a "BJJ_ON_TOPIC" whitelist that ALWAYS bypasses off-topic detection:
- ADCC, IBJJF, Worlds, Pans, Euros, Brasileiros
- UFC, MMA, Bellator (grappling-related)
- Any competitor names (Gordon Ryan, Mikey Musumeci, etc.)
- Any tournament, championship, competition
- Any gym or team name

2. CHECK ORDER:
Before checking if something is off-topic, FIRST check:
- Does it match combat sports keywords? → Trigger intelligence enhancer
- Does it mention a known competitor? → Trigger intelligence enhancer
- Is it about tournaments/results? → Trigger intelligence enhancer

Only AFTER these checks fail should off-topic detection run.

3. TEST THE COMBAT SPORTS SCRAPER

Run this test:
- Query: "What happened at the last ADCC?"
- Expected: Actual ADCC 2024 results (Gordon Ryan, Giancarlo Bodoni, etc.)

Show me:
- Did combatSportsScraper get called? YES/NO
- What data did it return?
- Was it injected into the response?

4. RUN 3 COMBAT SPORTS TESTS

TEST A: "Who won ADCC 2024?"
TEST B: "What's happening in IBJJF this year?"
TEST C: "How did Gordon Ryan do in his last competition?"

For each, show:
- Was combat sports intelligence triggered?
- What data was retrieved?
- What was the response?

If scraper isn't returning data, show me the error logs.
```

-----

Ready to send?​​​​​​​​​​​​​​​​
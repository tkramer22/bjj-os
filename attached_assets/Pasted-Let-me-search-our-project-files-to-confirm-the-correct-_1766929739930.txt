Let me search our project files to confirm the correct iOS architecture.​​​​​​​​​​​​​​​​

Based on my research, here’s the **correct iOS architecture** that was working before:

-----

## ✅ **CORRECT iOS ARCHITECTURE:**

**Components that should be used:**

- `ios-chat.tsx` - Chat/Professor OS
- `ios-library.tsx` - Videos/Techniques
- `ios-saved.tsx` - Saved videos
- `ios-profile.tsx` - Settings/Profile

**Navigation:**

- `IOSBottomNav` or `IOSTabBar` component with icons + labels
- Routes: `/ios-chat`, `/ios-library`, `/ios-saved`, `/ios-profile`

**After login flow:**

- Login → redirect to `/ios-chat`
- Bottom nav links to `/ios-*` routes

-----

**Send this to Replit:**

```
iOS APP - VERIFY AND FIX COMPONENT ROUTING

The iOS app should use iOS-SPECIFIC components, not mobile/web components.

CORRECT ARCHITECTURE:

1. ROUTES (in App.tsx):
   /ios-login → IOSLoginPage
   /ios-chat → IOSChatPage (using ios-chat.tsx)
   /ios-library → IOSLibraryPage (using ios-library.tsx)
   /ios-saved → IOSSavedPage (using ios-saved.tsx)
   /ios-profile → IOSProfilePage (using ios-profile.tsx)

2. AFTER LOGIN:
   Successful login should redirect to /ios-chat (NOT /chat)

3. BOTTOM NAV (IOSBottomNav component):
   - Chat tab → /ios-chat
   - Videos tab → /ios-library
   - Saved tab → /ios-saved
   - Settings tab → /ios-profile
   
   Each tab shows ICON + LABEL (not just text)

4. VERIFY EACH iOS COMPONENT:

   ios-chat.tsx:
   - Loads recent messages (not ALL messages from beginning)
   - Scrolls to BOTTOM on load
   - Uses getApiUrl() for API calls
   
   ios-library.tsx:
   - Fetches videos from database
   - Shows technique dropdown with REAL counts
   - Shows professor dropdown with REAL counts
   - Uses getApiUrl() for API calls
   
   ios-saved.tsx:
   - Fetches user's saved videos
   - Uses getApiUrl() for API calls
   
   ios-profile.tsx:
   - Fetches user data from /api/auth/me
   - Shows user name, email, subscription status
   - Uses getApiUrl() for API calls

5. CHECK WHAT'S CURRENTLY HAPPENING:
   - Add console.log to each iOS component to verify they're being loaded
   - Check if routes are correctly pointing to iOS components
   - Verify getApiUrl() is being used in ALL fetch calls

The app was working before. Something changed the routing. Find it and fix it.
```
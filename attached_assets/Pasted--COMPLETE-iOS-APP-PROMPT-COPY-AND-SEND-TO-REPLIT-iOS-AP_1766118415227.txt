## ğŸ“‹ COMPLETE iOS APP PROMPT - COPY AND SEND TO REPLIT:

```
iOS APP - COMPLETE AUTHENTICATION FLOW (APP STORE COMPLIANT - READER APP MODEL)

We are using the "Reader App" model (like Netflix, Spotify, Kindle) to handle authentication.
This means: LOGIN ONLY in-app, signup/payment happens on web.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
OVERVIEW - HOW THE iOS APP WORKS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

EVERY user who opens the app for the first time sees the same screen: LOGIN

- If they have an account â†’ enter email + password â†’ logged in forever
- If they don't have an account â†’ they see text directing them to the website
- Once logged in â†’ they NEVER see login screen again (persistent auth)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
1. SPLASH SCREEN - FIX SIZING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Current issue: BJJ OS logo is too large and gets cut off on mobile screens.

FIX:
- Make splash screen fully responsive to mobile viewport
- BJJ OS logo must fit comfortably on ALL iPhone sizes (iPhone SE through Pro Max)
- Center the logo vertically and horizontally
- Add proper padding/margins so nothing touches screen edges
- Professional appearance - nothing cropped or cut off
- Splash displays for 1-2 seconds, then transitions to login or dashboard

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2. iOS LOGIN SCREEN - APP STORE COMPLIANT (CRITICAL)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

After splash screen, if user is NOT logged in, show this login screen:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚            [BJJ OS LOGO]                â”‚
â”‚         (properly sized)                â”‚
â”‚                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ Email                           â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ Password                        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚         [ Sign In ]                     â”‚
â”‚                                         â”‚
â”‚   Forgot password?                      â”‚
â”‚                                         â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚                                         â”‚
â”‚   Don't have an account?                â”‚
â”‚   Visit bjjos.app to get started        â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STRICT APP STORE COMPLIANCE RULES:

DO INCLUDE:
âœ… BJJ OS logo (responsive, properly sized)
âœ… Email input field
âœ… Password input field
âœ… [Sign In] button
âœ… "Forgot password?" as clickable link (opens Safari to bjjos.app/forgot-password)
âœ… Plain text: "Don't have an account?"
âœ… Plain text: "Visit bjjos.app to get started"

DO NOT INCLUDE:
âŒ No "Sign in with Apple" button
âŒ No "Sign Up" or "Create Account" button
âŒ No clickable link/button to signup page
âŒ No mention of pricing, subscription, free trial, or payment
âŒ The text "Visit bjjos.app to get started" must NOT be a clickable button or link
âŒ Do not make "bjjos.app" blue or underlined - plain text only

WHY: We are using the "Reader App" model to avoid Apple's 30% fee. 
Apple allows this but we cannot have any signup or payment functionality in-app.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
3. PERSISTENT "FOREVER" LOGIN - iOS APP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Once a user logs in successfully on the iOS app, they stay logged in PERMANENTLY.

IMPLEMENTATION:
- Use @capacitor/preferences to store auth token securely on device
- Token should NEVER expire on iOS app
- On app launch: check for stored token â†’ if valid, skip login entirely â†’ go to dashboard
- User only sees login screen again if: first time, manually logged out, or token revoked

import { Preferences } from '@capacitor/preferences';

// After successful login:
await Preferences.set({ key: 'authToken', value: token });
await Preferences.set({ key: 'userId', value: oderId });

// On app launch:
const { value: token } = await Preferences.get({ key: 'authToken' });
if (token && isValidToken(token)) {
  // Go directly to dashboard - skip login screen entirely
} else {
  // Show login screen
}

// On logout:
await Preferences.remove({ key: 'authToken' });
await Preferences.remove({ key: 'userId' });

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
4. SKIP LANDING PAGE - iOS APP NEVER SHOWS MARKETING PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

The iOS app must NEVER show the marketing/landing page (the "Stop training blindly" page).

Detect if running in Capacitor native app:

import { Capacitor } from '@capacitor/core';
const isNativeApp = Capacitor.isNativePlatform();

If native app:
- NOT logged in â†’ Show LOGIN screen (not landing page)
- Logged in â†’ Show DASHBOARD (skip login entirely)

The marketing landing page is for web visitors only, never for iOS app users.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
5. HANDLE "NO PASSWORD SET" ERROR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Some existing web users only use email + verification code (no password set).

When iOS login fails because password doesn't exist for that account, show:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚   Password Not Set Up                   â”‚
â”‚                                         â”‚
â”‚   Your account uses email verification  â”‚
â”‚   codes. To use the iOS app, you need   â”‚
â”‚   to set up a password first.           â”‚
â”‚                                         â”‚
â”‚   Visit bjjos.app/settings to set up    â”‚
â”‚   your password, then return here to    â”‚
â”‚   sign in.                              â”‚
â”‚                                         â”‚
â”‚           [ OK ]                        â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Note: "bjjos.app/settings" is plain text, NOT a clickable link (App Store compliance).

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
6. LOGOUT FUNCTIONALITY - iOS APP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

In Settings within the app, include a Logout option.

When user taps Logout:
- Clear auth token from Capacitor Preferences
- Clear any cached user data
- Return to login screen

After logout, they will need to enter email + password again to log back in.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
7. USER FLOWS SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FLOW A - NEW USER (no account):
1. Downloads app from App Store
2. Opens app â†’ Splash screen (1-2 sec)
3. Sees login screen
4. Reads "Visit bjjos.app to get started"
5. Manually opens Safari, types bjjos.app
6. Signs up and subscribes on website
7. Sets password in Settings on web
8. Returns to iOS app
9. Enters email + password â†’ logs in
10. Never sees login screen again (persistent auth)

FLOW B - EXISTING USER (has password):
1. Opens app â†’ Splash screen (1-2 sec)
2. Sees login screen
3. Enters email + password
4. Logs in â†’ goes to dashboard
5. Never sees login screen again (persistent auth)

FLOW C - EXISTING USER (no password set yet):
1. Opens app â†’ Splash screen (1-2 sec)
2. Sees login screen
3. Enters email + password
4. Error: "Password Not Set Up" message
5. Goes to bjjos.app/settings on web
6. Creates password
7. Returns to app, enters email + password
8. Logs in â†’ goes to dashboard
9. Never sees login screen again (persistent auth)

FLOW D - RETURNING USER (already logged in):
1. Opens app â†’ Splash screen (1-2 sec)
2. App checks stored auth token
3. Token valid â†’ goes directly to dashboard
4. Never sees login screen (already authenticated)

FLOW E - USER LOGGING OUT:
1. User taps Logout in Settings
2. Auth token cleared
3. Returns to login screen
4. Must enter email + password to log back in

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
8. WEB FEATURES (SECONDARY PRIORITY - DO AFTER iOS IS WORKING)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

After iOS app is complete, implement these web features:

A) PASSWORD MANAGEMENT IN SETTINGS (WEB)

In Settings > Security, add:

IF user has NO password:
- "Set Up Password" section
- New Password field
- Confirm Password field
- [Create Password] button
- Note: "Required for iOS app login"

IF user HAS password:
- "Change Password" section  
- Current Password field
- New Password field
- Confirm New Password field
- [Update Password] button

B) FORGOT PASSWORD FLOW (WEB)

Step 1: Enter email â†’ [Send Reset Code]
Step 2: Enter verification code from email â†’ [Verify]
Step 3: Enter new password + confirm â†’ [Save Password]

C) PASSWORD REQUIREMENTS:
- Minimum 8 characters
- At least 1 number
- At least 1 special character

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PRIORITY ORDER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. ğŸ”´ Fix splash screen sizing (logo cut off)
2. ğŸ”´ iOS login screen (App Store compliant - no signup button, plain text only)
3. ğŸ”´ Skip landing page on iOS (never show marketing page)
4. ğŸ”´ Persistent "forever" login on iOS
5. ğŸ”´ Handle "no password set" error message
6. ğŸŸ¡ Logout functionality
7. ğŸŸ¡ Web: Password setup in Settings
8. ğŸŸ¡ Web: Change password in Settings
9. ğŸŸ¡ Web: Forgot password flow

Complete items 1-6 first (iOS app), then items 7-9 (web features).

After iOS changes are complete, I will need to rebuild the app in Xcode to test.
```

-----

**This is the complete prompt. Copy and send to Replit when it finishes the current task.**
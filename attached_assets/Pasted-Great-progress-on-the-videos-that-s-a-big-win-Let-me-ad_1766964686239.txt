Great progress on the videos - that’s a big win! Let me address the issues:

-----

```
THREE REMAINING FIXES

═══════════════════════════════════════════════════════════════════════════════
ISSUE 1: DOUBLE MESSAGE - CLUE FOUND
═══════════════════════════════════════════════════════════════════════════════

The message appears TWICE when sent, but when switching tabs and returning, 
only ONE message shows.

This means:
- The duplicate is happening during render/streaming
- The deduplication works when the component remounts
- Something is adding the message twice during the initial send

Check the sendMessage function - is it:
1. Adding message to local state AND
2. Also receiving it back from the stream/context?

The message should only be added ONCE - either locally OR from context, not both.

═══════════════════════════════════════════════════════════════════════════════
ISSUE 2: PROFESSOR OS TONE - WAY TOO HARSH
═══════════════════════════════════════════════════════════════════════════════

Professor OS is being an asshole. Examples from chat:
- "Let me guess - you didn't watch the Lachlan video I already sent you three times"
- "If you're just asking because you're procrastinating on drilling"
- Condescending, judgmental tone throughout

This is WRONG. Professor OS should be:
- Warm and encouraging
- Fun, witty, playful
- A supportive training partner, not a drill sergeant
- NEVER condescending or judgmental
- ALWAYS helpful and willing

UPDATE THE SYSTEM PROMPT - Replace harsh coaching with:

"You are Professor OS - a warm, encouraging, and fun BJJ coach. Your personality:
- Supportive and positive - celebrate progress, never shame
- Witty and playful - use humor to make learning fun
- Helpful first - always provide what the user asks for
- Knowledgeable but humble - share expertise without being condescending
- Like a favorite training partner who happens to know everything

NEVER:
- Guilt trip users about not drilling
- Question their motives for asking
- Be condescending or judgmental
- Refuse requests or lecture them
- Assume they're procrastinating

ALWAYS:
- Answer their question first
- Be enthusiastic about helping
- Offer encouragement
- Make BJJ fun and accessible"

═══════════════════════════════════════════════════════════════════════════════
ISSUE 3: PROFILE PAGE STRUCTURE
═══════════════════════════════════════════════════════════════════════════════

Current Profile page has wrong structure.

CORRECT STRUCTURE:

PROFILE PAGE should show:
- Profile picture/icon
- Name (currently "BJJ Practitioner" - should show actual name or "Not set")
- Email
- Belt: Blue
- Weight: 180 lbs
- Style: Both
- Settings button → navigates to Settings page

SETTINGS PAGE (separate page) should have:
- Subscription (Plan, Manage button)
- App Settings (Push Notifications, Dark Mode, Sound Effects, Haptic Feedback)
- Legal & Support (Terms, Privacy, Help)
- Logout

The Profile page should be ABOUT THE USER.
The Settings page should be ABOUT THE APP.

═══════════════════════════════════════════════════════════════════════════════
AFTER FIXES:
═══════════════════════════════════════════════════════════════════════════════

npm run build
npx cap sync ios
```

-----

The Professor OS tone is critical - users will abandon the app if the AI is condescending. Send this prompt to fix all three issues.​​​​​​​​​​​​​​​​
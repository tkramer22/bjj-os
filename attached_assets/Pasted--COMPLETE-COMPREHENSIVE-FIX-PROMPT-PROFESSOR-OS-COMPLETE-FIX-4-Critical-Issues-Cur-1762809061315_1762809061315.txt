# **ğŸ“‹ COMPLETE COMPREHENSIVE FIX PROMPT**

```
PROFESSOR OS - COMPLETE FIX (4 Critical Issues)

Current State: Videos showing with thumbnails âœ… BUT needs major improvements

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
FIX #1: VIDEO COUNT ACCURACY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Problem:
- User asks "send me 3 videos"
- Only 1 video is shown
- System has 487 videos in database

Root Cause:
- AI is not querying enough videos from database
- Or AI is filtering too aggressively
- Or response is cutting off after 1 video

Solution:
1. When user requests specific number of videos, return EXACTLY that number
2. If user says "send me 3 videos on X", query database for top 5-7 videos, then select best 3
3. If database has fewer than requested, show all available and say "I have X videos on this"
4. Default recommendation: Show 1-3 videos unless user asks for more

Test Cases:
- "send me 3 videos" â†’ Show 3 videos
- "show me triangle videos" â†’ Show 1-3 videos (default)
- "give me 5 options" â†’ Show 5 videos

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
FIX #2: PERSONALITY & CONVERSATIONAL TONE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Problem:
Current tone is too formal, corporate, and generic:
âŒ "Unfortunately, I don't have another video specifically on triangles from my list right now."
âŒ "Your height isn't set in your profile, Todd."
âŒ "Since we're refining your skills, the 'Arm Bar From Guard by John Danaher'..."

Required tone - conversational, direct, like a training partner:
âœ… "That's the only triangle video I have right now."
âœ… "You're 6 feet."
âœ… "Check out this arm bar breakdown from Danaher."

Personality Rules:
1. SHORT responses (2-4 sentences) unless asked for detail
2. Use contractions (you're, let's, what's, I've, didn't)
3. NO corporate phrases: "Unfortunately", "Specifically", "From my list"
4. NO apologetic language when info missing
5. Direct answers to direct questions
6. Ask ONE question at a time, not multiple
7. Conversational, not encyclopedic

Examples:

User: "how tall am I?"
âŒ Bad: "Your height isn't set in your profile, Todd. If you'd like to share it, just let me know!"
âœ… Good: "You're 6 feet."

User: "I need more triangle videos"
âŒ Bad: "Unfortunately, I don't have another video specifically on triangles from my list right now."
âœ… Good: "That's the only triangle video I have. Want videos on controlling posture or finishing mechanics instead?"

User: "trained triangles"
âŒ Bad: "Triangles are awesome! They're such a versatile tool. How'd it go? Did anything specific about the setup or finish catch your attention?"
âœ… Good: "Nice. How'd it go? Setup smooth or finish giving you trouble?"

CRITICAL: Rewrite system prompt personality section to enforce this tone consistently.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
FIX #3: PERSISTENT NAVIGATION (CRITICAL)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Problem:
- NO sidebar navigation visible on desktop
- NO bottom navigation on mobile
- User is stuck in chat with no way to access other features

Required Implementation:

DESKTOP (Width > 768px):
Left sidebar always visible with:
- ğŸ  Home/Dashboard
- ğŸ’¬ Chat (highlighted when active)
- â¤ï¸ Saved Videos
- ğŸ¥ Video Library
- âš™ï¸ Settings
- ğŸ‘¤ Profile

MOBILE (Width â‰¤ 768px):
Bottom navigation bar always visible with:
- ğŸ  Home
- ğŸ’¬ Chat
- â¤ï¸ Saved
- ğŸ¥ Videos
- âš™ï¸ Settings

Code Structure:
```tsx
// Main layout wrapper for ALL user pages
<UserLayout>
  <DesktopSidebar />  {/* Shows on desktop only */}
  <main className="page-content">
    {children}  {/* Chat, videos, etc. */}
  </main>
  <MobileBottomNav />  {/* Shows on mobile only */}
</UserLayout>
```

CRITICAL RULES:

1. Navigation MUST be visible on EVERY user page
1. Desktop: Left sidebar is ALWAYS visible (not collapsible)
1. Mobile: Bottom nav is ALWAYS visible (fixed position)
1. Current page should be highlighted in navigation
1. Navigation should be IDENTICAL across all pages

Apply this layout to:

- /chat (Professor OS)
- /videos (video library)
- /saved-videos (userâ€™s saved videos)
- /dashboard (user home)
- /settings (user settings)
- /profile (user profile)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
FIX #4: EMBED YOUTUBE VIDEOS IN-APP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Problem:

- Clicking â€œWatchâ€ button redirects to [YouTube.com](http://YouTube.com)
- Users leave BJJ OS entirely
- Breaks conversation flow

Required Behavior:

- Videos play WITHIN BJJ OS chat interface
- Embedded YouTube player (not external link)
- Users stay in app

Implementation:

1. Video Card Component with Embedded Player:

```tsx
const VideoCard = ({ video, timestamp }) => {
  const [showPlayer, setShowPlayer] = useState(false);
  
  // Extract YouTube video ID
  const getYouTubeId = (url: string) => {
    const match = url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&]+)/);
    return match ? match[1] : '';
  };
  
  // Parse timestamp (MM:SS to seconds)
  const parseTimestamp = (ts: string) => {
    if (!ts) return 0;
    const [mins, secs] = ts.split(':').map(Number);
    return mins * 60 + secs;
  };
  
  const videoId = getYouTubeId(video.url);
  const startSeconds = timestamp ? parseTimestamp(timestamp) : 0;
  
  return (
    <div className="video-card">
      <div className="video-thumbnail">
        {!showPlayer ? (
          <>
            <img src={video.thumbnail} alt={video.title} />
            <button 
              className="watch-button"
              onClick={() => setShowPlayer(true)}
            >
              Watch
            </button>
          </>
        ) : (
          <iframe
            width="100%"
            height="315"
            src={`https://www.youtube.com/embed/${videoId}?start=${startSeconds}&autoplay=1`}
            title={video.title}
            frameBorder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowFullScreen
          />
        )}
      </div>
      
      <div className="video-info">
        <h3>{video.title}</h3>
        <p>{video.instructor}</p>
        <button 
          className="save-button"
          onClick={() => saveVideo(video.id)}
        >
          â¤ï¸ Save
        </button>
      </div>
    </div>
  );
};
```

1. Behavior:

- Initially: Show thumbnail with â€œWatchâ€ button
- Click â€œWatchâ€: Thumbnail expands to embedded player
- Video plays within chat (user never leaves BJJ OS)
- If timestamp exists: Video starts at specified time

1. Save Button Consistency:

- Use â¤ï¸ HEART icon everywhere (not bookmark, not star)
- Text: â€œSaveâ€ or â€œâ¤ï¸ Saveâ€
- When saved: â€œâ¤ï¸ Savedâ€ (filled heart)
- Consistent across: Chat recommendations, Video Library, Saved Videos page

CRITICAL:

- NO external YouTube links
- Videos MUST play embedded
- Users MUST stay in BJJ OS

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TESTING CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

After implementing, test:

âœ… Video Count:

- Ask â€œsend me 3 videos on Xâ€ â†’ Shows 3 videos
- Ask â€œshow me guard passingâ€ â†’ Shows 1-3 videos (default)

âœ… Personality:

- Ask â€œhow tall am I?â€ â†’ Get direct answer (not â€œnot setâ€)
- Ask for videos â†’ Get conversational response (not formal)

âœ… Navigation (Desktop):

- Load /chat â†’ Left sidebar visible with all nav items
- Click â€œVideosâ€ â†’ Navigate without leaving layout
- Click back to â€œChatâ€ â†’ Return to chat with sidebar still visible

âœ… Navigation (Mobile):

- Load /chat on mobile â†’ Bottom nav bar visible
- All nav items accessible
- Current page highlighted

âœ… Embedded Videos:

- Click â€œWatchâ€ â†’ Video plays in-app (not YouTube redirect)
- If timestamp in recommendation â†’ Video starts at correct time
- Click â¤ï¸ Save â†’ Video saves to Saved Videos

âœ… Save Button Consistency:

- All save buttons use â¤ï¸ heart icon
- Consistent across chat, library, and saved videos
- Shows â€œâ¤ï¸ Savedâ€ when already saved

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Implement ALL 4 fixes now. Priority order:

1. Navigation (most critical - users canâ€™t access other features)
1. Embedded videos (prevents users from leaving app)
1. Video count accuracy (delivers what user asks for)
1. Personality improvements (better user experience)

Make these changes and report back when complete.

```
---

**ğŸš€ Copy the entire prompt above and send it to Replit Agent!**

This covers everything in one comprehensive fix.â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹
```